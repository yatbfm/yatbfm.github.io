[{"title":"LeetCode Hot100","url":"/e7148ec94978/leetcode-hot100/","content":"\nç››æœ€å¤šæ°´çš„å®¹å™¨\nhttps://leetcode.cn/problems/container-with-most-water/?envType=study-plan-v2&amp;envId=top-100-liked\nå¦‚æœä½¿ç”¨ä¸¤å±‚forå¾ªç¯ä¼šå¯¼è‡´è¶…æ—¶ã€‚\nä½¿ç”¨åŒæŒ‡é’ˆä»å·¦å³è¾¹ç•Œå‘å†…æ”¶ç¼©ï¼Œä¾æ¬¡ç¼©å‡èŒƒå›´ï¼Œç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡ï¼Œå…·ä½“æ”¶ç¼©æ­¥éª¤ï¼š\n\n\nè®¡ç®—ä½“ç§¯ï¼Œæ¯”è¾ƒå¤§å°\næ¯”è¾ƒå·¦å³æŒ‡é’ˆæ‰€åœ¨ä½ç½®çš„é«˜åº¦\né«˜åº¦ä½çš„å‘å†…æ”¶ç¼©\n\nğŸ° è¯æ˜ï¼š\nå‡è®¾å·¦å³æŒ‡é’ˆåˆ†åˆ«ä¸ºi, jæ‰€åœ¨ä½ç½®çš„é«˜åº¦ä¸ºx, yï¼Œç”¨S(i, j)è¡¨ç¤ºæŒ‡é’ˆä½ç½®å½¢æˆçš„ä½“ç§¯å¤§å°ã€‚è¿™é‡Œå‡è®¾x &lt; yã€‚å¦‚æœæŒ‰ç…§ä¸Šè¿°æ”¶ç¼©æ€è·¯çš„è¯ï¼Œåº”è¯¥æ˜¯iå‘å³ç§»ï¼Œå½¢æˆçš„ä½“ç§¯å¤§å°æ˜¯S(i + 1, j)ã€‚è¿™é‡Œä¼šæœ‰ç–‘é—®çš„æ˜¯ä¸¢å¤±äº†S(i, j - 1), S(i, j - 2), ..., S(i, i + 1)çš„çŠ¶æ€ã€‚ä¸‹é¢è¯æ˜è¿™äº›çŠ¶æ€éƒ½å°äºS(i, j)ã€‚\né¦–å…ˆè®¾j - içš„é•¿åº¦ä¸ºwï¼Œç„¶åä¸¢å¤±çŠ¶æ€çš„æ‰€æœ‰å®¹å™¨çš„é•¿åº¦(j - t) - iè®¾ä¸ºw'éƒ½ä¸€å®šå°äºwã€‚\nä¸¢å¤±çŠ¶æ€ä¸­çš„iæŒ‡é’ˆä¸åŠ¨ï¼Œé«˜åº¦ä¸ºxï¼Œå³æŒ‡é’ˆå‘å†…æ”¶ç¼©ï¼Œé«˜åº¦è®¾ä¸ºy'ï¼Œå¯ä»¥çŸ¥é“y'å’Œyçš„å¤§å°å…³ç³»ä¸ç¡®å®šã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\n\ny' &gt; yï¼Œé‚£ä¹ˆS(i, j - t)çš„ä½“ç§¯ä¸ºw' * xï¼Œä¸€å®šå°äºS(i, j) = w * xã€‚\ny' &lt;= yï¼Œé‚£ä¹ˆS(i, j - t)çš„ä½“ç§¯ä¸ºmin(x, y') * w'\n\nx &gt; y'ï¼ŒS(i, j - t) = y' * w'ä¸€å®šå°äºw * x\nx &lt;= y'ï¼ŒS(i, j - t) = x * w'ä¸€å®šå°äºw * x\n\n\næ‰€ä»¥å¦‚æœç§»åŠ¨é«˜ä½ç½®çš„æŒ‡é’ˆï¼Œä¸€å®šä¼šå¯¼è‡´å®¹å™¨ä½“ç§¯å‡å°ï¼Œç§»åŠ¨ä½ä½ç½®çš„å¯èƒ½ä¼šä½¿å¾—å®¹å™¨ä½“ç§¯å¢å¤§ã€‚\nclass Solution {    public int maxArea(int[] height) {        int result = 0;        for (int i = 0, j = height.length - 1; i &lt; j;) {            result = Math.max(result, Math.min(height[i], height[j]) * (j - i));            if (height[i] &lt; height[j]) {                i++;            } else {                j--;            }        }        return result;    }}\nä¸‰æ•°ä¹‹å’Œ\nhttps://leetcode.cn/problems/3sum/description/?envType=study-plan-v2&amp;envId=top-100-liked\nå¦‚æœä½¿ç”¨ä¸‰å±‚forå¾ªç¯ä¼šè¶…æ—¶ã€‚\nè¿™é‡Œä½¿ç”¨åŒæŒ‡é’ˆï¼Œé¦–å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åå›ºå®šæŒ‡é’ˆkï¼Œå–å¦å¤–ä¸¤ä¸ªæŒ‡é’ˆi jåˆ†åˆ«åœ¨k + 1, nums.length - 1çš„ä½ç½®ï¼Œç„¶ååˆ¤æ–­ï¼š\n\nnums[k] + nums[i] + nums[j] &gt; 0åˆ™æ•´ä½“åå¤§ï¼Œéœ€è¦å‡å°ï¼Œå¯ä»¥è®©j--\nnums[k] + nums[i] + nums[j] &lt; 0åˆ™æ•´ä½“åå°ï¼Œéœ€è¦å¢å¤§ï¼Œå¯ä»¥è®©i++\nå¦åˆ™æ»¡è¶³æ¡ä»¶ï¼ŒåŠ å…¥ç»“æœåˆ—è¡¨\n\nè¿™é‡Œéœ€è¦æ³¨æ„è¦æ’é™¤é‡å¤çš„ä¸‰å…ƒç»„ï¼Œå› æ­¤åœ¨ç§»åŠ¨æŒ‡é’ˆæ—¶éœ€è¦åˆ¤æ–­åç»­åˆ¤æ–­çš„å€¼æ˜¯å¦å’Œå½“å‰å€¼å†²çª\nclass Solution {    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {        Arrays.sort(nums);        List&lt;List&lt;Integer&gt;&gt; resultList = new ArrayList&lt;&gt;();        for (int k = 0; k &lt; nums.length; k++) {            // æ’é™¤é‡å¤å…ƒç´ ï¼Œå¦‚æœkå’Œk-1ä½ç½®çš„æ•°ä¸€æ ·ï¼Œé‚£ä¹ˆåç»­è®¡ç®—çš„ç»“æœä¸€å®šä¸€æ ·ï¼Œå› æ­¤éœ€è¦æ’é™¤            if (k &gt; 0 &amp;&amp; nums[k] == nums[k - 1]) {                continue;            }            // å¦‚æœnums[k] &gt; 0ï¼Œé‚£ä¹ˆnums[i]å’Œnums[j]ä¸€å®š &gt; 0ï¼Œç»“æœä¸€å®š &gt; 0            if (nums[k] &gt; 0) {                return resultList;            }            for (int i = k + 1, j = nums.length - 1; i &lt; j;) {                int temp = nums[i] + nums[j] + nums[k];                if (temp &gt; 0) {                    // è·³è¿‡é‡å¤æ•°å€¼ï¼Œåªå–é‡å¤çš„æœ€åä¸€ä¸ª                    while (i &lt; j &amp;&amp; nums[j] == nums[--j]);                } else if (temp &lt; 0) {                    while (i &lt; j &amp;&amp; nums[i] == nums[++i]);                } else {                    resultList.add(Arrays.asList(nums[k], nums[i], nums[j]));                    while (i &lt; j &amp;&amp; nums[i] == nums[++i]);                    while (i &lt; j &amp;&amp; nums[j] == nums[--j]);                }            }        }        return resultList;    }}\næœ€é•¿è¿ç»­åºåˆ—\nhttps://leetcode.cn/problems/longest-consecutive-sequence/description/?envType=study-plan-v2&amp;envId=top-100-liked\næœ¬é¢˜è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå¦‚æœç›´æ¥æ’åºçš„è¯å¤æ‚åº¦è¾¾åˆ°O(nlogn)ã€‚\nè¦æ‰¾å‡ºè¿ç»­åºåˆ—çš„é•¿åº¦ï¼Œå¯ä»¥æ¢ä¸ªæ€è·¯ï¼Œå¦‚æœæ‰¾åˆ°ä¸€ä¸ªæ•°nums[i]ï¼Œç„¶åå°†è¿™ä¸ªæ•°ä¸€ç›´+1ï¼ŒåŠ å®Œåçš„æ•°åœ¨æ•°ç»„é‡Œè¿˜èƒ½æ‰¾åˆ°é‚£å°±è¯´æ˜è¿ç»­åºåˆ—çš„é•¿åº¦å¯ä»¥å¢åŠ \n1ã€‚å› æ­¤æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„è¯éœ€è¦ä½¿ç”¨åˆ°å“ˆå¸Œï¼Œå°†æ‰€æœ‰çš„æ•°ä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ–¹ä¾¿æŸ¥è¯¢ã€‚\nè¿™é‡Œçš„ä¸€ä¸ªä¼˜åŒ–æ˜¯å¦‚æœå½“å‰æ•°å‡ 1\nä¹‹åè¿˜èƒ½åœ¨æ•°ç»„ä¸­æ‰¾åˆ°ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è·³è¿‡ï¼Œå› ä¸ºå‡ 1\nä¹‹åçš„æ•°åœ¨è®¡ç®—åºåˆ—é•¿åº¦æ—¶å·²ç»åŒ…å«äº†å½“å‰æ•°ï¼Œä»å½“å‰æ•°å¼€å§‹è®¡ç®—çš„é•¿åº¦ä¸€å®šä¸å¦‚å‡\n1 ä¹‹åçš„æ•°è®¡ç®—çš„åºåˆ—é•¿åº¦é•¿ã€‚\nclass Solution {    public int longestConsecutive(int[] nums) {        Set&lt;Integer&gt; numSet = new HashSet&lt;&gt;();        for (int num : nums) {            numSet.add(num);        }        int result = 0;        for (int num : nums) {            // å¦‚æœåŒ…å«å‡1ä¹‹åçš„æ•°ï¼Œé‚£ä¹ˆç›´æ¥è·³è¿‡ï¼Œå› ä¸ºä¹‹å‰å·²ç»è®¡ç®—è¿‡            if (numSet.contains(num - 1)) {                continue;            }            int tempResult = 1;            int temp = num;            // å¦‚æœåŠ 1åè¿˜åœ¨æ•°ç»„é‡Œèƒ½æ‰¾åˆ°ï¼Œåºåˆ—é•¿åº¦åŠ 1            while (numSet.contains(++temp)) {                tempResult++;            }            // ä¿å­˜æœ€å¤§çš„åºåˆ—é•¿åº¦            result = Math.max(result, tempResult);        }        return result;    }}\næ¥é›¨æ°´\nhttps://leetcode.cn/problems/trapping-rain-water/description/?envType=study-plan-v2&amp;envId=top-100-liked\næ ¹æ®é¢˜æ„ï¼Œæœ€ä¸¤ä¾§çš„æŸ±å­ä¸èƒ½æ¥åˆ°é›¨æ°´ï¼Œåªèƒ½ä½œä¸ºå¢™å£ã€‚è€ƒè™‘æŒ‰åˆ—æ±‚ï¼Œå•ç‹¬è€ƒè™‘æ¯ä¸ªæŸ±å­å¯ä»¥æ¥åˆ°çš„é›¨æ°´ã€‚\nå½“å‰æŸ±å­å¯ä»¥æ¥åˆ°çš„é›¨æ°´ç”±å½“å‰æŸ±å­å·¦ä¾§å’Œå³ä¾§çš„æœ€é«˜çš„æŸ±å­åŒ…è£¹èµ·æ¥ï¼Œå¯ä»¥ä¿è¯æ¥åˆ°é›¨æ°´ï¼Œè€Œæ¥åˆ°çš„é›¨æ°´çš„å¤šå°‘åˆ™æ˜¯å³ä¸¤åˆ™æœ€é«˜çš„æŸ±å­ä¸­çš„çŸ®çš„å†³å®šï¼ˆæœ¨æ¡¶æ•ˆåº”ï¼‰ã€‚å¦‚æœçŸ®çš„æŸ±å­æ¯”å½“å‰æŸ±å­é«˜ï¼Œé‚£ä¹ˆæ¥åˆ°çš„é›¨æ°´å°±æ˜¯é«˜åº¦çš„å·®å€¼ï¼Œå¦åˆ™æ¥ä¸åˆ°é›¨æ°´ã€‚\né‚£ä¹ˆç°åœ¨çš„é—®é¢˜æ˜¯æ€ä¹ˆå¿«é€Ÿæ±‚å‡ºå½“å‰æŸ±å­å·¦ä¾§æœ€é«˜çš„é«˜åº¦å’Œå½“å‰æŸ±å­å³ä¾§æœ€é«˜çš„é«˜åº¦ã€‚\n\nåŠ¨æ€è§„åˆ’\n\nä½¿ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•å½“å‰ä½ç½®å·¦ä¾§ï¼ˆä¸åŒ…æ‹¬è‡ªèº«ï¼‰æœ€é«˜çš„é«˜åº¦æ˜¯å¤šå°‘ï¼Œå³maxLeft[i] = max(maxLeft[i - 1], height[i - 1])ï¼Œå³ä¾§åŒç†\nè¿™ä¼šä½¿ç”¨åˆ°O(n)çš„ç©ºé—´å¤æ‚åº¦\nclass Solution {    public int trap(int[] height) {        int[] maxLeft = new int[height.length];        int[] maxRight = new int[height.length];        for (int i = 1; i &lt; height.length; i++) {            maxLeft[i] = Math.max(maxLeft[i - 1], height[i - 1]);        }        for (int i = height.length - 2; i &gt;= 0; i--) {            maxRight[i] = Math.max(maxRight[i + 1], height[i + 1]);        }        int sum = 0;        for (int i = 1; i &lt; height.length - 1; i++) {            int min = Math.min(maxLeft[i], maxRight[i]);            int sub = min - height[i];            sum += sub &gt; 0 ? sub : 0;        }        return sum;    }}\næ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²\nhttps://leetcode.cn/problems/longest-substring-without-repeating-characters/?envType=study-plan-v2&amp;envId=top-100-liked\næœ¬é¢˜å¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£â€œæ¡†ä½â€æ²¡æœ‰é‡å¤å­—ç¬¦çš„å­ä¸²ï¼Œéå†å®Œæˆåæœ€é•¿çš„çª—å£é•¿åº¦å³ä¸ºç­”æ¡ˆã€‚\næ€ä¹ˆä¿è¯æ»‘åŠ¨çª—å£ä¸­æ²¡æœ‰é‡å¤å­—ç¬¦ä¸²å‘¢ï¼Ÿä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ã€‚\né¦–å…ˆä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆj, iä¸ºæ»‘åŠ¨çª—å£çš„è¾¹ç•Œï¼Œè¡¨ç¤º[j, i]åŒºé—´çš„å­—ç¬¦ä¸²éƒ½ä¸é‡å¤ã€‚å¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªSeté›†åˆä¿å­˜è¯¥çª—å£ä¸­çš„å­—ç¬¦ï¼Œéå†æ—¶å¦‚æœå¾…åŠ å…¥çš„å­—ç¬¦å·²ç»å­˜åœ¨äº†ï¼Œåˆ™ä¸€ç›´éå†åˆ é™¤çª—å£å·¦ç«¯çš„å­—ç¬¦ç›´åˆ°æ²¡æœ‰é‡å¤çš„ã€‚\nclass Solution {    public int lengthOfLongestSubstring(String s) {        char[] chs = s.toCharArray();        Set&lt;Character&gt; set = new HashSet&lt;&gt;();        int result = 0;        for (int i = 0, j = 0; i &lt; chs.length; i++) {            while (set.contains(chs[i])) {                set.remove(chs[j++]);            }            set.add(chs[i]);            result = Math.max(result, set.size());        }        return result;    }}\nå’Œä¸º K çš„å­æ•°ç»„\nhttps://leetcode.cn/problems/subarray-sum-equals-k/description/?envType=study-plan-v2&amp;envId=top-100-liked\nè¦æ±‚æ•°ç»„ä¸­çš„å­æ•°ç»„çš„å’Œï¼Œå­æ•°ç»„å®šä¹‰ä¸ºï¼šè¿ç»­éç©ºåºåˆ—ã€‚å¯ä»¥ç†è§£ä¸ºä¸€æ®µåŒºé—´å†…æ•°å€¼çš„å’Œï¼Œè¿™æ ·å¯ä»¥æƒ³åˆ°ä½¿ç”¨å‰ç¼€å’Œæ¥è®¡ç®—ï¼Œå‰ç¼€å’Œæ•°ç»„preSum[i]è¡¨ç¤ºåŸæ•°ç»„numsä¸­ç¬¬ä¸€ä¸ªæ•°ä¸€ç›´åŠ åˆ°ç¬¬iä¸ªæ•°çš„å’Œï¼Œå¦‚æœè¡¨ç¤ºæŸä¸€æ®µåŒºé—´[j, i]çš„å’Œï¼Œè®¡ç®—preSum[i] - preSum[j - 1]å³å¯ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‰ç¼€å’Œæ•°ç»„çš„é•¿åº¦ä¸€èˆ¬æ¯”åŸæ•°ç»„å¤šä¸€ä¸ªï¼Œå¤šä½™çš„ä¸€ä¸ªæ•°è¡¨ç¤ºçš„æ˜¯æ•°ç»„ä¸­ç¬¬\n0 ä¸ªæ•°åˆ°ç¬¬ 0\nä¸ªæ•°ï¼ˆå³æ²¡æœ‰ä»»ä½•æ•°çš„æƒ…å†µä¸‹ï¼‰çš„å’Œï¼ŒåŒæ—¶è¿™æ ·åšä¹Ÿä¸ºäº†ç¼–ç ç®€ä¾¿ã€‚\nâ“ ä»£ç ä¸­åˆå§‹æ—¶åŠ å…¥çš„(0, 1)é”®å€¼å¯¹è¡¨ç¤ºå‰ç¼€å’Œä¸º 0\nçš„æœ‰ä¸€ä¸ªï¼ˆå‰ç¼€å’Œä¸­ä»€ä¹ˆæ•°éƒ½æ²¡æœ‰ï¼‰ï¼Œæš‚æ—¶è¿˜ä¸ç†è§£ã€‚\nclass Solution {    public int subarraySum(int[] nums, int k) {        int n = nums.length;        int[] preSum = new int[n + 1];        Arrays.fill(preSum, 0);        // è®¡ç®—å‰ç¼€å’Œï¼Œä¸€èˆ¬ä¸‹æ ‡ä»1å¼€å§‹ï¼Œ0ä¸‹æ ‡ç”¨äºè¡¨ç¤ºæ²¡æœ‰æ•°çš„æ—¶å€™çš„å‰ç¼€å’Œã€‚        for (int i = 1; i &lt; n + 1; i++) {            preSum[i] = preSum[i - 1] + nums[i - 1];        }        int result = 0;        Map&lt;Integer, Integer&gt; mp = new HashMap&lt;&gt;();        for (int i = 0; i &lt; n + 1; i++) {            if (mp.containsKey(preSum[i] - k)) {                result += mp.get(preSum[i] - k);            }            mp.put(preSum[i], mp.getOrDefault(preSum[i], 0) + 1);        }        return result;    }}\næ»‘åŠ¨çª—å£æœ€å¤§å€¼\nhttps://leetcode.cn/problems/sliding-window-maximum/?envType=study-plan-v2&amp;envId=top-100-liked\næ»‘åŠ¨çª—å£æ±‚æœ€å¤§å€¼é€šå¸¸ä½¿ç”¨å•è°ƒé˜Ÿåˆ—ï¼Œä½†æ˜¯å…·ä½“å®ç°é‡‡ç”¨åŒç«¯é˜Ÿåˆ—ã€‚\nclass Solution {    public int[] maxSlidingWindow(int[] nums, int k) {        int[] resultArr = new int[nums.length - (k - 1)];        Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;();        for (int i = 0, j = 1 - k; i &lt; nums.length; i++, j++) {            // å¦‚æœè¢«åˆ é™¤çš„å€¼æ­£å¥½æ˜¯ä¹‹å‰çª—å£ä¸­æœ€å¤§çš„å…ƒç´ ï¼Œåˆ™éœ€è¦åœ¨é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚            // ä¿è¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ éƒ½åœ¨çª—å£ä¸­            if (j &gt; 0 &amp;&amp; deque.getFirst() == nums[j - 1]) {                deque.removeFirst();            }            // ä»é˜Ÿåˆ—å°¾éƒ¨åŠ å…¥å…ƒç´ ï¼ŒåŠ å…¥å‰åˆ¤æ–­é˜Ÿåˆ—å°¾éƒ¨çš„å€¼æ˜¯å¦å°äºè¦åŠ å…¥çš„å€¼ï¼Œå°äºåˆ™åˆ é™¤            while (deque.size() != 0 &amp;&amp; deque.getLast() &lt; nums[i]) {                deque.removeLast();            }            deque.addLast(nums[i]);            if (j &gt;= 0) {                resultArr[j] = deque.getFirst();            }        }        return resultArr;    }}\nå¦ä¸€ç§å†™æ³•ï¼Œé˜Ÿåˆ—ä¸­ä¿å­˜çš„æ˜¯çª—å£ä¸­å…ƒç´ çš„ä¸‹æ ‡ï¼Œé€šè¿‡ä¸‹æ ‡åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨çª—å£ä¸­ã€‚\nclass Solution {    public int[] maxSlidingWindow(int[] nums, int k) {        int[] resultArr = new int[nums.length - (k - 1)];        Deque&lt;Integer&gt; deque = new LinkedList&lt;&gt;();        for (int i = 0, j = 1 - k; i &lt; nums.length; i++, j++) {            if (j &gt; 0 &amp;&amp; deque.getFirst() &lt; j) {                deque.removeFirst();            }            while (deque.size() != 0 &amp;&amp; nums[deque.getLast()] &lt; nums[i]) {                deque.removeLast();            }            deque.addLast(i);            if (j &gt;= 0) {                resultArr[j] = nums[deque.getFirst()];            }        }        return resultArr;    }}\næœ€å°è¦†ç›–å­ä¸²\nhttps://leetcode.cn/problems/minimum-window-substring/description/?envType=study-plan-v2&amp;envId=top-100-liked\nä½¿ç”¨æ»‘åŠ¨çª—å£ï¼Œçª—å£ç”±ä¸¤ä¸ªæŒ‡é’ˆæ§åˆ¶å¤§å°ï¼Œå³æŒ‡é’ˆè´Ÿè´£æ‰©å¤§çª—å£ï¼Œå·¦æŒ‡é’ˆè´Ÿè´£æ”¶ç¼©çª—å£ã€‚å¦‚æœå½“å‰çª—å£ä¸è¦†ç›–å­ä¸²ï¼Œåˆ™æ‰©å¤§çª—å£ï¼Œå¦‚æœè¦†ç›–å­ä¸²ï¼Œåˆ™æ”¶ç¼©çª—å£æ›´æ–°ç»“æœï¼Œç›´è‡³ä¸èƒ½æ”¶ç¼©ã€‚\nâ“é—®é¢˜åœ¨äºå¦‚ä½•åˆ¤æ–­æ˜¯å¦è¦†ç›–ï¼Ÿ\nå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨çª—å£ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœç›®æ ‡å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½å°äºç­‰äºçª—å£ä¸­çš„ï¼Œåˆ™è¯´æ˜è¦†ç›–ï¼Œå¦åˆ™ä¸è¦†ç›–ã€‚\nclass Solution {    public String minWindow(String s, String t) {        char[] chsArr = s.toCharArray();        char[] chtArr = t.toCharArray();        Map&lt;Character, Integer&gt; chCntMp = new HashMap&lt;&gt;();        for (char ch : chtArr) {            chCntMp.put(ch, chCntMp.getOrDefault(ch, 0) + 1);        }        Map&lt;Character, Integer&gt; winMap = new HashMap&lt;&gt;();        int ansLeft = -1, ansRight = chsArr.length;        for (int i = 0, j = 0; i &lt; chsArr.length; i++) {            winMap.put(chsArr[i], winMap.getOrDefault(chsArr[i], 0) + 1);            while (isCover(winMap, chCntMp)) {                if (i - j + 1 &lt; ansRight - ansLeft + 1) {                    ansRight = i;                    ansLeft = j;                }                winMap.put(chsArr[j], winMap.get(chsArr[j++]) - 1);            }        }        return ansLeft == -1 ? \"\" : s.substring(ansLeft, ansRight + 1);    }    public boolean isCover(Map&lt;Character, Integer&gt; s, Map&lt;Character, Integer&gt; t) {        if (s.size() &lt; t.size()) {            return false;        }        for (Map.Entry&lt;Character, Integer&gt; entry : t.entrySet()) {            if (s.getOrDefault(entry.getKey(), 0) &lt; entry.getValue()) {                return false;            }        }        return true;    }}\næœ€å¤§å­æ•°ç»„å’Œ\nhttps://leetcode.cn/problems/maximum-subarray/?envType=study-plan-v2&amp;envId=top-100-liked\nåˆ©ç”¨åŠ¨æ€è§„åˆ’å¯ä»¥è¾¾åˆ°O(N)çš„æ—¶é—´å¤æ‚åº¦ã€‚\nå‡å®šdp[i]è¡¨ç¤ºä»¥ç¬¬ i\nä¸ªæ•°ç»“å°¾çš„æœ€å¤§çš„å­æ•°ç»„çš„å’Œï¼Œæ‰€ä»¥é€’å½’å…¬å¼ï¼šdp[i] = max(dp[i - 1] + nums[i], nums[i])ï¼Œå¦‚æœå‰ä¸€ä¸ªå­æ•°ç»„åŠ ä¸Šnums[i]æ•°ç»„å’Œå˜å°ï¼Œå°±è®¤ä¸ºæœ€å¤§çš„æ•°ç»„æ˜¯nums[i]è‡ªå·±ã€‚\nclass Solution {    public int maxSubArray(int[] nums) {        int ans = Integer.MIN_VALUE;        for (int i = 0; i &lt; nums.length; i++) {            if (i &gt; 0) {                nums[i] = Math.max(nums[i], nums[i - 1] + nums[i]);            }            ans = Math.max(ans, nums[i]);        }        return ans;    }}\nè½®è½¬æ•°ç»„\nhttps://leetcode.cn/problems/rotate-array/?envType=study-plan-v2&amp;envId=top-100-liked\nä¸»è¦æ˜¯ç©ºé—´å¤æ‚åº¦è¾¾åˆ°O(1)ï¼Œä¸é€‚ç”¨é¢å¤–çš„æ•°ç»„ã€‚\nå¯ä»¥é‡‡ç”¨åŸºäºäº¤æ¢çš„æ–¹å¼ï¼Œé€šè¿‡è§‚å¯Ÿç»“æœï¼Œå¯ä»¥å‘ç°ï¼Œå‘å³ç§»åŠ¨ k\nä¸ªå•ä½åï¼Œåè¾¹ k ä¸ªæ•°ç§»åŠ¨åˆ°å‰ k ä¸ªä½ç½®ï¼Œå…¶ä½™çš„ç§»åŠ¨åˆ°äº†å k\nä¸ªä½ç½®ã€‚å¦‚æœå…ˆé‡‡ç”¨æ•´ä½“ç¿»è½¬çš„æ–¹å¼ï¼Œå¯ä»¥å°†å k çš„æ•°ç§»åŠ¨åˆ°å‰ k\nä¸ªä½ç½®ï¼Œä½†æ˜¯é¡ºåºå’Œæ­£ç¡®çš„é¡ºåºç›¸åï¼Œå› æ­¤å†å¯¹å±€éƒ¨è¿›è¡Œä¾æ¬¡ç¿»è½¬å³å¯ã€‚\nâ— è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„ï¼šå¦‚æœè½®è½¬çš„é•¿åº¦\nkï¼Œå¤§äºæ•°ç»„é•¿åº¦ï¼Œå¯ä»¥é‡‡ç”¨ä¸€æ¬¡å–æ¨¡æ“ä½œï¼Œå½“ k\nå’Œæ•°ç»„é•¿åº¦ç›¸ç­‰æ—¶ï¼Œè½®è½¬åå’ŒåŸæ•°ç»„ç›¸åŒï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸º k\nå–æ¨¡åçš„ç»“æœä¸ºçœŸå®çš„éœ€è¦è½®è½¬çš„é•¿åº¦ã€‚\nclass Solution {    public void rotate(int[] nums, int k) {        k %= nums.length;        reverse(nums, 0, nums.length - 1);        reverse(nums, 0, k - 1);        reverse(nums, k, nums.length - 1);    }    private void reverse(int[] nums, int start, int end) {        for (int i = start, j = end; i &lt; j; i++, j--) {            int temp = nums[i];            nums[i] = nums[j];            nums[j] = temp;        }    }}\nç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°\n41.\nç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\néš¾ç‚¹åœ¨äºä¸èƒ½ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚å¦‚æœå¯ä»¥ä½¿ç”¨é¢å¤–ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œå­˜å‚¨æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åä»\n1 å¼€å§‹éå†ï¼Œç›´åˆ°å‘ç°ä¸å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­çš„å€¼å³å¯ã€‚\nå¦‚æœè¦é™ä½ç©ºé—´å¤æ‚åº¦ï¼Œå¯ä»¥è€ƒè™‘åŸåœ°å“ˆå¸Œã€‚\né€šè¿‡è§‚å¯Ÿç»“æœï¼Œä¼šå‘ç°ï¼Œç»“æœè‚¯å®šå­˜åœ¨äº[1, n+1]ä¸­ï¼Œn\nä¸ºæ•°ç»„é•¿åº¦ï¼Œå¦‚æœæ•°ç»„ä¸­çš„æ•°åœ¨[1, n]éƒ½å­˜åœ¨ï¼Œåˆ™è¯´æ˜ç»“æœä¸º n + 1ï¼Œå¦åˆ™ä¸º[1,\nn]ä¸­ä¸å­˜åœ¨çš„æœ€å°çš„æ•°ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨åŸåœ°å“ˆå¸Œï¼Œå…·ä½“æ–¹æ³•å¯ä»¥é‡‡ç”¨æ ‡è®°æ³•ï¼Œéå†æ•°ç»„ï¼Œå¦‚æœ\nnums[i]èŒƒå›´åœ¨[1, n]ä¸­ï¼Œåˆ™ç»™ nums[nums[i] -\n1]æ‰“ä¸Šæ ‡è®°ï¼Œè¿™é‡Œæ‰“æ ‡è®°å¯ä»¥è®¾ç½®ä¸ºè´Ÿæ•°ï¼Œå› ä¸ºåŸæ•°ç»„ä¸­å­˜åœ¨è´Ÿæ•°ï¼Œå¯ä»¥ä»¤åŸæ¥çš„è´Ÿæ•°è®¾ä¸ºä¸€ä¸ªä¸å¯èƒ½çš„å€¼ï¼Œå¦‚\nn + 1\næˆ–è€…æ›´å¤§ï¼Œè¿™æ ·æ‰€æœ‰æ•°éƒ½æ˜¯æ­£æ•°äº†ã€‚å½“éå†å®Œæ‰€æœ‰æ‰“å®Œæ ‡è®°ï¼Œå¦‚æœæ‰€æœ‰çš„æ•°éƒ½æ˜¯è´Ÿæ•°äº†ï¼Œè¯´æ˜éƒ½å­˜åœ¨äº†ï¼Œå¦åˆ™ä¸ºç¬¬ä¸€ä¸ªä¸ä¸ºè´Ÿæ•°çš„ä¸‹æ ‡+\n1ã€‚\nclass Solution {    public int firstMissingPositive(int[] nums) {        for (int i = 0; i &lt; nums.length; i++) {            if (nums[i] &lt;= 0) {                nums[i] = nums.length + 1;            }        }        for (int i = 0; i &lt; nums.length; i++) {            int temp = Math.abs(nums[i]);            if (temp &gt;= 1 &amp;&amp; temp &lt;= nums.length) {                nums[temp - 1] = -Math.abs(nums[temp - 1]);            }        }        for (int i = 0; i &lt; nums.length; i++) {            if (nums[i] &gt; 0) {                return i + 1;            }        }        return nums.length + 1;    }}\næ—‹è½¬å›¾åƒ\n48.\næ—‹è½¬å›¾åƒ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né€šè¿‡è§‚å¯Ÿä¾‹å­ä¸­çš„æ—‹è½¬ï¼Œå›ºå®šçš„ä½ç½®ä¹‹é—´ä¼šå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ—‹è½¬é“¾ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŸåœ°æ“ä½œæ•°æ®ï¼Œä¸éœ€è¦ä½¿ç”¨æ–°çš„äºŒç»´æ•°ç»„ã€‚\n\næ‰€ä»¥æ¥ä¸‹æ¥çš„é‡ç‚¹æ˜¯å¯»æ‰¾æ—‹è½¬é“¾ä¹‹é—´çš„å¯¹åº”çš„åæ ‡å…³ç³»ã€‚ä»¥å·¦ä¸Šè§’çš„(i, j)ä¸ºä¾‹ï¼Œ\næ—‹è½¬ä¸€æ¬¡åçš„åæ ‡ä¸ºï¼š(j, n - i - 1)ï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œ(i, j)æ‰€åœ¨çš„åˆ—å˜æˆäº†è¡Œï¼Œè¡Œå˜æˆäº†åˆ—ã€‚ä»è¡Œçœ‹ï¼Œiè¡Œçš„æ•°æ®ä¼šå˜æˆåˆ—ï¼Œè¡Œæ˜¯ä»ä¸Šå¾€ä¸‹æ•°ï¼Œé‚£ä¹ˆå˜æˆåˆ—åå°±æ˜¯ä»å³å¾€å·¦æ•°ï¼Œæ‰€ä»¥åˆ—å°±æ˜¯n - i - 1ã€‚ä»åˆ—çœ‹ï¼Œä»å·¦å‘å³çœ‹ï¼Œå˜æˆè¡Œå°±æ˜¯ä»ä¸Šå¾€ä¸‹çœ‹ï¼Œå› æ­¤å°±æ˜¯jã€‚\n(j, n - i - 1)å†æ—‹è½¬ä¸€æ¬¡åï¼Œåæ ‡ä¸ºï¼š(n - i - 1, n - j - 1)ï¼Œä»è¡Œçœ‹ï¼Œæ˜¯ä»ä¸Šå¾€ä¸‹ï¼Œæ—‹è½¬åçš„åˆ—åˆ™æ˜¯ä»å³å‘å·¦ï¼Œæ‰€ä»¥æ˜¯n - j - 1ã€‚ä»åˆ—çœ‹ï¼Œä»å³å¾€å·¦ï¼Œæ—‹è½¬åçš„è¡Œåˆ™æ˜¯ä»ä¸‹å¾€ä¸Šï¼Œn - i - 1\nä¾æ­¤ç±»æ¨ï¼š(n - j - 1, i)\næœ€åçš„åæ ‡æ—‹è½¬é“¾(i, j) -&gt; (j, n - i - 1) -&gt; (n - i - 1, n - j - 1) -&gt; (n - j - 1, i) -&gt; (i, j)\nå› æ­¤ï¼ŒåŸåœ°æ“ä½œåªéœ€è¦æŒ‰ç…§è¿™ä¸ªé¡ºåºä¾æ¬¡èµ‹å€¼å³å¯ã€‚\næ¥ä¸‹æ¥éœ€è¦è€ƒè™‘çš„æ˜¯ï¼Œéå†å“ªäº›æ•°æ®è¿›è¡Œæ—‹è½¬æ“ä½œã€‚åªæœ‰ä¸¤ç§æƒ…å†µï¼Œn\nä¸ºå¥‡æ•°å’Œå¶æ•°çš„æƒ…å†µã€‚\nn ä¸ºå¶æ•°ï¼šåªéœ€è¦è€ƒè™‘å·¦ä¸Šè§’ è¡Œ[0, n / 2)\nåˆ—[0, n / 2)çš„æƒ…å†µ\nn\nä¸ºå¥‡æ•°ï¼šä¸éœ€è¦è€ƒè™‘æ­£ä¸­å¿ƒçš„æ•°ï¼Œç„¶åéœ€è¦æ—‹è½¬çš„åˆ™æ˜¯æ­£ä¸­å¿ƒå·¦æ–¹å’Œä¸Šæ–¹ç»„æˆçš„åŒºåŸŸï¼Œå³\nè¡Œ[0, n / 2) åˆ—[0, n / 2]\n\nclass Solution {    public void rotate(int[][] matrix) {        int n = matrix.length;        for (int i = 0; i &lt; n / 2; i++) {            for (int j = 0; j &lt; (n + 1) / 2; j++) {                int temp = matrix[i][j];                matrix[i][j] = matrix[n - 1 - j][i];                matrix[n - 1 - j][i] = matrix[n - 1 - i][n - 1 - j];                matrix[n - 1 - i][n - 1 - j] = matrix[j][n - 1 - i];                matrix[j][n - 1 - i] = temp;            }        }    }}\nç›¸äº¤é“¾è¡¨\n160.\nç›¸äº¤é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤ï¼Œå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹å¼ï¼Œé¢˜ç›®ä¸­ä¿è¯é“¾è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œå› æ­¤å¤§å¤§ç®€åŒ–äº†åˆ¤æ–­æ¡ä»¶ã€‚\nä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå½“éå†åˆ°æœ«å°¾æ—¶å†éå†å¦ä¸€ä¸ªé“¾è¡¨ï¼Œç›´åˆ°æŒ‡å‘ç›¸åŒçš„èŠ‚ç‚¹ï¼Œå³ä¸ºç›¸äº¤çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode(int x) { *         val = x; *         next = null; *     } * } */public class Solution {    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {        return getIntersectionNode(headA, headB, null);    }    private ListNode getIntersectionNode(ListNode headA, ListNode headB, ListNode endNode) {        if (headA == null || headB == null) {            return null;        }        ListNode pA = headA;        ListNode pB = headB;        while (pA != pB) {            pA = pA == endNode ? headB : pA.next;            pB = pB == endNode ? headA : pB.next;        }        return pA;    }}\nâ“ å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯å‘¢ï¼Ÿåˆ™éœ€è¦è€ƒè™‘å¤šç§æƒ…å†µã€‚\nè¿™é‡Œè®¤ä¸ºé“¾è¡¨éƒ½æ˜¯å•é“¾è¡¨\n\næƒ…å†µ 1ï¼šä¸¤ä¸ªé“¾è¡¨éƒ½æ— ç¯åŒæŒ‡é’ˆï¼Œéå†é“¾è¡¨ A å’Œ Bï¼Œå½“æŒ‡é’ˆä¸º null\næ—¶ä»å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å¤´èŠ‚ç‚¹å¼€å§‹éå†ã€‚ç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰ï¼ˆä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰æ—¶ï¼Œå¦‚æœä¸º\nnull åˆ™è¡¨ç¤ºæ²¡æœ‰ç›¸äº¤èŠ‚ç‚¹ï¼Œå¦åˆ™æœ‰ç›¸äº¤èŠ‚ç‚¹ï¼‰é¢è¯•é¢˜\n02.07. é“¾è¡¨ç›¸äº¤ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n\npublic class Solution {    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {        if (headA == null || headB == null) {            return null;        }        ListNode pA = headA, pB = headB;        while (pA != pB) {            pA = pA == null ? headB : pA.next;            pB = pB == null ? headA : pB.next;        }        return pA;    }}\nâ—æ³¨æ„ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºnullæ—¶ï¼Œä½¿ç”¨çš„æ˜¯pAå½“å‰æŒ‡é’ˆï¼Œè€Œä¸æ˜¯pA.nextï¼Œå¦‚æœä½¿ç”¨pA.nextæ¥åˆ¤æ–­ï¼Œå½“ä¸ç›¸äº¤æ—¶ï¼Œä¼šå‘ç”Ÿæ— é™å¾ªç¯çš„æƒ…å†µï¼ŒpAå’ŒpBä¼šä¸€ç›´ä¸ç›¸ç­‰ï¼ˆä¹Ÿä¸ä¸ºnull)ã€‚æ‰€ä»¥ä½¿ç”¨pAå½“å‰æŒ‡é’ˆã€‚å¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠæœ€åé“¾è¡¨ç»“æŸæ—¶æŒ‡å‘çš„nullæŒ‡é’ˆä¹Ÿç®—ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤æ—¶ï¼Œæœ€åéƒ½ä¼šæŒ‡å‘nullèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸¤ä¸ªé“¾è¡¨å°±åœ¨nullèŠ‚ç‚¹â€œç›¸äº¤â€äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\n\n\næƒ…å†µ\n2ï¼šä¸€ä¸ªæœ‰ç¯ä¸€ä¸ªæ— ç¯ï¼ˆä¸€å®šä¸ç›¸äº¤ï¼‰å¦‚æœç›¸äº¤ï¼Œåˆ™è‚¯å®šæœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªnextæŒ‡é’ˆï¼Œè¿™ä¸æ»¡è¶³å•é“¾è¡¨ã€‚æ‰€ä»¥ä¸€å®šä¸ç›¸äº¤ã€‚\næƒ…å†µ 3ï¼šä¸¤ä¸ªéƒ½æœ‰ç¯\n\nä¸ç›¸äº¤\nåœ¨éç¯å¤„ç›¸äº¤\nåœ¨ç¯å¤„ç›¸äº¤\n\n\nç›¸äº¤åªæœ‰ä¸¤ç§æƒ…å†µ\n\næ‰¾åˆ°ä¸¤ä¸ªå¸¦ç¯é“¾è¡¨çš„å…¥ç¯èŠ‚ç‚¹ï¼Œç„¶åå›ºå®šä¸€ä¸ªï¼Œéå†å¦ä¸€ä¸ªï¼Œç›´åˆ°èƒ½æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹å’Œå›ºå®šèŠ‚ç‚¹ç›¸ç­‰ï¼Œåˆ™è¯æ˜ç›¸äº¤ï¼Œå¦åˆ™ä¸ç›¸äº¤ã€‚\n// circleNode1 circleNode2æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹çš„å…¥ç¯èŠ‚ç‚¹// å¦‚æœå…¥ç¯èŠ‚ç‚¹ç›¸åŒï¼Œè¯´æ˜å¿…ç„¶æ˜¯æƒ…å†µ1ã€‚å¦åˆ™æ˜¯æƒ…å†µ2æˆ–è€…ä¸ç›¸äº¤if (circleNode1 == circleNode2) {    // åˆ©ç”¨circleNode1æˆ–è€…2ä¸ºæœ«å°¾èŠ‚ç‚¹ï¼Œåˆ©ç”¨æ— ç¯é“¾è¡¨æ±‚ç›¸äº¤èŠ‚ç‚¹æ–¹å¼æ±‚ç›¸äº¤çš„èŠ‚ç‚¹ã€‚    return true;}Node temp = circleNode2.next;while(temp != circleNode2) {    if(temp == circleNode1)        // circleNode1 æˆ–è€…  circleNode2ä¸ºç›¸äº¤èŠ‚ç‚¹éƒ½å¯ä»¥        return true;    temp = temp.next;}// ä¸ç›¸äº¤return false;\næ‰€ä»¥æ‰€æœ‰æƒ…å†µå¦‚ä¸‹ï¼š\n\npublic static ListNode getIntersectionNode(ListNode headA, ListNode headB) {    ListNode cycleNodeA = hasCycle(headA);    ListNode cycleNodeB = hasCycle(headB);    if (cycleNodeA == cycleNodeB) {        // è¯´æ˜ä¸¤ä¸ªéƒ½æ˜¯æ— ç¯çš„ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦ç›¸äº¤        // if (cycleNodeA == null) {        //     return getIntersectionNodeNoLoop(headA, headB, null);        // }        // å¦åˆ™æ˜¯éƒ½æœ‰ç¯ï¼Œå…¥ç¯èŠ‚ç‚¹ç›¸åŒï¼Œå¿…ç„¶ç›¸äº¤ï¼Œä»¥å…¥ç¯èŠ‚ç‚¹ä¸ºç»ˆæ­¢èŠ‚ç‚¹æ±‚ç›¸äº¤èŠ‚ç‚¹        // return getIntersectionNodeNoLoop(headA, headB, cycleNodeA);        // ä»¥ä¸Šä»£ç å¯ä»¥ç›´æ¥åˆå¹¶ä¸ºä¸‹é¢ä¸€è¡Œ        return getIntersectionNodeNoLoop(headA, headB, cycleNodeA);    }    // è¯´æ˜ä¸¤ä¸ªå…¥ç¯èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè¦ä¹ˆéƒ½ä¸ä¸ºç©ºï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºè‚¯å®šä¸ç›¸äº¤    if (cycleNodeA == null || cycleNodeB == null) {        return null;    }    // å¦‚æœç¯ä¸Šç›¸äº¤ï¼Œè¯´æ˜ä»ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä¸€å®šèƒ½åˆ°è¾¾å¦ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹    ListNode temp = cycleNodeA;    while (temp != cycleNodeB) {        temp = temp.next;        // è½¬äº†ä¸€åœˆå‘ç°å›åˆ°åŸä½ç½®äº†ï¼Œè¯´æ˜æ²¡æœ‰ç›¸äº¤        if (temp == cycleNodeA) {            return null;        }    }    // ç›¸äº¤ï¼Œä»»æ„ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹éƒ½å¯ä»¥æ˜¯ç›¸äº¤èŠ‚ç‚¹ã€‚    return cycleNodeA;    // å¦‚æœå…¥ç¯èŠ‚ç‚¹ä¸åŒï¼Œå¹¶ä¸”ç›¸äº¤ï¼Œé‚£ä¹ˆè‚¯å®šæœ‰ä¸¤ä¸ªç›¸äº¤èŠ‚ç‚¹    // return cycleNodeB;}// åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯public static ListNode hasCycle(ListNode head) {    if (head == null) {        return null;    }    ListNode slow = head, fast = head;    while (fast.next != null &amp;&amp; fast.next.next != null) {        slow = slow.next;        fast = fast.next.next;        if (fast == slow) {            fast = head;            while (fast != slow) {                fast = fast.next;                slow = slow.next;            }            return fast;        }    }    return null;}// åˆ¤æ–­ä¸¤ä¸ªæ— ç¯é“¾è¡¨æ˜¯å¦ç›¸äº¤ï¼Œæ‰‹åŠ¨è®¾å®šç»ˆæ­¢èŠ‚ç‚¹endNodepublic static ListNode getIntersectionNodeNoLoop(ListNode headA, ListNode headB, ListNode endNode) {    ListNode pA = headA, pB = headB;    while (pA != pB) {        pA = pA == endNode ? headB : pA.next;        pB = pB == endNode ? headA : pB.next;    }    return pA;}\nåè½¬é“¾è¡¨\n206.\nåè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘â€œä¸Šä¸€ä¸ªèŠ‚ç‚¹â€â€œå½“å‰èŠ‚ç‚¹â€å’Œâ€œä¸‹ä¸€ä¸ªèŠ‚ç‚¹â€ï¼Œéå†è¿‡ç¨‹ä¸­åè½¬â€œä¸Šä¸€ä¸ªèŠ‚ç‚¹â€å’Œâ€œå½“å‰èŠ‚ç‚¹â€çš„æŒ‡å‘ã€‚\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode() {} *     ListNode(int val) { this.val = val; } *     ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */class Solution {    public ListNode reverseList(ListNode head) {        ListNode pre = null, cur = head;        while (cur != null) {            ListNode next = cur.next;            cur.next = pre;            pre = cur;            cur = next;        }        return pre;    }}\nå›æ–‡é“¾è¡¨\n234.\nå›æ–‡é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\néœ€è¦ä½¿ç”¨O(1)çš„ç©ºé—´å¤æ‚åº¦ï¼Œå›æ–‡çš„å®šä¹‰ï¼šä»å‰å‘åå’Œä»åå‘å‰éå†çš„ç»“æœç›¸åŒã€‚ä½†æ˜¯åŸé“¾è¡¨æ˜¯å•å‘é“¾è¡¨ï¼Œå› æ­¤å¦‚æœæƒ³ä»åå‘å‰éå†ï¼Œéœ€è¦å°†ååŠéƒ¨åˆ†çš„é“¾è¡¨åè½¬ã€‚\nå› æ­¤éœ€è¦åˆ¤æ–­ä»€ä¹ˆæ—¶å€™åˆ°è¾¾äº†â€œä¸­é—´â€ä½ç½®ï¼Œç„¶åå°†ä¸­é—´åŠå…¶ä¹‹åçš„é“¾è¡¨åè½¬ã€‚\nè¿™é‡Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå› ä¸ºå¿«æŒ‡é’ˆè¡Œè¿›é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆ 2\nå€ï¼Œæ‰€ä»¥å½“å¿«æŒ‡é’ˆåˆ°ç»“å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆè¡Œè¿›äº†é“¾è¡¨é•¿åº¦çš„ä¸€åŠã€‚\nè¿™é‡Œåˆ†ä¸¤ç§æƒ…å†µè€ƒè™‘ï¼Œé“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°å’Œå¶æ•°ã€‚\n\nå¦‚å›¾æ‰€ç¤ºï¼Œå½“å¿«æ…¢æŒ‡é’ˆç»“æŸæ—¶ï¼Œå¥‡æ•°é•¿åº¦çš„é“¾è¡¨æ…¢æŒ‡é’ˆåœ¨æ­£ä¸­å¿ƒçš„ä½ç½®ï¼Œå¶æ•°é•¿åº¦çš„é“¾è¡¨æ…¢æŒ‡é’ˆåœ¨å‰åŠéƒ¨åˆ†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ä½ç½®ã€‚\né€šè¿‡è§‚å¯Ÿå¯ä»¥çŸ¥é“ï¼Œå¥‡æ•°é•¿åº¦çš„é“¾è¡¨æ­£ä¸­å¿ƒçš„èŠ‚ç‚¹å¹¶ä¸å½±å“æ•´ä½“çš„å›æ–‡æ€§ï¼Œå¶æ•°é•¿åº¦çš„é“¾è¡¨éœ€è¦å°†ååŠéƒ¨åˆ†çš„é“¾è¡¨åè½¬ï¼Œå› æ­¤å¯ä»¥ç¡®å®šéœ€è¦åè½¬çš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ä¸ºslow.nextï¼Œåè½¬å®Œåè¿”å›å³åŠéƒ¨åˆ†å¤´èŠ‚ç‚¹ï¼Œä»å·¦åŠéƒ¨åˆ†å¤´èŠ‚ç‚¹å’Œå³åŠéƒ¨åˆ†å¤´èŠ‚ç‚¹åŒæ—¶éå†ï¼Œå¦‚æœä¸åŒåˆ™ç›´æ¥è¿”å›falseï¼Œéœ€è¦æ³¨æ„ç»ˆæ­¢æ¡ä»¶æ˜¯å³åŠéƒ¨åˆ†çš„èŠ‚ç‚¹èµ°åˆ°nullï¼Œå› ä¸ºé“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°æ—¶ï¼Œå·¦åŠéƒ¨åˆ†çš„é“¾è¡¨ä¼šå¤šä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹ã€‚\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode() {} *     ListNode(int val) { this.val = val; } *     ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */class Solution {    public boolean isPalindrome(ListNode head) {        if (head == null) {            return true;        }        ListNode fast = head, slow = head;        while (fast.next != null &amp;&amp; fast.next.next != null) {            fast = fast.next.next;            slow = slow.next;        }        fast = reverse(slow.next);        // ä¿å­˜åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹        ListNode temp = fast;        slow = head;        while (fast != null) {            if (fast.val != slow.val) {                return false;            }            fast = fast.next;            slow = slow.next;        }        // é“¾è¡¨æ¢å¤åŸçŠ¶        reverse(temp);        return true;    }    private ListNode reverse(ListNode head) {        ListNode pre = null, cur = head;        while (cur != null) {            ListNode next = cur.next;            cur.next = pre;            pre = cur;            cur = next;        }        return pre;    }}\nç¯å½¢é“¾è¡¨\n142.\nç¯å½¢é“¾è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶è¡¨æ˜å­˜åœ¨ç¯ï¼Œç„¶åå°†å¿«æŒ‡é’ˆä»å¤´èŠ‚ç‚¹å¼€å§‹éå†ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç›´åˆ°å†æ¬¡ç›¸é‡çš„èŠ‚ç‚¹å³ä¸ºç¯å½¢çš„å…¥å£ã€‚\nâ“ ä¸ºä»€ä¹ˆå°†å¿«æŒ‡é’ˆä»å¤´èŠ‚ç‚¹å¼€å§‹éå†å°±èƒ½æ‰¾åˆ°å…¥å£ï¼Ÿä¸‹è¾¹ç»™å‡ºè¯æ˜ï¼š\n\nå‡è®¾ç¯å½¢é“¾è¡¨ä¸­ä¸‰ä¸ªç‚¹ï¼Œå¤´èŠ‚ç‚¹ Aï¼Œå…¥å£èŠ‚ç‚¹ Bï¼Œå¿«æ…¢æŒ‡é’ˆç›¸é‡çš„èŠ‚ç‚¹\nCã€‚å› ä¸ºå¿«æŒ‡é’ˆçš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ 2 å€ï¼Œæ‰€ä»¥å¿«æŒ‡é’ˆè¡Œè¿›çš„è·ç¦»æ˜¯æ…¢æŒ‡é’ˆçš„ 2\nå€ï¼Œæ‰€ä»¥æœ‰ï¼Œç§»é¡¹å¯å¾—å³ï¼Œä¹Ÿå°±æ˜¯è¯´ä» C ç‚¹å’Œ A ç‚¹å‡ºå‘ï¼Œä»¥åŒæ ·çš„é€Ÿåº¦è¡Œè¿›ï¼Œä¼šåŒæ—¶åˆ°è¾¾\nB å³å…¥å£èŠ‚ç‚¹ã€‚\n/** * Definition for singly-linked list. * class ListNode { *     int val; *     ListNode next; *     ListNode(int x) { *         val = x; *         next = null; *     } * } */public class Solution {    public ListNode detectCycle(ListNode head) {        if (head == null) {            return null;        }        ListNode slow = head, fast = head;        while (fast.next != null &amp;&amp; fast.next.next != null) {            slow = slow.next;            fast = fast.next.next;            if (slow == fast) {                fast = head;                while (slow != fast) {                    slow = slow.next;                    fast = fast.next;                }                return fast;            }        }        return null;    }}\nåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹\n19.\nåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚ä½¿ç”¨ä¸€è¶Ÿéå†ï¼Œéš¾ç‚¹åœ¨äºéå†ä¸€è¶Ÿå°±è¦æ‰¾åˆ°ç¬¬ N\nä¸ªèŠ‚ç‚¹æ‰€åœ¨çš„ä½ç½®ã€‚å¦‚æœåªç”¨ä¸€ä¸ªæŒ‡é’ˆéå†é•¿åº¦ï¼Œåˆ™éœ€è¦éå†ä¸¤æ¬¡ã€‚\nå¦‚æœä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œè®©ç¬¬ä¸€ä¸ªæŒ‡é’ˆå…ˆèµ°n - 1æ­¥ï¼Œç„¶åè®©ç¬¬äºŒä¸ªæŒ‡é’ˆå’Œç¬¬ä¸€ä¸ªæŒ‡é’ˆåŒæ—¶è¡Œè¿›ï¼Œåˆ™å¯ä»¥ä¿è¯ä¸¤ä¸ªæŒ‡é’ˆçš„è·ç¦»å›ºå®šï¼Œå½“ç¬¬ä¸€ä¸ªæŒ‡é’ˆåˆ°è¾¾ç»“å°¾æ—¶ï¼Œç¬¬äºŒä¸ªæŒ‡é’ˆçš„ä½ç½®åˆ™ä¸ºéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œåˆ é™¤å³å¯ã€‚ï¼ˆæ³¨æ„ï¼šéœ€è¦å¤šä¸€ä¸ªpreæŒ‡é’ˆï¼Œä¸ç„¶æ— æ³•åˆ é™¤ï¼‰\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode() {} *     ListNode(int val) { this.val = val; } *     ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */class Solution {    public ListNode removeNthFromEnd(ListNode head, int n) {        ListNode first = head;        ListNode second = head;        ListNode pre = null;        for (int i = 0; i &lt; n - 1; i++) {            first = first.next;        }        while (first.next != null) {            first = first.next;            pre = second;            second = second.next;        }        if (pre == null) {            return head.next;        }        pre.next = second.next;        return head;    }}\nä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹\n24.\nä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né‡‡ç”¨â€œç±»ä¼¼å¤´æ’æ³•â€æ–¹å¼ï¼Œè®¾ç½®ä¸€ä¸ªtempèŠ‚ç‚¹ï¼ŒtempèŠ‚ç‚¹æŒ‡å‘çš„åç»­çš„èŠ‚ç‚¹å³ä¸ºéœ€è¦äº¤æ¢çš„èŠ‚ç‚¹ã€‚\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode() {} *     ListNode(int val) { this.val = val; } *     ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */class Solution {    public ListNode swapPairs(ListNode head) {        if (head == null || head.next == null) {            return head;        }        ListNode ansHead = new ListNode();        // ä¿è¯tempçš„åç»­èŠ‚ç‚¹å­˜åœ¨        ansHead.next = head;        ListNode temp = ansHead;        // ä¿è¯åç»­èŠ‚ç‚¹å­˜åœ¨ä¸¤ä¸ªèŠ‚ç‚¹æ‰å¯ä»¥äº¤æ¢ï¼Œå¦åˆ™ä¸èƒ½äº¤æ¢        while (temp.next != null &amp;&amp; temp.next.next != null) {            ListNode node1 = temp.next;            ListNode node2 = temp.next.next;            temp.next = node2;            // ä¿è¯é“¾è¡¨ä½¿ç”¨æ˜¯è¿æ¥çš„ï¼Œæ²¡æœ‰æ–­å¼€            node1.next = node2.next;            node2.next = node1;            // è¿›è¡Œxi            temp = node1;        }        return ansHead.next;    }}\nK ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨\n25.\nK ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚ K ä¸ªä¸€ç»„ï¼Œå¯ä»¥å‚è€ƒåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N\nä¸ªèŠ‚ç‚¹ï¼Œå…ˆèµ° K æ­¥ï¼Œç„¶åç¿»è½¬è¿™ K ä¸ªé“¾è¡¨ï¼Œä¾æ­¤ç±»æ¨ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯è®¾ç½®ä¸€ä¸ªdummyèŠ‚ç‚¹ï¼Œå³å¸¦å¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿åç»­æ“ä½œã€‚\n\n/** * Definition for singly-linked list. * function ListNode(val, next) { *     this.val = (val===undefined ? 0 : val) *     this.next = (next===undefined ? null : next) * } *//** * @param {ListNode} head * @param {number} k * @return {ListNode} */var reverseKGroup = function (head, k) {  let dummy = new ListNode(0, head);  let pre = dummy,    cur = dummy;  while (cur.next !== null) {    for (let i = 0; i &lt; k &amp;&amp; cur; i++) {      cur = cur.next;    }    if (!cur) {      break;    }    let start = pre.next,      end = cur.next;    pre.next = reverse(start, end);    start.next = end;    pre = start;    cur = start;  }  return dummy.next;};/**  headä¸ºå¤´èŠ‚ç‚¹ï¼Œendä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç†è§£ä¸ºnullï¼‰*/function reverse(head, end) {  if (!head) {    return null;  }  let pre = null,    cur = head;  while (cur !== end) {    let next = cur.next;    cur.next = pre;    pre = cur;    cur = next;  }  return pre;}\néšæœºé“¾è¡¨çš„å¤åˆ¶\n138.\néšæœºé“¾è¡¨çš„å¤åˆ¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ï¼Œå­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å¯¹åº”å¤åˆ¶çš„èŠ‚ç‚¹ï¼Œç„¶åéå†æ·»åŠ æŒ‡é’ˆã€‚\næ–¹æ³•äºŒï¼š\næ„é€ æ–°é“¾è¡¨æ—§é“¾è¡¨1 -&gt; æ–°é“¾è¡¨1 -&gt; æ—§é“¾è¡¨2 -&gt; æ–°é“¾è¡¨2 -&gt; ... -&gt; æ—§é“¾è¡¨n -&gt; æ–°é“¾è¡¨nï¼Œç„¶åéå†ï¼Œé€šè¿‡æ—§é“¾è¡¨çš„randomæŒ‡é’ˆï¼Œæ‰¾åˆ°æ–°é“¾è¡¨çš„randomèŠ‚ç‚¹ã€‚\n/** * // Definition for a _Node. * function _Node(val, next, random) { *    this.val = val; *    this.next = next; *    this.random = random; * }; *//** * @param {_Node} head * @return {_Node} */var copyRandomList = function (head) {  if (!head) {    return null;  }  // å¤åˆ¶é“¾è¡¨  let temp = head;  while (temp) {    let node = new _Node(temp.val, temp.next, null);    temp.next = node;    temp = node.next;  }  // è¿æ¥æ–°èŠ‚ç‚¹çš„randomæŒ‡é’ˆ  temp = head;  while (temp) {    if (temp.random) {      temp.next.random = temp.random.next;    }    temp = temp.next.next;  }  // æ‹†åˆ†é“¾è¡¨  temp = head;  let ansHead = head.next;  let ansTemp = ansHead;  while (temp) {    temp.next = ansTemp.next;    temp = ansTemp.next;    if (temp) {      ansTemp.next = temp.next;      ansTemp = temp.next;    }  }  return ansHead;};\næ’åºé“¾è¡¨\n148.\næ’åºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né“¾è¡¨æ’åºï¼Œé€šå¸¸ä½¿ç”¨å½’å¹¶æ’åºã€‚\nåˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­ç‚¹ï¼Œç„¶åä¸¤è¾¹åˆ†åˆ«æ’åºã€å½’å¹¶ã€‚\næ³¨æ„çš„æ˜¯ ?? å’Œ || çš„åŒºåˆ«ï¼š\n\nx ?? yæ˜¯å½“xä¸ºnullã€undefinedæ—¶å–\nyï¼Œå¦‚æœxä¸ºfalseã€0ã€''è¿™ç§ä»ç„¶å–xã€‚\nx || yå½“xä¸ºå‡å€¼å³nullã€undefinedã€falseã€0ã€''è¿™äº›å€¼æ—¶å–y\n\n/** * Definition for singly-linked list. * function ListNode(val, next) { *     this.val = (val===undefined ? 0 : val) *     this.next = (next===undefined ? null : next) * } *//** * @param {ListNode} head * @return {ListNode} */var sortList = function (head) {  if (!head || !head.next) {    return head;  }  let fast = head,    slow = head;  while (fast.next &amp;&amp; fast.next.next) {    fast = fast.next.next;    slow = slow.next;  }  let mid = slow.next;  slow.next = null;  let left = sortList(head);  let right = sortList(mid);  let ansHead = new ListNode();  let tail = ansHead;  while (left &amp;&amp; right) {    if (left.val &lt; right.val) {      tail.next = left;      left = left.next;    } else {      tail.next = right;      right = right.next;    }    tail = tail.next;  }  tail.next = left ?? right;  return ansHead.next;};\nåˆå¹¶ K ä¸ªå‡åºé“¾è¡¨\n23.\nåˆå¹¶ K ä¸ªå‡åºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå½’å¹¶æ’åºçš„æ€æƒ³ï¼Œæ¯ä¸¤ä¸ªåˆæˆä¸€ä¸ªï¼Œç„¶åç»§ç»­åˆæˆï¼Œç›´åˆ°å‰©ä¸‹æœ€åä¸€ä¸ªã€‚\n/** * Definition for singly-linked list. * function ListNode(val, next) { *     this.val = (val===undefined ? 0 : val) *     this.next = (next===undefined ? null : next) * } *//** * @param {ListNode[]} lists * @return {ListNode} */var mergeKLists = function (lists) {  if (lists.length === 0) {    return null;  }  return mergeList(lists, 0, lists.length - 1);};function mergeList(lists, left, right) {  if (left &gt;= right) {    return lists[left];  }  let mid = (left + right) &gt;&gt; 1;  let leftList = mergeList(lists, left, mid);  let rightList = mergeList(lists, mid + 1, right);  let dummy = new ListNode();  let tail = dummy;  while (leftList &amp;&amp; rightList) {    if (leftList.val &lt; rightList.val) {      tail.next = leftList;      leftList = leftList.next;    } else {      tail.next = rightList;      rightList = rightList.next;    }    tail = tail.next;  }  tail.next = leftList ?? rightList;  return dummy.next;}\nå®ç° LRU ç¼“å­˜\n146.\nLRU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næœ€è¿‘æœ€å°‘ä½¿ç”¨ç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé“¾è¡¨ä¿å­˜æ•°æ®ï¼Œå¦‚æœè¢«ä½¿ç”¨äº†åˆ™æ”¾åœ¨é“¾è¡¨å¤´æˆ–è€…å°¾ï¼Œè¿™æ ·ä¸€æ¥ï¼Œé“¾è¡¨çš„æŸä¸ªæ–¹å‘ä¸Šå°±æ˜¯æœ€è¿‘çš„ä½¿ç”¨é¢‘ç‡é€’å‡çš„è¶‹åŠ¿ã€‚åŒæ—¶ä½¿ç”¨é“¾è¡¨ç§»åŠ¨æ•°æ®çš„æ“ä½œæ˜¯\nO(1)çš„ã€‚\nä½†æ˜¯æŸ¥æ‰¾å¾ˆè€—æ—¶ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨å“ˆå¸Œçš„æ–¹å¼ï¼Œå­˜å‚¨æ¯ä¸ª key\nå¯¹åº”çš„é“¾è¡¨çš„èŠ‚ç‚¹ã€‚\nclass ListNode {  constructor(val, pre, next) {    this.val = val ?? { key: 0, value: 0 };    this.pre = pre ?? null;    this.next = next ?? null;  }}/** * @param {number} capacity */var LRUCache = function (capacity) {  this.capacity = capacity;  this.size = 0;  this.dummyHead = new ListNode();  this.dummyTail = new ListNode();  this.dummyHead.next = this.dummyTail;  this.dummyTail.pre = this.dummyHead;  this.kv = new Map();};/** * @param {number} key * @return {number} */LRUCache.prototype.get = function (key) {  if (!this.kv.has(key)) {    return -1;  }  const temp = this.kv.get(key);  removeNode(temp);  addToTail(this.dummyTail, temp);  return temp.val.value;};/** * @param {number} key * @param {number} value * @return {void} */LRUCache.prototype.put = function (key, value) {  if (this.kv.has(key)) {    const temp = this.kv.get(key);    temp.val.value = value;    removeNode(temp);    addToTail(this.dummyTail, temp);  } else {    const temp = new ListNode({ key, value });    addToTail(this.dummyTail, temp);    this.kv.set(key, temp);    if (this.size &lt; this.capacity) {      this.size++;    } else {      this.kv.delete(this.dummyHead.next.val.key);      removeNode(this.dummyHead.next);    }  }};function removeNode(temp) {  temp.pre.next = temp.next;  temp.next.pre = temp.pre;}function addToTail(dummyTail, temp) {  temp.next = dummyTail;  temp.pre = dummyTail.pre;  dummyTail.pre = temp;  temp.pre.next = temp;}/** * Your LRUCache object will be instantiated and called as such: * var obj = new LRUCache(capacity) * var param_1 = obj.get(key) * obj.put(key,value) */\nstruct Node {    int key, val;    Node *next;    Node *prev;    Node(int key, int val) {        this-&gt;key = key;        this-&gt;val = val;        this-&gt;next = nullptr;        this-&gt;prev = nullptr;    }    Node(int key, int val, Node *next, Node *prev) {        this-&gt;key = key;        this-&gt;val = val;        this-&gt;next = next;        this-&gt;prev = prev;    }};class LRUCache {public:    int size;    unordered_map&lt;int, Node*&gt; hash;    Node *dummyHead;    Node *dummyTail;    LRUCache(int capacity) {        size = capacity;        dummyHead = new Node(0, 0);        dummyTail = new Node(0, 0);        dummyHead-&gt;next = dummyTail;        dummyTail-&gt;prev = dummyHead;    }    void addNodeToHead(Node *temp) {        temp-&gt;next = dummyHead-&gt;next;        temp-&gt;prev = dummyHead;        dummyHead-&gt;next-&gt;prev = temp;        dummyHead-&gt;next = temp;    }    void removeNode(Node *temp) {        temp-&gt;prev-&gt;next = temp-&gt;next;        temp-&gt;next-&gt;prev = temp-&gt;prev;    }    int get(int key) {        if (!hash.count(key)) {            return -1;        }        auto temp = hash[key];        removeNode(temp);        addNodeToHead(temp);        return temp-&gt;val;    }    void put(int key, int value) {        if (hash.count(key)) {            auto temp = hash[key];            temp-&gt;val = value;            removeNode(temp);            addNodeToHead(temp);        } else {            auto temp = new Node(key, value);            hash[key] = temp;            addNodeToHead(temp);            if (hash.size() &gt; size) {                auto removed = dummyTail-&gt;prev;                removeNode(removed);                hash.erase(removed-&gt;key);                delete removed;            }        }    }};/** * Your LRUCache object will be instantiated and called as such: * LRUCache* obj = new LRUCache(capacity); * int param_1 = obj-&gt;get(key); * obj-&gt;put(key,value); */\näºŒå‰æ ‘çš„å±‚åºéå†\n102.\näºŒå‰æ ‘çš„å±‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå±‚åºéå†ä½¿ç”¨é˜Ÿåˆ—å³å¯ï¼Œä½†æ˜¯é¢˜ç›®ä¸­è¦æ±‚æ¯ä¸€å±‚çš„æ•°æ®å•ç‹¬ä½œä¸ºä¸€ä¸ªå­æ•°ç»„ä¿å­˜ã€‚\nåœ¨æ¯æ¬¡éå†é˜Ÿåˆ—ä¹‹å‰ï¼Œå¯ä»¥è·å–é˜Ÿåˆ—çš„é•¿åº¦ï¼Œå³è¡¨ç¤ºå½“å‰å±‚çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚ç„¶åä¸€æ¬¡æ€§éå†å½“å‰å±‚æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œä¸‹ä¸€æ¬¡éå†çš„æ—¶å€™ï¼Œå°±æ˜¯éå†çš„ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @return {number[][]} */var levelOrder = function (root) {  if (!root) {    return [];  }  const ans = [];  const que = [root];  while (que.length) {    const ret = [];    const size = que.length;    for (let i = 0; i &lt; size; i++) {      const temp = que.shift();      ret.push(temp.val);      if (temp.left) {        que.push(temp.left);      }      if (temp.right) {        que.push(temp.right);      }    }    ans.push(ret);  }  return ans;};\nå°†æœ‰åºæ•°ç»„è½¬ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘\n108.\nå°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼Œåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°çš„æœç´¢æ ‘æ˜¯å¹³è¡¡çš„ï¼Œå¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯æ„é€ ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {number[]} nums * @return {TreeNode} */var sortedArrayToBST = function (nums) {  return recur(nums, 0, nums.length - 1);};function recur(nums, left, right) {  if (left === right) {    return new TreeNode(nums[left]);  } else if (left &gt; right) {    return null;  }  const mid = (left + right) &gt;&gt; 1;  const root = new TreeNode(nums[mid]);  root.left = recur(nums, left, mid - 1);  root.right = recur(nums, mid + 1, right);  return root;}\néªŒè¯æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘\n98.\néªŒè¯äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œä¸­åºéå†çš„ç»“æœæ˜¯æœ‰åºçš„ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨ä¸­åºéå†ï¼ŒåŒæ—¶ä½¿ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜éå†æ—¶ä¸Šæ¬¡çš„ç»“æœï¼Œå½“å‰å€¼å¤§äºä¸Šä¸€æ¬¡çš„å€¼å¹¶ä¸”å·¦å³å­æ ‘éƒ½ä¸ºäºŒå‰æœç´¢æ ‘æ‰ä¸ºäºŒå‰æœç´¢æ ‘ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @return {boolean} */var isValidBST = function (root) {  let pre = Number.MIN_SAFE_INTEGER;  function recur(root) {    if (!root) {      return true;    }    const leftBST = recur(root.left);    const cur = root.val;    if (pre &lt; cur) {      pre = cur;    } else {      return false;    }    const rightBST = recur(root.right);    return leftBST &amp;&amp; rightBST;  }  return recur(root);};\näºŒå‰æœç´¢æ ‘ç¬¬ K å°çš„å…ƒç´ \n230.\näºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nç”±äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œä¸­åºéå†ä¸ºä»å°åˆ°å¤§çš„åºåˆ—ï¼Œå¯ä»¥é‡‡ç”¨ä¸­åºéå†çš„æ–¹å¼ï¼Œéå†åˆ°ç¬¬\nK ä¸ªæ•°çš„æ—¶å€™è®°å½•å€¼ï¼Œå³ä¸ºç¬¬ K å°çš„å…ƒç´ ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @param {number} k * @return {number} */var kthSmallest = function (root, k) {  let ans = 0;  function recur(root) {    if (!root) {      return;    }    recur(root.left);    // éå†ä¸€ä¸ªä¹‹åkå‡1ï¼Œå½“k === 0æ—¶è¯´æ˜å·²ç»éå†åˆ°äº†ï¼Œåç»­å°±ä¸èƒ½å†éå†äº†ã€‚    if (k === 0) {      return;    }    if (k === 1) {      ans = root.val;    }    k--;    recur(root.right);  }  recur(root);  return ans;};\näºŒå‰æ ‘çš„å³è§†å›¾\n199.\näºŒå‰æ ‘çš„å³è§†å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚æ¯ä¸€å±‚çš„æœ€å³è¾¹çš„æ•°æ®ï¼Œå¯ä»¥è€ƒè™‘ç”¨å±‚åºéå†ï¼Œæ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªæ•°æ®ä¸ºç»“æœé›†çš„æ•°æ®ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @return {number[]} */var rightSideView = function (root) {  if (!root) {    return [];  }  const ans = [];  const que = [];  que.push(root);  while (que.length) {    const size = que.length;    for (let i = 0; i &lt; size; i++) {      const temp = que.shift();      if (i === size - 1) {        ans.push(temp.val);      }      // ä¸‹è¾¹ä¸¤ä¸ªåˆ¤æ–­å¯ä»¥ç”¨å¦ä¸€ç§æ–¹å¼å†™      // temp.left &amp;&amp; que.push(temp.left)      // temp.right &amp;&amp; que.push(temp.right)      if (temp.left) {        que.push(temp.left);      }      if (temp.right) {        que.push(temp.right);      }    }  }  return ans;};\näºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨\n114.\näºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næŒ‰ç…§å…ˆåºéå†æ–¹å¼å±•å¼€ï¼Œå·¦æŒ‡é’ˆå§‹ç»ˆä¸º\nnullï¼Œè€Œå…ƒç´ éƒ½åœ¨å³æŒ‡é’ˆï¼Œè€ƒè™‘æŒ‰ç…§é€’å½’çš„åšæ³•ï¼Œå°†å·¦å³å­æ ‘åˆ†åˆ«å±•å¼€ï¼Œç„¶åå°†å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰é“¾æ¥åˆ°å³å­æ ‘ä¸Šã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @return {void} Do not return anything, modify root in-place instead. */var flatten = function (root) {  if (!root) {    return null;  }  flatten(root.left);  flatten(root.right);  let temp = root.left;  if (temp) {    // ä¸€ç›´æ‰¾åˆ°å±•å¼€å¥½çš„å·¦å­æ ‘çš„æœ€åçš„èŠ‚ç‚¹    while (temp.right) {      temp = temp.right;    }    temp.right = root.right;    root.right = root.left;    root.left = null;  }};\nè¦æ±‚ä½¿ç”¨O(1)çš„ç©ºé—´å¤æ‚åº¦ï¼Œä¸ä½¿ç”¨å‰åºéå†çš„æ–¹å¼ï¼Œè½¬æ¢æ€è·¯ã€‚\nå‰åºéå†ç‰¹ç‚¹ä¸ºï¼šæ ¹ã€å·¦ã€å³ï¼Œå¦‚æœè¦å±•å¼€æˆä¸€ä¸ªé“¾è¡¨ï¼Œåˆ™å½“å‰èŠ‚ç‚¹currçš„å³å­èŠ‚ç‚¹ï¼Œä¸€å®šæ’åœ¨currçš„å·¦å­æ ‘çš„æŸä¸ªèŠ‚ç‚¹ä¹‹åã€‚æ ¹æ®ç‰¹ç‚¹ï¼Œå¯ä»¥çŸ¥é“ï¼Œå·¦å­æ ‘çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸€å®šæ˜¯å·¦å­æ ‘ï¼ˆéç©ºï¼‰æœ€å³ä¾§çš„èŠ‚ç‚¹ï¼Œå› æ­¤æ‰¾åˆ°åï¼Œå¯ä»¥è®¤ä¸ºè¿™ä¸ªæœ€å³ä¾§çš„èŠ‚ç‚¹æ˜¯å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹prevï¼Œå°†prevçš„å³å­©å­è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå³å­©å­ï¼ˆå› ä¸ºå·¦å­æ ‘ä¸€å®šæ˜¯å½“å‰èŠ‚ç‚¹çš„åé©±èŠ‚ç‚¹ï¼‰ï¼Œå¹¶å°†å·¦å­æ ‘ç½®ç©ºã€‚å°†å½“å‰èŠ‚ç‚¹å‘å³å­©å­èµ°ä¸€æ­¥ï¼Œå®Œæˆä¸€è½®å¾ªç¯ã€‚\n/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */class Solution {public:    void flatten(TreeNode* root) {        if (!root) return;        auto curr = root;        while (curr) {            if (curr-&gt;left) {                auto prev = curr-&gt;left;                while (prev-&gt;right) {                    prev = prev-&gt;right;                }                prev-&gt;right = curr-&gt;right;                curr-&gt;right = curr-&gt;left;                curr-&gt;left = nullptr;            }            curr = curr-&gt;right;        }    }};\nä»å‰åºéå†å’Œä¸­åºéå†æ„é€ äºŒå‰æ ‘\n105.\nä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ ¹æ®å‰åºéå†ç‰¹ç‚¹ï¼Œæœ€å…ˆéå†çš„è‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªæ•°ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ ¹æ®è¿™ä¸ªæ ¹èŠ‚ç‚¹ï¼Œä»ä¸­åºéå†æ‰¾åˆ°å¯¹åº”çš„ä½ç½®ï¼Œé‚£ä¹ˆä¸­åºéå†è¯¥ä½ç½®çš„å·¦è¾¹ä¸ºå·¦å­æ ‘çš„èŠ‚ç‚¹ï¼Œå³è¾¹ä¸ºå³å­æ ‘çš„èŠ‚ç‚¹ï¼Œä¾æ¬¡é€’å½’ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {number[]} preorder * @param {number[]} inorder * @return {TreeNode} */var buildTree = function (preorder, inorder) {  function recur(preorder, preLeft, preRight, inorder, inLeft, inRight) {    if (preLeft &gt; preRight) {      return null;    }    const root = new TreeNode(preorder[preLeft]);    const inIndex = inorder.findIndex((item) =&gt; item === root.val);    const leftLength = inIndex - inLeft,      rightLength = inRight - inIndex;    root.left = recur(      preorder,      preLeft + 1,      preLeft + leftLength,      inorder,      inLeft,      inIndex - 1    );    root.right = recur(      preorder,      preLeft + leftLength + 1,      preRight,      inorder,      inIndex + 1,      inRight    );    return root;  }  return recur(preorder, 0, preorder.length - 1, inorder, 0, inorder.length - 1);};\nè·¯å¾„æ€»å’Œ â…¢\n437.\nè·¯å¾„æ€»å’Œ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ¯æ¬¡è®¡ç®—ä»¥rootä¸ºæ ¹èŠ‚ç‚¹ï¼Œå‘ä¸‹è®¡ç®—æ»¡è¶³targetSumçš„ä¸ªæ•°ï¼Œè®°ä¸ºrootSum(root, targetSum)ï¼Œç„¶åé€’å½’éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œè®¡ç®—ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ»¡è¶³æ¡ä»¶çš„ä¸ªæ•°ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @param {number} targetSum * @return {number} */var pathSum = function (root, targetSum) {  if (!root) {    return 0;  }  return (    rootSum(root, targetSum) +    pathSum(root.left, targetSum) +    pathSum(root.right, targetSum)  );};function rootSum(root, targetSum) {  if (!root) {    return 0;  }  return (    rootSum(root.left, targetSum - root.val) +    rootSum(root.right, targetSum - root.val) +    (root.val === targetSum ? 1 : 0)  );}\næ³•äºŒï¼šå‰ç¼€å’Œ\nä»rootèŠ‚ç‚¹åˆ°nodeèŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„å’Œè®°ä¸ºå‰ç¼€å’Œï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç»´çš„å‰ç¼€å’Œã€‚\nä½¿ç”¨å‰åºéå†ï¼Œéå†è¿‡ç¨‹ä¸­è®°å½•å‰ç¼€å’Œï¼ŒåŒæ—¶è®°å½•æ»¡è¶³è¯¥å‰ç¼€å’Œçš„èŠ‚ç‚¹ä¸ªæ•°ã€‚\nå¦‚æœrootåˆ°nodeä¹‹é—´çš„èŠ‚ç‚¹pæ»¡è¶³prefixSum - targetSumï¼Œåˆ™è¯´æ˜pèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åˆ°nodeèŠ‚ç‚¹å‰ç¼€å’Œä¸ºtargetSumã€‚\nè®¡ç®—å®Œæˆåæ¢å¤ï¼Œå› ä¸ºè®¡ç®—å…¶ä»–è·¯å¾„çš„å‰ç¼€å’Œæ—¶å¯èƒ½æœ‰ç›¸åŒçš„å‰ç¼€å’Œï¼Œä½†æ˜¯å…¶ä»–è·¯å¾„çš„ä¼šå½±å“å½“å‰è·¯å¾„ï¼Œå› æ­¤éœ€è¦åˆ é™¤ã€‚å‚è€ƒï¼šé¢˜è§£\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @param {number} targetSum * @return {number} */var pathSum = function (root, targetSum) {  if (!root) {    return 0;  }  const prefix = new Map();  prefix.set(0, 1);  return dfs(root, prefix, 0, targetSum);};function dfs(root, prefix, curr, targetSum) {  if (!root) {    return 0;  }  curr += root.val;  let ret = prefix.get(curr - targetSum) ?? 0;  prefix.set(curr, (prefix.get(curr) ?? 0) + 1);  ret += dfs(root.left, prefix, curr, targetSum);  ret += dfs(root.right, prefix, curr, targetSum);  prefix.set(curr, prefix.get(curr) - 1);  return ret;}\näºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ\n236.\näºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n/** * Definition for a binary tree node. * function TreeNode(val) { *     this.val = val; *     this.left = this.right = null; * } *//** * @param {TreeNode} root * @param {TreeNode} p * @param {TreeNode} q * @return {TreeNode} */var lowestCommonAncestor = function (root, p, q) {  if (!root || root === p || root === q) {    return root;  }  const left = lowestCommonAncestor(root.left, p, q);  const right = lowestCommonAncestor(root.right, p, q);  if (!left) {    return right;  }  if (!right) {    return left;  }  return root;};\näºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ\n124.\näºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né‡‡ç”¨é€’å½’çš„æ–¹å¼ï¼Œè®¾ç½®maxGain(root)å‡½æ•°ï¼Œè¡¨ç¤ºä»ä»rootèŠ‚ç‚¹ä¸Šèƒ½è·å¾—çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œè´¡çŒ®å€¼è¡¨ç¤ºä¸ºä»rootèŠ‚ç‚¹å‘å·¦å­æ ‘æˆ–è€…å³å­æ ‘å»¶ç”³ï¼ˆåªèƒ½æ˜¯rootçš„å·¦å­æ ‘æˆ–è€…å³å­æ ‘ä¸€ä¸ªæ–¹å‘ï¼‰ï¼Œå¾—åˆ°çš„æœ€å¤§çš„å€¼ï¼Œä»¥æ­¤ç±»æ¨ï¼Œroo.leftçš„æœ€å¤§è´¡çŒ®å€¼è¡¨ç¤ºä¸ºroot.leftå‘å·¦å­æ ‘æˆ–è€…å³å­æ ‘å»¶ç”³ã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚\nå¯ä»¥åœ¨é€’å½’çš„æ—¶å€™æ±‚å‡ºæœ€å¤§çš„è·¯å¾„å’Œã€‚å½“å·¦å­æ ‘å’Œå³å­æ ‘çš„æœ€å¤§è´¡çŒ®å€¼å¤§äº 0\nçš„æ—¶å€™ï¼Œæ‰èƒ½ç®—ä½œè´¡çŒ®å»è®¡ç®—è·¯å¾„å’Œï¼Œå¦åˆ™è¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨æ ¹èŠ‚ç‚¹å½“ä½œå•ç‹¬çš„è·¯å¾„å’Œå¤§ã€‚æœ€åè¿”å›è´¡çŒ®å€¼ï¼Œé€‰æ‹©å·¦å³å­æ ‘æœ€å¤§çš„ä½œä¸ºè´¡çŒ®å€¼ã€‚\n/** * Definition for a binary tree node. * function TreeNode(val, left, right) { *     this.val = (val===undefined ? 0 : val) *     this.left = (left===undefined ? null : left) *     this.right = (right===undefined ? null : right) * } *//** * @param {TreeNode} root * @return {number} */var maxPathSum = function (root) {  let maxSum = -Infinity;  function maxGain(root) {    if (!root) {      return 0;    }    const leftGain = Math.max(maxGain(root.left), 0);    const rightGain = Math.max(maxGain(root.right), 0);    const temp = root.val + leftGain + rightGain;    console.log(maxSum);    maxSum = Math.max(maxSum, temp);    return root.val + Math.max(leftGain, rightGain);  }  maxGain(root);  return maxSum;};\nå²›å±¿æ•°é‡\n200.\nå²›å±¿æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼Œé‡åˆ°1åè¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œå°†éå†åˆ°çš„æ‰€æœ‰1è¿›è¡Œæ ‡è®°ï¼Œç»„æˆå²›å±¿ã€‚\n/** * @param {character[][]} grid * @return {number} */var numIslands = function (grid) {  const m = grid.length,    n = grid[0].length;  const visited = new Array(m).fill(null).map((item) =&gt; new Array(n).fill(false));  const dx = [0, 1, 0, -1],    dy = [1, 0, -1, 0];  function dfs(grid, x, y) {    visited[x][y] = true;    for (let i = 0; i &lt; dx.length; i++) {      const nx = x + dx[i],        ny = y + dy[i];      if (        nx &lt; 0 ||        ny &lt; 0 ||        nx &gt;= m ||        ny &gt;= n ||        grid[nx][ny] === '0' ||        visited[nx][ny]      ) {        continue;      }      dfs(grid, nx, ny);    }  }  let ans = 0;  for (let i = 0; i &lt; grid.length; i++) {    for (let j = 0; j &lt; grid[i].length; j++) {      // éå†æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå½“ä¸º1ä¸”æ²¡æœ‰è¢«è®¿é—®æ—¶ï¼Œè¯´æ˜ä¼šç»„æˆä¸€ä¸ªæ–°çš„å²›å±¿ï¼Œç»“æœ+1      if (grid[i][j] === '1' &amp;&amp; !visited[i][j]) {        dfs(grid, i, j);        ans++;      }    }  }  return ans;};\nè…çƒ‚çš„æ©˜å­\n994.\nè…çƒ‚çš„æ©˜å­ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå¤šæºçš„å®½åº¦ä¼˜å…ˆæœç´¢ï¼Œå› ä¸ºå¯èƒ½åŒæ—¶å­˜åœ¨å¤šä¸ªè…çƒ‚çš„æ©˜å­ï¼Œæ˜¯åŒæ—¶æ‰©æ•£çš„ã€‚\nåˆå§‹æ—¶æ‰¾åˆ°æ‰€æœ‰è…çƒ‚çš„æ©˜å­åŠ å…¥é˜Ÿåˆ—ï¼Œä½œä¸ºåˆå§‹çš„å¤šä¸ªèµ·ç‚¹ï¼Œç„¶åéå†ï¼ŒåŒæ—¶è¿™é‡Œä½¿ç”¨äº†102.\näºŒå‰æ ‘çš„å±‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰çš„æ–¹æ³•ï¼Œæ¯ä¸€æ¬¡éå†â€œä¸€å±‚â€ã€‚\n/** * @param {number[][]} grid * @return {number} */var orangesRotting = function (grid) {  const m = grid.length,    n = grid[0].length;  const que = [];  // ä¿å­˜æ‰€æœ‰å¥½çš„æ©˜å­  let cnt = 0;  for (let i = 0; i &lt; grid.length; i++) {    for (let j = 0; j &lt; grid[i].length; j++) {      grid[i][j] === 2 &amp;&amp; que.push([i, j]);      grid[i][j] === 1 &amp;&amp; cnt++;    }  }  const dx = [0, 1, 0, -1],    dy = [1, 0, -1, 0];  let ans = 0;  // æ²¡æœ‰éå†å®Œå¹¶ä¸”è¿˜æœ‰å¥½çš„æ©˜å­ï¼Œè¯´æ˜å¯ä»¥ç»§ç»­è…çƒ‚ï¼Œå¦åˆ™ï¼Œä¸å†ç»§ç»­éå†ã€‚  while (que.length &amp;&amp; cnt) {    ans++;    let size = que.length;    while (size--) {      const [x, y] = que.shift();      for (let i = 0; i &lt; dx.length; i++) {        const nx = x + dx[i],          ny = y + dy[i];        if (nx &lt; 0 || ny &lt; 0 || nx &gt;= m || ny &gt;= n || grid[nx][ny] !== 1) {          continue;        }        // è…çƒ‚ååˆ™å‡1        cnt--;        grid[nx][ny] = 2;        que.push([nx, ny]);      }    }  }  // å¦‚æœè¿˜æœ‰å¥½çš„æ©˜å­ï¼Œè¯´æ˜ä¸å¯èƒ½  return cnt === 0 ? ans : -1;};\nè¯¾ç¨‹è¡¨\n207.\nè¯¾ç¨‹è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ‹“æ‰‘æ’åºï¼Œé¦–å…ˆæ˜¯å›¾çš„æ„é€ ï¼Œä½¿ç”¨äºŒç»´æ•°ç»„è¡¨ç¤ºï¼Œgraph[i] = [a, b, c]è¡¨ç¤ºiæŒ‡å‘a, b, cã€‚\n/** * @param {number} numCourses * @param {number[][]} prerequisites * @return {boolean} */var canFinish = function (numCourses, prerequisites) {  const graph = new Array(numCourses).fill(null).map((item) =&gt; []);  const indegree = new Array(numCourses).fill(0);  for (const [a, b] of prerequisites) {    graph[b].push(a);    indegree[a]++;  }  const que = [];  for (let i = 0; i &lt; numCourses; i++) {    indegree[i] === 0 &amp;&amp; que.push(i);  }  while (que.length) {    const i = que.shift();    for (const j of graph[i]) {      indegree[j]--;      indegree[j] === 0 &amp;&amp; que.push(j);    }  }  for (let i = 0; i &lt; numCourses; i++) {    if (indegree[i] !== 0) {      return false;    }  }  return true;};\nå®ç° Trie æ ‘\n208.\nå®ç° Trie (å‰ç¼€æ ‘) - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ¯ä¸ªèŠ‚ç‚¹ï¼ˆå‡è®¾ï¼‰æœ‰ 26\nä¸ªå­æ ‘ï¼ˆæ ¹æ®å­—ç¬¦é›†å†³å®šï¼‰ï¼Œæ¯ä¸ªè¾¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœæœ‰è¿™ä¸ªè¾¹ï¼Œè¡¨ç¤ºå­˜åœ¨ï¼Œæ²¡æœ‰è¾¹è¡¨ç¤ºä¸å­˜åœ¨ã€‚\nå¦‚æœéœ€è¦åˆ¤æ–­æ¯ä¸ªå•è¯å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œæˆ–è€…æ˜¯ä»¥æŸä¸ªå•è¯ä¸ºå‰ç¼€çš„å•è¯æœ‰å¤šå°‘ä¸ªï¼Œå¯ä»¥å¢åŠ å˜é‡\nend: int, pass: intç”¨æ•°é‡è¡¨ç¤º\nvar Trie = function () {  this.next = new Map();  this.end = false;};/** * @param {string} word * @return {void} */Trie.prototype.insert = function (word) {  let temp = this;  for (let i = 0; i &lt; word.length; i++) {    const c = word[i];    // åŸæ¥ä¸å­˜åœ¨æ‰åˆ›å»ºï¼Œå¦åˆ™ä¼šä¸¢å¤±åŸæœ‰çš„æ•°æ®    if (!temp.next.get(c)) {      temp.next.set(c, new Trie());    }    temp = temp.next.get(c);  }  temp.end = true;};/** * @param {string} word * @return {boolean} */Trie.prototype.search = function (word) {  let temp = this;  for (let c of word) {    // è·å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹    const node = temp.next.get(c);    // å¦‚æœæ²¡æœ‰åˆ™è¯´æ˜æ²¡æœ‰æ·»åŠ è¿‡    if (!node) {      return false;    }    temp = node;  }  // å¦‚æœendä¸ºtrueè¯´æ˜æ·»åŠ çš„æ˜¯è¿™ä¸ªå•è¯ï¼Œå¦åˆ™åªèƒ½è¯´æ˜ä»¥è¿™ä¸ªå•è¯ä¸ºå‰ç¼€  return temp.end;};/** * @param {string} prefix * @return {boolean} */Trie.prototype.startsWith = function (prefix) {  let temp = this;  for (let c of prefix) {    const node = temp.next.get(c);    if (!node) {      return false;    }    temp = node;  }  return true;};/** * Your Trie object will be instantiated and called as such: * var obj = new Trie() * obj.insert(word) * var param_2 = obj.search(word) * var param_3 = obj.startsWith(prefix) */\nå…¨æ’åˆ—\n46.\nå…¨æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né¢˜ç›®ä¸­é™å®šäº†æ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼Œé€’å½’æ—¶æ— éœ€ç‰¹åˆ¤ã€‚\n/** * @param {number[]} nums * @return {number[][]} */var permute = function (nums) {  const ans = [];  function dfs(nums, k) {    if (nums.length === k) {      ans.push(nums.slice());      return;    }    for (let i = k; i &lt; nums.length; i++) {      // äº¤æ¢å½“å‰ä½ç½®å’Œç¬¬iä¸ªä½ç½®çš„å…ƒç´       [nums[i], nums[k]] = [nums[k], nums[i]];      dfs(nums, k + 1);      // å¤ä½      [nums[i], nums[k]] = [nums[k], nums[i]];    }  }  dfs(nums, 0);  return ans;};\nå­é›†\n78.\nå­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ±‚å­é›†ï¼Œæ ¸å¿ƒæ€æƒ³å¯ä»¥ç”¨äºŒè¿›åˆ¶è€ƒè™‘ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰â€œè¦â€æˆ–è€…â€œä¸è¦â€ä¸¤ç§é€‰æ‹©ï¼Œå¯ä»¥é‡‡ç”¨é€’å½’çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨è¿­ä»£ä½¿ç”¨äºŒè¿›åˆ¶æ–¹å¼ï¼ŒäºŒè¿›åˆ¶çš„æŸä½ä¸º\n1 æ—¶è¡¨ç¤ºè¦ï¼Œ0 è¡¨ç¤ºä¸è¦ã€‚\nä½¿ç”¨å›æº¯æ–¹å¼\n/** * @param {number[]} nums * @return {number[][]} */var subsets = function (nums) {  const ans = [];  function dfs(k, ret) {    if (k === nums.length) {      ans.push(ret.slice());      return;    }    dfs(k + 1, ret);    ret.push(nums[k]);    dfs(k + 1, ret);    // å½’ä½ï¼Œ    ret.pop();  }  dfs(0, []);  return ans;};\nä½¿ç”¨äºŒè¿›åˆ¶æ–¹å¼\n/** * @param {number[]} nums * @return {number[][]} */var subsets = function (nums) {  const ans = [];  for (let i = 0; i &lt; 1 &lt;&lt; nums.length; i++) {    const ret = [];    for (let j = 0; j &lt; nums.length; j++) {      if (i &amp; (1 &lt;&lt; j)) {        ret.push(nums[j]);      }    }    ans.push(ret);  }  return ans;};\nç”µè¯å·ç çš„å­—æ¯ç»„åˆ\n17.\nç”µè¯å·ç çš„å­—æ¯ç»„åˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nä¹Ÿæ˜¯ä¸€ç§ç»„åˆé—®é¢˜ï¼Œä½†æ˜¯è¾ƒä¸ºç®€å•ï¼Œç»™å®šä¸€ä¸ªä¸€ç»„æ•°å­—å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§è¿™ä¸ªé¡ºåºæ‰“å‡ºæ¥çš„å­—æ¯ç»„åˆæœ‰å“ªäº›ï¼Œå› ä¸ºæ•°å­—é¡ºåºæ—¶å›ºå®šçš„ï¼Œå¯ä»¥æ¯æ¬¡ä»å½“å‰æ•°å­—ä¸­æŒ‘ä¸€ä¸ªå¯¹åº”çš„å­—æ¯æ·»åŠ åˆ°ç»“æœæœ«å°¾ï¼Œç„¶åé€‰æ‹©ä¸‹ä¸€ä¸ªæ•°å­—çš„å­—æ¯ï¼Œä¾æ¬¡ç±»æ¨ã€‚\n/** * @param {string} digits * @return {string[]} */var letterCombinations = function (digits) {  if (digits.length === 0) {    return [];  }  const numDigit = {    2: ['a', 'b', 'c'],    3: ['d', 'e', 'f'],    4: ['g', 'h', 'i'],    5: ['j', 'k', 'l'],    6: ['m', 'n', 'o'],    7: ['p', 'q', 'r', 's'],    8: ['t', 'u', 'v'],    9: ['w', 'x', 'y', 'z'],  };  const ans = [];  function dfs(k, ret) {    if (k === digits.length) {      ans.push(ret);      return;    }    for (let c of numDigit[digits[k]]) {      dfs(k + 1, ret.concat(c));    }  }  dfs(0, '');  return ans;};\nç»„åˆæ€»å’Œ\n39.\nç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\néš¾ç‚¹åœ¨äºç»“æœé›†ä¸èƒ½é‡å¤ï¼Œå¦‚[2, 2, 3]å’Œ[2, 3, 2]æ˜¯é‡å¤çš„ã€‚å› æ­¤åœ¨\ndfs\næ—¶éœ€è¦ä¸»åŠ¨é¿å…äº§ç”Ÿé‡å¤çš„ç»“æœã€‚åšæ³•ï¼šæ¯æ¬¡æœç´¢æ—¶è®¾ç½®ä¸‹ä¸€æ¬¡æœç´¢çš„èµ·ç‚¹ï¼Œé¿å…åç»­çš„æœç´¢ä¼šæœç´¢å‰è¾¹æœç´¢è¿‡çš„ç»“æœã€‚\nå…·ä½“å¯å‚è€ƒï¼š39.\nç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n/** * @param {number[]} candidates * @param {number} target * @return {number[][]} */var combinationSum = function (candidates, target) {  const ans = [];  // idxè¡¨ç¤ºè¿™ä¸€è½®æœç´¢çš„èµ·å§‹ä½ç½®  function dfs(ret, sum, idx) {    if (idx === candidates.length) {      return;    }    if (sum === target) {      ans.push(ret.slice());      return;    }    // æ­¤è½®æœç´¢ä¸è¦å½“å‰å€¼ï¼Œåˆ™ä¸‹ä¸€è½®æœç´¢éœ€è¦ä»ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹    dfs(ret, sum, idx + 1);    if (sum + candidates[idx] &lt;= target) {      ret.push(candidates[idx]);      // æ­¤è½®æœç´¢è¦å½“å‰å€¼ï¼Œä¸‹ä¸€è½®æœç´¢ä¹Ÿä»å½“å‰ä½ç½®å¼€å§‹      dfs(ret, sum + candidates[idx], idx);      ret.pop();    }  }  dfs([], 0, 0);  return ans;};\næ‹¬å·ç”Ÿæˆ\n22.\næ‹¬å·ç”Ÿæˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå¤šç§æ–¹æ³•å¯ä»¥åšï¼Œè¿™é‡Œå…ˆé‡‡å–å›æº¯æ³•åšã€‚\nå›æº¯çš„å‰ææ˜¯ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œç„¶åä½¿ç”¨å‰ªæç­–ç•¥ä¼˜åŒ–ã€‚å› æ­¤é¦–å…ˆæƒ³åˆ°ä½¿ç”¨æ·±æœæœç´¢å‡ºæ‰€æœ‰çš„ç»“æœã€‚ç”»å‡ºé€’å½’æ ‘ï¼š\n\né€šè¿‡é€’å½’æ ‘å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº›ç»“æœæ˜¯ä¸èƒ½è¦çš„ï¼Œæ¯”å¦‚((((ã€))))ç­‰ç­‰ï¼Œå› æ­¤ï¼Œåœ¨è¿›è¡Œæ·±æœæ—¶éœ€è¦åŠ ä¸Šåˆ¤æ–­æ¡ä»¶è¿›è¡Œå‰ªæã€‚\nå¦‚æœæ‹¬å·èƒ½åŒ¹é…ï¼Œé¦–å…ˆå·¦æ‹¬å·çš„ä¸ªæ•°ä¸èƒ½è¶…è¿‡nï¼Œå› ä¸ºè¿™é‡Œæ˜¯ä»å‰å¾€åè¿½åŠ æ‹¬å·ï¼Œå› æ­¤å·¦æ‹¬å·çš„ä¸ªæ•°ä¼˜å…ˆå¢å¤§ï¼Œè€Œä¸”ï¼Œå¦‚æœæƒ³è¦åç»­çš„å³æ‹¬å·å¯ä»¥åŒ¹é…ä¸Šå·¦æ‹¬å·ï¼Œå·¦æ‹¬å·çš„ä¸ªæ•°ä¸€å®šè¦å¤§äºæˆ–ç­‰äºå³æ‹¬å·ï¼Œå¦åˆ™åƒ(()))ï¼Œåç»­æ— è®ºæ€ä¹ˆè¿½åŠ æ‹¬å·ï¼Œéƒ½ä¸æ˜¯åˆæ³•çš„ã€‚\n/** * @param {number} n * @return {string[]} */var generateParenthesis = function (n) {  const ans = [];  const path = [];  function dfs(left, right) {    if (left &gt; n || left &lt; right) {      return;    }    if (path.length === 2 * n) {      ans.push(path.join(''));      return;    }    path.push('(');    dfs(left + 1, right);    path.pop();    path.push(')');    dfs(left, right + 1);    path.pop();  }  dfs(0, 0);  return ans;};\nå•è¯æœç´¢\n79.\nå•è¯æœç´¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ­¤é¢˜éœ€è¦ç”¨å›æº¯æ‰èƒ½è¾¾åˆ°æœ€ä½³ï¼Œå› æ­¤è¦è€ƒè™‘å‰ªæç­–ç•¥ã€‚\né¦–å…ˆæŒ‰ç…§æ·±æœçš„æ–¹å¼ï¼Œä»æŸä¸ªç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰æ–¹å‘æ‰€æœ‰é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ã€‚\nå¯ä»¥æƒ³åˆ°ä¸€ä¸ªå‰ªæç­–ç•¥ï¼Œå½“ä¸‹ä¸€ä¸ªå­—ç¬¦å’Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦åŒ¹é…æ—¶æ‰è¿›è¡Œæœç´¢ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œå³ä½¿æœç´¢äº†ï¼Œä¹Ÿæ˜¯ä¸æ»¡è¶³çš„ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œåœæ­¢æ¡ä»¶æ˜¯ï¼šéå†åˆ°wordå­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªä½ç½®æ—¶å°±è¦ç»ˆæ­¢é€’å½’äº†ã€‚\nå› ä¸ºdfs(i, j, idx)è¡¨ç¤ºçš„æ˜¯ï¼šboard[i, j]ä½ç½®çš„å­—ç¬¦å’Œword[idx]ä½ç½®çš„å­—ç¬¦ç›¸åŒï¼Œåªæœ‰å½“ç›¸åŒçš„æ—¶å€™æ‰ä¼šèµ°è¿›è¿™ä¸ªé€’å½’ã€‚\n/** * @param {character[][]} board * @param {string} word * @return {boolean} */var exist = function (board, word) {  const m = board.length,    n = board[0].length;  const visited = new Array(m).fill(null).map((item) =&gt; new Array(n).fill(false));  const dx = [0, 1, 0, -1],    dy = [1, 0, -1, 0];  let ans = false;  function dfs(x, y, idx) {    if (idx === word.length - 1) {      ans = true;      return;    }    if (ans) {      return;    }    visited[x][y] = true;    for (let i = 0; i &lt; 4; i++) {      const nx = x + dx[i],        ny = y + dy[i];      if (        nx &gt;= 0 &amp;&amp;        nx &lt; m &amp;&amp;        ny &gt;= 0 &amp;&amp;        ny &lt; n &amp;&amp;        !visited[nx][ny] &amp;&amp;        board[nx][ny] == word[idx + 1]      ) {        visited[nx][ny] = true;        dfs(nx, ny, idx + 1);        visited[nx][ny] = false;      }    }    visited[x][y] = false;  }  for (let i = 0; i &lt; board.length; i++) {    for (let j = 0; j &lt; board[i].length; j++) {      board[i][j] === word[0] &amp;&amp; dfs(i, j, 0);    }  }  return ans;};\nåˆ†å‰²å›æ–‡ä¸²\n131.\nåˆ†å‰²å›æ–‡ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nç”¨åˆ°äº†ä¸¤ç§ç®—æ³•ï¼Œä¸€ç§æ˜¯åŠ¨æ€è§„åˆ’ï¼Œä¸€ç§æ˜¯å›æº¯ã€‚\nå›æº¯ç”¨äºæœç´¢åˆ°æ‰€æœ‰å¯èƒ½çš„å­ä¸²ï¼Œç„¶åé€šè¿‡åŠ¨æ€è§„åˆ’åˆ¤æ–­æ˜¯å¦å¯ä»¥ç»„æˆå›æ–‡ä¸²ã€‚\nä½¿ç”¨ä¸€ä¸ªä¸‹æ ‡iè¡¨ç¤ºå½“å‰æœç´¢åˆ°çš„ä½ç½®ï¼Œ[0, i - 1]è¡¨ç¤ºå·²ç»æœç´¢è¿‡çš„ï¼Œ[i, n]è¡¨ç¤ºæ²¡æœ‰æœç´¢çš„ï¼Œç„¶åå¯¹[i, j]è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœå¯ä»¥æ„æˆå›æ–‡ä¸²ï¼Œåˆ™ä»j + 1å¼€å§‹è¿›è¡Œä¸‹ä¸€æ¬¡æœç´¢ã€‚\nåŠ¨æ€è§„åˆ’ä¸»è¦ç”¨äºå¿«é€Ÿåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œè¿™é‡Œé‡‡ç”¨è®°å¿†åŒ–æœç´¢çš„æ–¹å¼ã€‚\n/** * @param {string} s * @return {string[][]} */var partition = function (s) {  const ans = [];  const f = new Array(s.length).fill(null).map((item) =&gt; new Array(s.length).fill(null));  function dfs(i, ret) {    if (i === s.length) {      ans.push(ret.slice());      return;    }    for (let j = i; j &lt; s.length; j++) {      if (dp(i, j)) {        ret.push(s.slice(i, j + 1));        dfs(j + 1, ret);        ret.pop();      }    }  }  // è®°å¿†åŒ–æœç´¢çš„æ–¹å¼  function dp(x, y) {    if (f[x][y] !== null) {      return f[x][y];    }    for (let i = x, j = y; i &lt; j; i++, j--) {      if (s[i] !== s[j]) {        f[x][y] = false;        return false;      }    }    f[x][y] = true;    return true;  }  dfs(0, []);  return ans;};\nN çš‡å\n51.\nN çš‡å - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\néš¾ç‚¹åœ¨äºæ€ä¹ˆå¿«é€Ÿåˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦æ˜¯å¯æ”¾çš„ä½ç½®ï¼Œå³åˆ¤æ–­å½“å‰ä½ç½®çš„è¡Œã€åˆ—å’Œä¸¤ä¸ªå¯¹è§’çº¿æ˜¯å¦æœ‰å…¶ä»–çš‡åã€‚\nå…¶ä¸­è¡¨ç¤ºä¸¤ä¸ªå¯¹è§’çº¿æ˜¯æœ€éš¾çš„ã€‚\nå¯ä»¥å°†è¡Œå’Œåˆ—çœ‹ä½œæ˜¯åæ ‡ç³»ï¼Œå°†å¯¹è§’çº¿å¹³ç§»çš„æ—¶å€™ï¼Œå’Œyè½´çš„äº¤ç‚¹å³ä¸ºåœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦ä¸€ç§æƒ…å†µä¸‹æ ‡ä¼šå‡ºç°è´Ÿæ•°ï¼Œå› æ­¤å¯ä»¥å°†æ•´ä½“åŠ ä¸Šn - 1ä¿è¯ä¸ºæ­£æ•°ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ä¸ç”¨è€ƒè™‘æ­£è´Ÿé—®é¢˜ã€‚\n/** * @param {number} n * @return {string[][]} */var solveNQueens = function (n) {  const row = new Array(n).fill(false),    col = row.slice();  const diag = new Array(2 * n - 1),    rediag = diag.slice();  const ans = [];  const place = new Array(n).fill(null).map((item) =&gt; new Array(n).fill('.'));  function dfs(idx) {    if (idx === n) {      ans.push(place.map((item) =&gt; item.join('')));      return;    }    for (let i = 0; i &lt; n; i++) {      if (check(idx, i)) {        row[idx] = col[i] = diag[idx + i] = rediag[idx - i + n - 1] = true;        place[idx][i] = 'Q';        dfs(idx + 1);        place[idx][i] = '.';        row[idx] = col[i] = diag[idx + i] = rediag[idx - i + n - 1] = false;      }    }  }  function check(idx, i) {    return !(row[idx] || col[i] || diag[idx + i] || rediag[idx - i + n - 1]);  }  dfs(0);  return ans;};\næœç´¢æ’å…¥ä½ç½®\n35.\næœç´¢æ’å…¥ä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\näºŒåˆ†æŸ¥æ‰¾çš„é¢˜ï¼Œè®°ä½è¿™ä¸ªäºŒåˆ†ç»å…¸æ¨¡æ¿å³å¯ã€‚\näºŒåˆ†ç»å…¸æ¨¡æ¿å³å¯è§£å†³è¿™é“é¢˜ã€‚\n/** * @param {number[]} nums * @param {number} target * @return {number} */var searchInsert = function (nums, target) {  let left = 0,    right = nums.length - 1;  while (left &lt;= right) {    const mid = (left + right) &gt;&gt; 1;    if (nums[mid] === target) {      return mid;    }    if (nums[mid] &gt; target) {      right = mid - 1;    } else {      left = mid + 1;    }  }  return left;};\næœç´¢äºŒç»´çŸ©é˜µ\n74.\næœç´¢äºŒç»´çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\näºŒç»´çŸ©é˜µçš„æœç´¢ï¼Œä»äºŒåˆ†è§’åº¦è€ƒè™‘ï¼Œè¦å¯»æ‰¾ä¸­é—´å€¼ï¼Œä»é¢˜ç›®ä¸­çš„æ’åºè§„å¾‹å¯ä»¥çœ‹åˆ°ï¼Œå³ä¸Šè§’çš„å€¼å¤„äºä¸­é—´ä½ç½®ï¼Œå‘å·¦å‡å°ï¼Œå‘ä¸‹å¢å¤§ã€‚\n/** * @param {number[][]} matrix * @param {number} target * @return {boolean} */var searchMatrix = function (matrix, target) {  let x = 0,    y = matrix[0].length - 1;  while (x &lt; matrix.length &amp;&amp; y &gt;= 0) {    if (matrix[x][y] === target) {      return true;    } else if (matrix[x][y] &gt; target) {      y--;    } else {      x++;    }  }  return false;};\næ’åºæ•°ç»„ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®\n34.\nåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ¨¡æ¿è¿”å›å¤§äºç­‰äºæŸä¸ªå€¼çš„æœ€å°ä¸‹æ ‡ã€å°äºç­‰äºæŸä¸ªå€¼çš„æœ€å¤§ä¸‹æ ‡ã€‚\nç»“æœéœ€è¦æ³¨æ„ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå¤§äºç­‰äºçš„æ—¶å€™ï¼Œå½“è¿”å›çš„ç»“æœæ˜¯nums.lengthæ—¶ï¼Œè¡¨ç¤ºæ•°ç»„ä¸ºç©ºæˆ–è€…æ‰€æœ‰çš„å€¼éƒ½å°äºtargetã€‚å¦‚æœå°äºç­‰äºçš„æ—¶å€™ï¼Œè¿”å›çš„ç»“æœæ˜¯-1æ—¶ï¼Œè¡¨ç¤ºæ•°ç»„ä¸ºç©ºæˆ–è€…æ‰€æœ‰çš„å€¼éƒ½å¤§äºtargetã€‚\nå½“å¤§äºç­‰äºçš„æ—¶å€™æœ€ç»ˆçš„leftä¸ºç»“æœï¼Œå°äºç­‰äºçš„æ—¶å€™æœ€ç»ˆçš„rightä¸ºç»“æœã€‚\nåªè®°ä½å¤§äºç­‰äºçš„æ¨¡æ¿å³å¯ï¼Œåè¿‡æ¥çš„å¯ä»¥ç±»æ¯”ä¸€ä¸‹æ¨å‡ºæ¥ã€‚\n/** * @param {number[]} nums * @param {number} target * @return {number[]} */var searchRange = function (nums, target) {  function biSearch(nums, target, type) {    let left = 0,      right = nums.length - 1;    // æ³¨æ„è¿™é‡Œæ˜¯left &lt;= right    while (left &lt;= right) {      const mid = (left + right) &gt;&gt; 1;      if (type === 0) {        if (nums[mid] &gt;= target) {          right = mid - 1;        } else {          left = mid + 1;        }      } else {        if (nums[mid] &lt;= target) {          left = mid + 1;        } else {          right = mid - 1;        }      }    }    return type === 0 ? left : right;  }  const start = biSearch(nums, target, 0);  // æ³¨æ„ç‰¹æ®Šæƒ…å†µå¤„ç†ã€‚  if (start === nums.length || nums[start] !== target) {    return [-1, -1];  }  const end = biSearch(nums, target, 1);  return [start, end];};\næœç´¢æ—‹è½¬æ’åºæ•°ç»„\n33.\næœç´¢æ—‹è½¬æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n/** * @param {number[]} nums * @param {number} target * @return {number} */var search = function (nums, target) {  if (nums.length === 0) {    return -1;  }  let left = 0,    right = nums.length - 1;  // æ³¨æ„æ˜¯left &lt;= right  while (left &lt;= right) {    const mid = (left + right) &gt;&gt; 1;    if (nums[mid] === target) {      return mid;    }    // [left, mid]åŒºé—´éƒ¨åˆ†ä¸ºéé™åºçš„    if (nums[left] &lt;= nums[mid]) {      // è¿™é‡Œåˆ¤æ–­targetåœ¨[left, mid)è¿™ä¸ªåŒºé—´ä¸­ï¼Œå³å¼€å› ä¸ºä¸Šä¸€æ­¥åˆ¤æ–­äº†ä¸ç›¸ç­‰      // å·¦å¼€å› ä¸ºtargetå’Œnums[left]å¯èƒ½ç›¸ç­‰ï¼Œ      if (nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) {        right = mid - 1;      } else {        left = mid + 1;      }      // [mid, right]åŒºé—´éƒ¨åˆ†ä¸ºéé™åºçš„    } else {      if (nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) {        left = mid + 1;      } else {        right = mid - 1;      }    }  }  return -1;};\nå¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼\n153.\nå¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né¢˜ç›®ä¸­ç»™å®šçš„æ•°ç»„å’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼Œä¾ç„¶æ˜¯ä½¿ç”¨äºŒåˆ†ï¼Œè¿™é‡Œå’Œæœ€åä¸€ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºæ—‹è½¬åçš„æœ€åä¸€ä¸ªå€¼ï¼Œæ˜¯ç¬¬äºŒæ®µåŒºé—´çš„æœ€å¤§å€¼ï¼Œç¬¬ä¸€æ®µåŒºé—´çš„æœ€å°å€¼ã€‚\næ³¨æ„è¿”å›çš„æ˜¯**left**ï¼Œå¯ä»¥æŒ‰ç…§â€œè¿”å›æ²¡æœ‰ç­‰å·çš„é‚£ä¸ªè¢«èµ‹å€¼çš„å˜é‡â€ï¼Œå¦‚**nums[mid] &gt; nums[nums.length - 1]**æ¡ä»¶ä¸­æ²¡æœ‰**=**ï¼Œåˆ™è¿”å›**left**ã€‚\n/** * @param {number[]} nums * @return {number} */var findMin = function (nums) {  let left = 0,    right = nums.length - 1;  while (left &lt;= right) {    const mid = (left + right) &gt;&gt; 1;    if (nums[mid] &gt; nums[nums.length - 1]) {      left = mid + 1;    } else {      right = mid - 1;    }  }  return nums[left];};\nå¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°\n4.\nå¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚O(log(m + 1))çš„å¤æ‚åº¦ï¼Œå¯ä»¥å°†é—®é¢˜è½¬åŒ–ä¸ºï¼Œä¸¤ä¸ªæ­£åºæ•°ç»„ä¸­ï¼Œå¯»æ‰¾ç¬¬kå°çš„æ•°ï¼Œæœ€å¤šå¯»æ‰¾ä¸¤æ¬¡å³å¯å¯»æ‰¾åˆ°ä¸¤ä¸ªä¸­ä½æ•°çš„ä½ç½®ã€‚\nå…·ä½“å¯å‚è€ƒé¢˜è§£ï¼š4.\nå¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n/** * @param {number[]} nums1 * @param {number[]} nums2 * @return {number} */var findMedianSortedArrays = function (nums1, nums2) {  const sumLen = nums1.length + nums2.length;  function findKthSmallest(nums1, start1, end1, nums2, start2, end2, k) {    const len1 = end1 - start1 + 1,      len2 = end2 - start2 + 1;    if (len1 &gt; len2) return findKthSmallest(nums2, start2, end2, nums1, start1, end1, k);    if (len1 === 0) return nums2[start2 + k - 1];    if (k === 1) return Math.min(nums1[start1], nums2[start2]);    const i = start1 + Math.min(Math.floor(k / 2), len1) - 1;    const j = start2 + Math.min(Math.floor(k / 2), len2) - 1;    if (nums1[i] &lt; nums2[j]) {      return findKthSmallest(        nums1,        i + 1,        end1,        nums2,        start2,        end2,        k - (i - start1 + 1)      );    } else {      return findKthSmallest(        nums1,        start1,        end1,        nums2,        j + 1,        end2,        k - (j - start2 + 1)      );    }  }  if (sumLen % 2 === 0) {    return (      (findKthSmallest(        nums1,        0,        nums1.length - 1,        nums2,        0,        nums2.length - 1,        Math.ceil(sumLen / 2)      ) +        findKthSmallest(          nums1,          0,          nums1.length - 1,          nums2,          0,          nums2.length - 1,          Math.ceil(sumLen / 2) + 1        )) /      2    );  } else {    return findKthSmallest(      nums1,      0,      nums1.length - 1,      nums2,      0,      nums2.length - 1,      Math.ceil(sumLen / 2)    );  }};\næœ€å°æ ˆ\n155.\næœ€å°æ ˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ–¹æ³•ä¸€ï¼šä½¿ç”¨è¾…åŠ©æ ˆ\næ¯æ¬¡å…¥æ ˆæ—¶ï¼Œä½¿ç”¨å¦ä¸€ä¸ªæ ˆä¿å­˜å½“å‰æ ˆé‡Œçš„æœ€å°å€¼ï¼ŒåŒæ­¥å‡ºå…¥æ ˆï¼Œä¼šæœ‰é¢å¤–çš„ç©ºé—´ã€‚\nğŸ• æ–¹æ³•äºŒï¼šä¸é€‚ç”¨é¢å¤–ç©ºé—´ï¼Œæ ˆé‡Œä¿å­˜çš„æ˜¯æ¯æ¬¡å…¥æ ˆçš„å€¼å’Œæœ€å°å€¼çš„å·®ã€‚\nvar MinStack = function () {  this.stk = [];  this.minValue = -Infinity;};/** * @param {number} val * @return {void} */MinStack.prototype.push = function (val) {  // åˆå§‹æ²¡æœ‰æ•°æ®ï¼Œç›´æ¥æ’å…¥  if (!this.stk.length) {    this.stk.push(0);    this.minValue = val;  }  // æœ‰æ•°æ®åï¼Œé¦–å…ˆå–å·®å€¼diffï¼Œç„¶åæ ˆé‡Œæ’å…¥diff  // å¦‚æœdiffä¸ºæ­£ï¼Œåˆ™è¯´æ˜æ’å…¥å€¼å¤§ï¼Œæœ€å°å€¼ä¸å˜ï¼Œå¦åˆ™è¯´æ˜æœ‰æ›´å°çš„ï¼Œæ›´æ–°æœ€å°å€¼  else {    const diff = val - this.minValue;    this.stk.push(diff);    this.minValue = diff &gt; 0 ? this.minValue : val;  }};/** * @return {void} */MinStack.prototype.pop = function () {  if (this.stk.length) {    const diff = this.stk.pop();    // å¦‚æœå·®å€¼å¤§äº0ï¼Œè¯´æ˜æ’å…¥è¿™ä¸€ä¸ªæ•°æ—¶ï¼Œæ²¡æœ‰æ›´æ–°æœ€å°å€¼ï¼Œç”±äºdiff = val - minValue    // æ‰€ä»¥åæ¨å‡ºval = diff + minValue    if (diff &gt; 0) {      const top = diff + this.minValue;    }    // å¦‚æœä¸å¤§äº0ï¼Œè¯´æ˜æ’å…¥æ—¶æ›´æ–°äº†æœ€å°å€¼ï¼Œæœ€å°å€¼å³ä¸ºçœŸå®å€¼ï¼Œæ‰€ä»¥ç›´æ¥å–æœ€å°å€¼    // å› ä¸ºæœ€å°å€¼æ›´æ–°äº†ï¼Œæ‰€ä»¥æ›´æ–°å›æ¥ï¼Œdiff = val - minValueåæ¨    else {      const top = this.minValue;      this.minValue = top - diff;    }  }};/** * @return {number} */MinStack.prototype.top = function () {  // åŒç†  if (this.stk.length) {    const diff = this.stk.at(-1);    return diff &gt; 0 ? diff + this.minValue : this.minValue;  }};/** * @return {number} */MinStack.prototype.getMin = function () {  return this.minValue;};/** * Your MinStack object will be instantiated and called as such: * var obj = new MinStack() * obj.push(val) * obj.pop() * var param_3 = obj.top() * var param_4 = obj.getMin() */\nå­—ç¬¦ä¸²è§£ç \n394.\nå­—ç¬¦ä¸²è§£ç  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ–¹æ³• 1\næ ¹æ®è§„åˆ™ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œé€’å½’è°ƒç”¨ã€‚\nç”¨æ ˆæ˜¯ä¸ºäº†åŒ¹é…æ‹¬å·ï¼Œé¦–å…ˆåŒ¹é…åˆ°æœ€å¤–å±‚çš„æ‹¬å·ï¼Œç„¶åå¯¹æ‹¬å·å†…çš„å­—ç¬¦ä¸²è¿›è¡Œé€’å½’è°ƒç”¨è§£ç ã€‚\néœ€è¦æ³¨æ„ï¼šæ•°å­—å’Œæ‹¬å·çš„å‰åéƒ½å¯èƒ½å­˜åœ¨ä¸éœ€è¦è§£ç çš„å­—ç¬¦ä¸²ï¼Œä»ç„¶éœ€è¦æ‹¼æ¥åˆ°ç»“æœä¸­ã€‚\n/** * @param {string} s * @return {string} */var decodeString = function (s) {  let ans = '';  const stk = [];  // è®°å½•éœ€è¦è§£ç çš„å­—ç¬¦ä¸²çš„å…¶å®ä½ç½®ï¼Œä¸»è¦ç”¨äºæ‹¼æ¥å‰åŠéƒ¨åˆ†ä¸ç”¨è§£ç çš„å­—ç¬¦ä¸²  let start = 0;  for (let i = 0; i &lt; s.length; i++) {    if (s[i] === '[') {      stk.push(i);    } else if (s[i] === ']') {      if (stk.length === 1) {        const idx = stk.pop();        let j = idx - 1;        while (j &gt;= 0 &amp;&amp; '0' &lt;= s[j] &amp;&amp; s[j] &lt;= '9') j--;        j++;        const cnt = Number(s.slice(j, idx));        ans = ans          .concat(s.slice(start, j))          .concat(decodeString(s.slice(idx + 1, i)).repeat(cnt));        start = i + 1;      } else {        stk.pop();      }    }  }  // å¦‚æœæ²¡æœ‰åˆ°æœ€ås.lengthï¼Œè¯´æ˜æœ€åçš„å­—ç¬¦ä¸²ä¸ºä¸ç”¨è§£ç çš„  if (start !== s.length) {    ans = ans.concat(s.slice(start));  }  return ans || s;};\næ–¹æ³• 2\næŒ‰é¡ºåºä¾æ¬¡éå†ï¼Œæ ˆä¸­å­˜å‚¨è¦å¾ªç¯çš„æ¬¡æ•°ä»¥åŠå½“å‰å¾ªç¯ä¹‹å‰çš„ç»“æœã€‚\nvar decodeString = function (s) {  const arr = [...s];  let ans = [];  const stk = [];  let cnt = 0;  for (let i = 0; i &lt; arr.length; i++) {    if (arr[i] &lt;= '9' &amp;&amp; arr[i] &gt;= '0') {      cnt = cnt * 10 + Number(arr[i]);    } else if (arr[i] === '[') {      stk.push([cnt, ans.slice()]);      cnt = 0;      ans = [];    } else if (arr[i] === ']') {      const [multi, ret] = stk.pop();      ret.push(...[...ans.join('').repeat(multi)]);      ans = ret;    } else {      ans.push(arr[i]);    }  }  return ans.join('');};\næ¯æ—¥æ¸©åº¦\n739.\næ¯æ—¥æ¸©åº¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nä½¿ç”¨å•è°ƒæ ˆï¼Œæ ˆåº•åˆ°æ ˆé¡¶å…ƒç´ ä¾æ¬¡é€’å‡ã€‚åªè¦å…ƒç´ åœ¨æ ˆä¸­ï¼Œå°±è¯´æ˜ç›®å‰æ²¡æœ‰å‘ç°åç»­æœ‰æ¯”è¯¥å…ƒç´ å¤§çš„ã€‚\næ ˆé‡Œå­˜å‚¨çš„æ˜¯å…ƒç´ ä¸‹æ ‡ï¼Œæ–¹ä¾¿è®¡ç®—å·®äº†å¤šå°‘å¤©ã€‚\nå¦‚æœæ ˆç©ºï¼Œç›´æ¥å…¥æ ˆ\nå¦åˆ™ï¼Œå¦‚æœå…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å¤§ï¼Œè¯´æ˜æ ˆé¡¶å…ƒç´ åçš„ç¬¬ä¸€ä¸ªå¤§çš„å°±æ˜¯å½“å‰å…ƒç´ ï¼Œå–å‡ºæ¥ï¼Œè®¡ç®—å·®å€¼ã€‚\nå¦åˆ™ï¼Œè·³è¿‡ç›´æ¥åŠ å…¥åˆ°æ ˆä¸­ã€‚\n/** * @param {number[]} temperatures * @return {number[]} */var dailyTemperatures = function (temperatures) {  const stk = [],    ans = new Array(temperatures.length).fill(0);  for (let i = 0; i &lt; temperatures.length; i++) {    while (stk.length &amp;&amp; temperatures[stk.at(-1)] &lt; temperatures[i]) {      const t = stk.pop();      ans[t] = i - t;    }    stk.push(i);  }  return ans;};\næ•°ç»„ä¸­ç¬¬ K ä¸ªæœ€å¤§çš„å…ƒç´ \n215.\næ•°ç»„ä¸­çš„ç¬¬ K ä¸ªæœ€å¤§å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚ç”¨O(n)çš„å¤æ‚åº¦ï¼Œæ•°å­¦è¯æ˜å¿«é€Ÿé€‰æ‹©ç®—æ³•ä¸ºO(n)å¤æ‚åº¦ï¼Œå› æ­¤ç›´æ¥ä½¿ç”¨å³å¯\n/** * @param {number[]} nums * @param {number} k * @return {number} */var findKthLargest = function (nums, k) {  function quickChoice(nums, left, right, k) {    if (left &gt;= right) return nums[left];    let less = left - 1,      i = left,      more = right + 1;    const x = nums[Math.floor((left + right) / 2)];    while (i &lt; more) {      if (nums[i] &lt; x) {        less++;        [nums[i], nums[less]] = [nums[less], nums[i]];        i++;      } else if (nums[i] &gt; x) {        more--;        [nums[i], nums[more]] = [nums[more], nums[i]];      } else {        i++;      }    }    if (less &lt; k &amp;&amp; k &lt; more) return nums[k];    if (k &lt;= less) return quickChoice(nums, left, less, k);    if (k &gt;= more) return quickChoice(nums, more, right, k);  }  return quickChoice(nums, 0, nums.length - 1, nums.length - k);};\nå‰ K ä¸ªé«˜é¢‘å…ƒç´ \n347.\nå‰ K ä¸ªé«˜é¢‘å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\né¢˜ç›®è¦æ±‚å¤æ‚åº¦ä¼˜äºO(nlogn)ï¼Œå‰ K\nä¸ªå…ƒç´ å¾ˆå®¹æ˜“è”æƒ³åˆ°å †è¿™ç§æ•°æ®ç»“æ„ã€‚\nè¦æ±‚é¢‘ç‡å¤§å°ï¼Œé¦–å…ˆå¯ä»¥éå†æ•°ç»„æ±‚å‡ºæ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åç”¨å¤§å°ä¸ºK\nçš„å°æ ¹å †å­˜å‚¨æ¬¡æ•°ï¼Œä½¿ç”¨å°æ ¹å †åŸå› æ˜¯ï¼šå¦‚æœæ–°å…ƒç´ å¤§äºå †é¡¶ï¼Œè¯´æ˜åœ¨å·²çŸ¥çš„å‰\nK ä¸ªå…ƒç´ ä¸­ï¼Œæ–°å…ƒç´ èƒ½æŠŠå †é¡¶å…ƒç´ è¸¢æ‰ï¼ˆå †é¡¶è‚¯å®šä¸æ˜¯å‰ K\nä¸ªäº†ï¼‰ï¼Œå‰©ä½™çš„å…ƒç´ éƒ½å¤§äºå †é¡¶ã€‚ç›´åˆ°éå†å®Œæ‰€æœ‰çš„é¢‘ç‡æ¬¡æ•°ç»„åˆã€‚\n/** * @param {number[]} nums * @param {number} k * @return {number[]} */var topKFrequent = function (nums, k) {  const numCnt = new Map();  for (const num of nums) {    if (numCnt.has(num)) {      numCnt.set(num, numCnt.get(num) + 1);    } else {      numCnt.set(num, 1);    }  }  const heap = [];  // æ¯”è¾ƒå‡½æ•°ï¼Œè¿”å›è´Ÿæ•°æ—¶ï¼Œparentåœ¨sonå‰è¾¹ï¼Œä¸º0æ—¶ï¼Œé¡ºåºä¸å˜ï¼Œæ­£æ•°æ—¶parentåœ¨sonåè¾¹  const fn = (parent, son) =&gt; {    return parent.cnt - son.cnt;  };  for (const [num, cnt] of numCnt) {    if (heap.length &lt; k) {      heap.push({ num, cnt });      heapUp(heap, heap.length - 1, fn);    } else if (heap[0].cnt &lt; cnt) {      heap[0] = { num, cnt };      heapDown(heap, 0, k, fn);    }  }  return heap.map((item) =&gt; item.num);};function heapUp(arr, idx, fn) {  let parentIdx;  // æ¯”è¾ƒå‡½æ•°ç»“æœä¸ºæ­£æ•°æ—¶æ‰äº¤æ¢  while (fn(arr[(parentIdx = Math.trunc((idx - 1) / 2))], arr[idx]) &gt; 0) {    swap(arr, parentIdx, idx);    idx = parentIdx;  }}function heapDown(arr, idx, size, fn) {  let t = idx,    left = 2 * idx + 1,    right = 2 * idx + 2;  if (left &lt; size &amp;&amp; fn(arr[t], arr[left]) &gt; 0) {    t = left;  }  if (right &lt; size &amp;&amp; fn(arr[t], arr[right]) &gt; 0) {    t = right;  }  if (t !== idx) {    swap(arr, t, idx);    heapDown(arr, t, size, fn);  }}function swap(arr, i, j) {  const t = arr[i];  arr[i] = arr[j];  arr[j] = t;}\nè·³è·ƒæ¸¸æˆ\n55.\nè·³è·ƒæ¸¸æˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè´ªå¿ƒç®—æ³•ï¼Œå¦‚æœèƒ½åˆ°è¾¾iï¼Œé‚£ä¹ˆä»iä½ç½®èƒ½åˆ°è¾¾çš„æœ€è¿œçš„ä½ç½®æ˜¯i + nums[i]ï¼Œè®°ä¸ºmaxDistanceï¼Œç„¶åç»§ç»­å‘åè®¡ç®—ï¼Œå¦‚æœi + 1 &lt;= maxDistanceï¼Œå°±è¯´æ˜åœ¨ä¸Šä¸€æ­¥çš„å‰æä¸‹ï¼Œå¯ä»¥åˆ°è¾¾i + 1ä½ç½®ï¼Œç„¶ååŸºäºè¯¥ä½ç½®æ›´æ–°maxDistanceã€‚åˆå§‹æ—¶æœ€è¿œä½ç½®æ˜¯\n0ã€‚\nclass Solution {public:    bool canJump(vector&lt;int&gt;&amp; nums) {        int maxDistance = 0;        for (int i = 0; i &lt; nums.size(); i++) {            if (i &lt;= maxDistance) {                maxDistance = max(maxDistance, i + nums[i]);            }        }        return maxDistance &gt;= nums.size() - 1;    }};\nè·³è·ƒæ¸¸æˆ â…¡\n45.\nè·³è·ƒæ¸¸æˆ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè´ªå¿ƒç®—æ³•ï¼Œé¢˜ç›®ä¸­ä¿è¯ä¸€å®šå¯ä»¥åˆ°æœ€ç»ˆä½ç½®ã€‚åœ¨ä½ç½®iæ—¶ï¼Œå¯ä»¥åˆ°è¾¾çš„æœ€è¿œä½ç½®ä¸ºi + nums[i]ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯åº”è¯¥è·³åˆ°i + nums[i]ä½ç½®å‘¢ï¼Ÿä¸ä¸€å®šã€‚ä»iä½ç½®æœ€è¿œå¯ä»¥è·³åˆ°i + nums[i]ï¼Œå¦‚æœjä½ç½®(i &lt;= j &lt;= i + nums[i])ï¼Œå¹¶ä¸”ä»jä½ç½®è·³çš„æœ€è¿œè·ç¦»åœ¨è¿™ä¸ªåŒºé—´ä¸­æ—¶æœ€è¿œçš„ï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥åº”è¯¥è·³åˆ°jä½ç½®ï¼Œä¿è¯ä¸‹ä¸€æ­¥è·³çš„æœ€è¿œã€‚\nclass Solution {public:    int jump(vector&lt;int&gt;&amp; nums) {        int maxPos = 0, ans = 0, i = 0;        while (maxPos &lt; nums.size() - 1) {            int end = 0;            for (int j = i; j &lt;= maxPos; j++) {                end = max(end, j + nums[j]);            }            i = maxPos;            maxPos = end;            ans++;        }        return ans;    }};\nå®Œå…¨å¹³æ–¹æ•°\n279.\nå®Œå…¨å¹³æ–¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåŠ¨æ€è§„åˆ’ï¼Œf[i]è¡¨ç¤ºiè¿™ä¸ªæ•°çš„å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°‘æ•°é‡ã€‚\nç”±å®šä¹‰å¯çŸ¥ï¼Œç»„æˆiè¿™ä¸ªæ•°çš„å®Œå…¨å¹³æ–¹æ•°çš„èŒƒå›´è‚¯å®šåœ¨ä¹‹é—´ï¼Œå› æ­¤å¯ä»¥éå†ä¸€éï¼Œè®¾jåœ¨è¿™ä¸ªåŒºé—´å†…ï¼Œé‚£ä¹ˆå¦‚æœå®Œå…¨å¹³æ–¹æ•°åŒ…å«jè¿™ä¸ªæ•°ï¼Œå‰©ä½™çš„æ•°çš„æœ€å°‘æ•°é‡åˆ™ç”±f[i - j * j]è¡¨ç¤ºï¼Œå¯ä»¥çœ‹æˆå­é—®é¢˜ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’åšã€‚\n/** * @param {number} n * @return {number} */var numSquares = function (n) {  const f = new Array(n + 1).fill(Infinity);  f[0] = 0;  for (let i = 1; i &lt; f.length; i++) {    for (let j = 1; j &lt;= i / j; j++) {      f[i] = Math.min(f[i], f[i - j * j] + 1);    }  }  return f.at(-1);};\né›¶é’±å…‘æ¢\n322.\né›¶é’±å…‘æ¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ€è·¯åŒä¸Š\n/** * @param {number[]} coins * @param {number} amount * @return {number} */var coinChange = function (coins, amount) {  const f = new Array(amount + 1).fill(Infinity);  f[0] = 0;  for (let i = 1; i &lt; f.length; i++) {    for (const coin of coins) {      if (i &gt;= coin) {        f[i] = Math.min(f[i], f[i - coin] + 1);      }    }  }  return f.at(-1) === Infinity ? -1 : f.at(-1);};\nå•è¯æ‹†åˆ†\n139.\nå•è¯æ‹†åˆ† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåŠ¨æ€è§„åˆ’ï¼Œf[i]è¡¨ç¤ºä»¥å‰iä¸ªå­—ç¬¦ä¸²èƒ½å¦è¢«è¡¨ç¤ºå‡ºæ¥ï¼Œéå†å•è¯å­—å…¸ï¼Œå¦‚æœå‰iä¸ªå­—ç¬¦ä¸²çš„æœ€åçš„word.size()é•¿åº¦çš„å­å­—ç¬¦ä¸²å’Œwordç›¸ç­‰ï¼Œåˆ™è¯´æ˜å¯ä»¥é€šè¿‡wordç»„æˆï¼Œå†åˆ¤æ–­f[i - word.size()]èƒ½å¦ç»„æˆå³å¯ï¼Œå­é—®é¢˜ã€‚\n/** * @param {string} s * @param {string[]} wordDict * @return {boolean} */var wordBreak = function (s, wordDict) {  const f = new Array(s.length + 1).fill(false);  f[0] = true;  for (let i = 1; i &lt;= s.length; i++) {    for (const word of wordDict) {      if (word.length &gt; i) continue;      if (s.slice(i - word.length, i) === word) {        f[i] = f[i - word.length];      }      if (f[i]) break;    }  }  return f.at(-1);};\næœ€é•¿é€’å¢å­åºåˆ—\n300.\næœ€é•¿é€’å¢å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚O(nlogn)çš„å¤æ‚åº¦ï¼Œè€ƒè™‘äºŒåˆ†æŸ¥æ‰¾ã€‚\nçŠ¶æ€å®šä¹‰ï¼šf[i]è¡¨ç¤ºé•¿åº¦ä¸ºiçš„é€’å¢å­åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ æ‰€æœ‰å¯èƒ½çš„å–å€¼çš„æœ€å°å€¼ã€‚\næ ¹æ®å®šä¹‰ï¼ŒçŒœæƒ³ï¼šfæ•°ç»„æ˜¯é€’å¢çš„ã€‚\nåè¯æ³•ï¼šå¦‚æœf[k] &gt;= f[i]ä¸”k = i - 1ï¼Œé‚£ä¹ˆåœ¨ä»¥f[i]ç»“å°¾çš„å­åºåˆ—ä¸­ï¼Œå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆè®°ä¸ºvï¼‰ä¸€å®šå°äºf[i]ï¼Œä»¥vä¸ºç»“å°¾çš„å­åºåˆ—é•¿åº¦ä¸ºkã€‚å› ä¸ºf[i] &gt; vä¸”f[k] &gt;= f[i]æ‰€ä»¥f[k] &gt; vï¼Œä¸fçš„å®šä¹‰çŸ›ç›¾ã€‚å› ä¸ºé•¿åº¦ä¸ºkçš„å­åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ‰€æœ‰å¯èƒ½å–å€¼é‡Œæœ€å°çš„ï¼Œåˆå§‹æ¡ä»¶å–çš„f[k]ä½†æ˜¯æ¨å‡ºçš„ç»“è®ºv &lt; f[k]ï¼Œè¯´æ˜f[k]ä¸æ˜¯æœ€å°ï¼ŒçŸ›ç›¾ã€‚\næ¯éå†ä¸€ä¸ªæ•°ï¼Œä»fä¸­æ±‚å°äºnumçš„æœ€å¤§çš„ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯å¤§äºç­‰äºnumçš„æœ€å°çš„ä½ç½®ï¼‰\nclass Solution {public:    int lengthOfLIS(vector&lt;int&gt;&amp; nums) {        // f[i] è¡¨ç¤ºé€’å¢å­åºåˆ—é•¿åº¦ä¸º i æ—¶çš„å­åºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ çš„å¯èƒ½çš„æœ€å°å€¼        vector&lt;int&gt; f(nums.size() + 1, 0);        int len = 0;        for (int i = 0; i &lt; nums.size(); i++) {            int left = 1, right = len;            while (left &lt;= right) {                int mid = left + right &gt;&gt; 1;                // æ³¨æ„è¿™é‡ŒäºŒåˆ†çš„å«ä¹‰æ˜¯ å¤§äºç­‰äº nums[i] çš„æœ€å°çš„ï¼Œä¸èƒ½ç†è§£ä¸º å°äº nums[i] çš„æœ€å¤§çš„                // å¦‚æœæ‰¾å¾—åˆ°åˆ™ left æ­£å¥½æ˜¯å¯¹åº”çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå³æ‰€æœ‰çš„æ•°éƒ½å°äº nums[i] ï¼Œåˆ™ç»“æœä¸º å³è¾¹ç•Œ + 1                if (f[mid] &gt;= nums[i]) right = mid - 1;                else left = mid + 1;            }            len = max(len, left);            f[left] = nums[i];        }        return len;    }};\nä¹˜ç§¯æœ€å¤§å­æ•°ç»„\n152.\nä¹˜ç§¯æœ€å¤§å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nåŠ¨æ€è§„åˆ’ï¼Œf[i]è¡¨ç¤ºä»¥nums[i]ä¸ºç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§ä¹˜ç§¯ï¼Œä½†æ˜¯è¿™æ ·ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºæ¯ä¸ªå…ƒç´ å¯èƒ½ä¼šå‡ºç°è´Ÿå€¼ï¼Œå¦‚æœæ˜¯è´Ÿå€¼ï¼Œé‚£ä¹ˆæœŸæœ›å‰ä¸€ä¸ªå­æ•°ç»„çš„ä¹˜ç§¯è¶Šå°è¶Šå¥½ï¼Œè¿™ä¸æœ€åˆå®šä¹‰ç›¸åã€‚å› æ­¤å¯ä»¥ç»´æŠ¤å¦ä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨å­æ•°ç»„çš„æœ€å°ä¹˜ç§¯ã€‚\nmaxF[i]è¡¨ç¤ºå­æ•°ç»„æœ€å¤§ä¹˜ç§¯ï¼ŒminF[i]è¡¨ç¤ºå­æ•°ç»„æœ€å°ä¹˜ç§¯ã€‚\næ¯æ¬¡éå†æ—¶æœ€å¤§å€¼ä»maxF[i - 1] * nums[i], minF[i - 1] * nums[i], nums[i]ä¸­å–ï¼Œæœ€å°å€¼åŒç†ã€‚\nclass Solution {public:    int maxProduct(vector&lt;int&gt;&amp; nums) {        vector&lt;int&gt; maxF(nums.size(), 0);        vector&lt;int&gt; minF(nums.size(), 0);        maxF[0] = minF[0] = nums[0];        for (int i = 1; i &lt; nums.size(); i++) {            maxF[i] = max(max(maxF[i - 1] * nums[i], minF[i - 1] * nums[i]), nums[i]);            minF[i] = min(min(minF[i - 1] * nums[i], maxF[i - 1] * nums[i]), nums[i]);        }        return *max_element(maxF.begin(), maxF.end());    }};\nåˆ†å‰²ç­‰å’Œå­é›†\n416.\nåˆ†å‰²ç­‰å’Œå­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå¯ä»¥æ”¹é€ æˆèƒŒåŒ…é—®é¢˜ï¼Œåˆ†æˆä¸¤ä¸ªå­é›†ï¼Œä¸¤ä¸ªå­é›†çš„å’Œç›¸ç­‰ï¼Œè½¬åŒ–ä¸ºæ‰¾ä¸€ä¸ªå­é›†çš„å’Œæ°å¥½ä¸ºæ•´ä¸ªæ•°ç»„çš„å’Œçš„ä¸€åŠï¼Œå³é€‰å–ä¸€äº›æ•°ï¼Œè¿™äº›æ•°çš„å’Œæ°å¥½ç­‰äºæ€»å’Œçš„ä¸€åŠã€‚\nå’ŒåŸèƒŒåŒ…ä¸åŒçš„æ˜¯åŸèƒŒåŒ…æ˜¯å°äºä½“ç§¯ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ°å¥½ç­‰äºâ€œä½“ç§¯â€ã€‚\nclass Solution {public:    bool canPartition(vector&lt;int&gt;&amp; nums) {        int sum = 0;        for (int num : nums) sum += num;        if (sum % 2 != 0) return false;        // f[i][j] è¡¨ç¤ºæ‹¿å‰ i ä¸ªç‰©å“ï¼ˆæ•°ï¼‰çš„ç´¯åŠ å’Œæ˜¯å¦æ°å¥½ç­‰äº j        vector&lt;vector&lt;bool&gt;&gt; f(nums.size() + 1, vector&lt;bool&gt;(sum / 2 + 1, false));        for (int i = 0; i &lt; f[0].size(); i++) f[0][i] = false;        for (int i = 0; i &lt; f.size(); i++) f[i][0] = true;        for (int j = 1; j &lt; f[0].size(); j++) {            for (int i = 1; i &lt; f.size(); i++) {                // å¦‚æœå½“å‰è¦å–çš„æ•°å°äºæˆ–ç­‰äºâ€œä½“ç§¯â€ï¼Œå¯ä»¥é€‰æ‹©æ‹¿æˆ–è€…ä¸æ‹¿                // å¦‚æœä¸æ‹¿ï¼Œåˆ™æ˜¯å¦æ°å¥½ç­‰äº j å–å†³äºå‰ i - 1 ä¸ªæ•°çš„æ¡ä»¶                // å¦‚æœæ‹¿ï¼Œåˆ™å–å†³äºå‰ i - 1 ä¸ªæ•°ä½“ç§¯ä¸º j - nums[i - 1] çš„æ¡ä»¶ï¼Œå› ä¸ºè¦ä¿è¯æ‹¿äº†è¿™ä¸ªæ•°æ°å¥½ç­‰äº jï¼Œæ‰€ä»¥è¦å‡å» nums[i - 1]                if (nums[i - 1] &lt;= j) f[i][j] = f[i - 1][j] || f[i - 1][j - nums[i - 1]];                // å¦‚æœå¤§äºï¼Œåˆ™è‚¯å®šæ‹¿ä¸äº†                else f[i][j] = f[i - 1][j];            }        }        return f.back().back();    }};\næœ€é•¿å›æ–‡å­ä¸²\n5.\næœ€é•¿å›æ–‡å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nå¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸º 1ï¼Œåˆ™è‚¯å®šæ˜¯å›æ–‡ä¸²ï¼Œç›´æ¥è¿”å›ï¼Œå¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸º\n2ï¼Œåˆ™åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™æœ€é•¿å›æ–‡å­ä¸²å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚\nå…¶ä½™æƒ…å†µï¼š\nä½¿ç”¨f[i][j]è¡¨ç¤ºå­ä¸²s[i]...s[j]æ˜¯å¦æ˜¯å›æ–‡å­ä¸²ï¼Œæ˜¯ä¸æ˜¯å›æ–‡å­ä¸²å–å†³äºs[i] s[j]æ˜¯ä¸æ˜¯ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™è‚¯å®šä¸æ˜¯å›æ–‡çš„ï¼Œå¦åˆ™åˆ¤æ–­f[i + 1][j - 1]æ˜¯ä¸æ˜¯å›æ–‡çš„ã€‚\nå¦‚æœf[i + 1][j - 1]æ˜¯å›æ–‡çš„ï¼Œåˆ™f[i][j]æ˜¯ä¸æ˜¯å›æ–‡å–å†³äºåœ¨å‰åè¿½åŠ çš„å­—ç¬¦æ˜¯å¦ç›¸åŒã€‚\nclass Solution {public:    string longestPalindrome(string s) {        const int n = s.size();        if (n == 1) return s;        if (n == 2) return s[0] == s[1] ? s : string(1, s[0]);        vector&lt;vector&lt;bool&gt;&gt; f(n, vector&lt;bool&gt;(n, false));        // åˆå§‹åŒ–é•¿åº¦ä¸º 1 å’Œä¸º 2 çš„æƒ…å†µ        for (int i = 0; i &lt; n; i++) {            f[i][i] = true;            if (i &gt; 0) f[i - 1][i] = s[i - 1] == s[i];        }        // ä»é•¿åº¦ä¸º 3 å¼€å§‹éå†        for (int len = 3; len &lt;= n; len++) {            for (int i = 0; i + len - 1 &lt; n; i++) {                int j = i + len - 1;                f[i][j] = f[i + 1][j - 1] &amp;&amp; s[i] == s[j];            }        }        int maxLen = 1;        int x = 0, y = 0;        for (int i = 0; i &lt; n; i++) {            for (int j = i; j &lt; n; j++) {                if (f[i][j] &amp;&amp; maxLen &lt; j - i + 1) {                    maxLen = j - i + 1;                    x = i, y = j;                }            }        }        return s.substr(x, maxLen);    }};\nä¸‹ä¸€ä¸ªæ’åˆ—\n31.\nä¸‹ä¸€ä¸ªæ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næŒ‰ç…§å­—å…¸åºæ±‚ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œé¢˜è§£ï¼š31.\nä¸‹ä¸€ä¸ªæ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næµç¨‹ï¼š\n\nä»åå¾€å‰æ‰¾ç¬¬ä¸€ä¸ªç›¸é‚»çš„å‡åºå¯¹ (i, j)\nåœ¨ [j, end)\nè¿™ä¸ªåŒºé—´ä¸­ä»åå‘å‰å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”\nnums[i]å¤§çš„æ•°nums[k]\näº¤æ¢ nums[i] nums[k]\nå†å°† [j, end) çš„åŒºé—´é€†åºã€‚\n\næ€»ä½“æ€è·¯ï¼š\n\nå°†åè¾¹è¾ƒå¤§çš„æ•°ä¸å‰è¾¹è¾ƒå°çš„æ•°äº¤æ¢ï¼Œå³å¯ä»¥è®©æ•°å€¼æ›´å¤§ã€‚\nå› ä¸ºæ˜¯ä¸‹ä¸€ä¸ªæ’åˆ—ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›å¢å¤§çš„ä¸æ˜¯ç‰¹åˆ«å¿«ã€‚æ‰€ä»¥å¸Œæœ›è¾ƒå¤§çš„æ•°å°½é‡çš„å°ã€‚\näº¤æ¢å®Œåï¼Œåç»­çš„æ•°è‚¯å®šæ˜¯é™åºï¼Œåè½¬æ”¹æˆå‡åºã€‚\n\nclass Solution {public:    void nextPermutation(vector&lt;int&gt;&amp; nums) {        if (nums.size() &lt;= 1) return;        int i = nums.size() - 2, j = i + 1, k = j;        for (; i &gt;= 0; i--, j--) {            if (nums[i] &lt; nums[j]) break;        }        // å¦‚æœ i &gt;= 0 è¯´æ˜ä¸æ˜¯æœ€åä¸€ä¸ªæ’åˆ—ï¼Œå¯ä»¥ç»§ç»­å‘ä¸‹å¯»æ‰¾ï¼Œå¦åˆ™è¯´æ˜æ˜¯æœ€åä¸€ä¸ªæ’åˆ—ï¼Œåˆ™ç›´æ¥è·³è¿‡        // æ‰§è¡Œåç»­æ­¥éª¤å°±ä¼šå›åˆ°ç¬¬ä¸€ä¸ªæ’åˆ—        if (i &gt;= 0) {            for (; k &gt;= j; k--) {                if (nums[i] &lt; nums[k]) break;            }            swap(nums[i], nums[k]);        }        for (int a = j, b = nums.size() - 1; a &lt; b; a++, b--) {            swap(nums[a], nums[b]);        }    }};\nå¯»æ‰¾é‡å¤æ•°\n287.\nå¯»æ‰¾é‡å¤æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nçœ‹æˆé“¾è¡¨çš„å½¢å¼ï¼Œå¦‚æœå­˜åœ¨é‡å¤çš„æ•°ï¼Œè¯´æ˜é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚é“¾è¡¨æœ‰ç¯åˆ¤æ–­ï¼Œé€šè¿‡å¿«æ…¢æŒ‡é’ˆã€‚142. ç¯å½¢é“¾è¡¨\nII - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nclass Solution {public:    int findDuplicate(vector&lt;int&gt;&amp; nums) {        int fast = 0, slow = 0;        while (true) {            fast = nums[nums[fast]];            slow = nums[slow];            if (fast == slow) {                slow = 0;                while (fast != slow) {                    fast = nums[fast];                    slow = nums[slow];                }                return slow;            }        }        return 0;    }};\næ•°æ®æµä¸­çš„ä¸­ä½æ•°\n295.\næ•°æ®æµçš„ä¸­ä½æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nè¦æ±‚ä½æ—¶é—´å¤æ‚åº¦ï¼Œæ ¹æ®ä¸­ä½æ•°çš„å®šä¹‰ï¼Œä½¿ç”¨ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰å­˜å‚¨ï¼Œä¸€ä¸ªä¿å­˜ä¸­ä½æ•°å‰åŠéƒ¨åˆ†ï¼Œä¸€ä¸ªä¿å­˜ååŠéƒ¨åˆ†ï¼ŒåŠ å…¥å…ƒç´ æ—¶ï¼Œåˆ¤æ–­å±äºå“ªä¸€éƒ¨åˆ†ï¼ŒåŠ å…¥å®Œæ¯•åï¼Œåˆ¤æ–­ä¸¤ä¸ªé˜Ÿåˆ—é•¿åº¦æ˜¯å¦ç›¸ç­‰æˆ–è€…ååŠéƒ¨åˆ†é•¿åº¦å¤šä¸€ä¸ªã€‚å¦åˆ™å°†å¤šçš„æ•°åŠ å…¥åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ã€‚\nclass MedianFinder {public:    priority_queue&lt;int, vector&lt;int&gt;, less&lt;int&gt;&gt; largeHeap;    priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; smallHeap;    MedianFinder() {    }    void addNum(int num) {        if (smallHeap.empty() || num &gt;= smallHeap.top()) {            smallHeap.push(num);            if (smallHeap.size() &gt; largeHeap.size() + 1) {                largeHeap.push(smallHeap.top());                smallHeap.pop();            }        } else {            largeHeap.push(num);            if (largeHeap.size() &gt; smallHeap.size()) {                smallHeap.push(largeHeap.top());                largeHeap.pop();            }        }    }    double findMedian() {        if (smallHeap.size() == largeHeap.size())            return 1.0 * (smallHeap.top() + largeHeap.top()) / 2;        return smallHeap.top();    }};\næŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢\n84.\næŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nclass Solution {public:    int largestRectangleArea(vector&lt;int&gt;&amp; heights) {        int n = heights.size();        // å•è°ƒé€’å¢æ ˆ        stack&lt;int&gt; st;        // åˆ†åˆ«ä¿å­˜ç¬¬ i ä¸ªå…ƒç´ çš„å·¦è¾¹ã€å³è¾¹çš„æœ€è¿‘çš„æ¯” heights[i] å°çš„ä½ç½®        vector&lt;int&gt; left(n), right(n);        for (int i = 0; i &lt; n; i++) {            while (!st.empty() &amp;&amp; heights[i] &lt;= heights[st.top()]) {                st.pop();            }            // å¦‚æœæ ˆç©ºï¼Œè¯´æ˜å·¦è¾¹çš„å…ƒç´ éƒ½æ¯”å½“å‰å…ƒç´ å¤§ï¼Œåœ¨ä¹‹å‰çš„å­˜åœ¨æ ˆä¸­çš„å…ƒç´ ä¸­å½“å‰å…ƒç´ æœ€å°            // ç›´æ¥è®¾ä¸º -1 ï¼ˆå“¨å…µå€¼ï¼Œæ–¹ä¾¿åæœŸè®¡ç®—ï¼‰            left[i] = st.empty() ? -1 : st.top();            st.push(i);        }        stack&lt;int&gt;().swap(st);        for (int i = n - 1; i &gt;= 0; i--) {            while (!st.empty() &amp;&amp; heights[i] &lt;= heights[st.top()]) {                st.pop();            }            right[i] = st.empty() ? n : st.top();            st.push(i);        }        int ans = 0;        for (int i = 0; i &lt; n; i++) {            // right[i] å’Œ left[i] å­˜å‚¨çš„æ˜¯å³è¾¹å’Œå·¦è¾¹çš„æœ€è¿‘çš„æœ€å°çš„ä½ç½®ï¼ŒæŒ‰ç…§            // height[i] é«˜åº¦å¯»æ‰¾æœ€å¤§çš„çŸ©å½¢ï¼Œleft[i] å’Œ right[i] ä½ç½®çš„é«˜åº¦éƒ½æ— æ³•å‚ä¸æ„æˆ            // å› æ­¤è¦å‰”é™¤è¿™ä¸¤ä¸ªï¼Œæ‰€ä»¥éœ€è¦å¤šå‡ä¸€ä¸ª 1            ans = max(ans, (right[i] - left[i] - 1) * heights[i]);        }        return ans;    }};\næœ€é•¿æœ‰æ•ˆæ‹¬å·\n32.\næœ€é•¿æœ‰æ•ˆæ‹¬å· - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\nf[i]è¡¨ç¤ºä»¥iä½ç½®ä¸ºç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·é•¿åº¦ã€‚\nå¦‚æœs[i] == '('åˆ™è‚¯å®šä¸æ˜¯æœ‰æ•ˆæ‹¬å·\nå¦‚æœs[i] == ')'ï¼Œåˆ™å¦‚æœs[i - 1] == '('ï¼Œæœ€åä¸¤ä¸ªå…ƒç´ å¯ä»¥æ„æˆæœ‰æ•ˆæ‹¬å·ï¼Œå†åŠ ä¸Šf[i - 2]çš„é•¿åº¦å³å¯ã€‚åˆ™å¦‚æœs[i - 1] == ')'ï¼Œåˆ¤æ–­s[i - f[i - 1] - 1] == '('ï¼ˆåˆ¤æ–­ä»¥s[i - 1]ç»“å°¾çš„æœ‰æ•ˆé•¿åº¦çš„ä¸Šä¸€ä¸ªä½ç½®æ˜¯å¦æ˜¯å·¦æ‹¬å·ï¼‰ï¼Œç›¸ç­‰çš„è¯ï¼Œåˆ™è¯´æ˜[i - f[i - 1] - 1], i]çš„èŒƒå›´å†…ï¼Œä¸¤è¾¹å¯ä»¥ç»„æˆæ‹¬å·ï¼Œä¸­é—´å†…éƒ¨èƒ½å¦ç»„æˆç”±f[i - 1]å†³å®šï¼Œæœ€ååŠ ä¸Šf[i - f[i - 1] - 2]çš„é•¿åº¦ã€‚\nclass Solution {public:    int longestValidParentheses(string s) {        if (s.size() == 0) return 0;        vector&lt;int&gt; f(s.size(), 0);        for (int i = 0; i &lt; s.size(); i++) {            if (s[i] == '(') continue;            if (i &gt; 0 &amp;&amp; s[i - 1] == '(') {                f[i] = i &gt; 1 ? f[i - 2] + 2 : 2;            } else if (i &gt; 0 &amp;&amp; s[i - 1] == ')') {                if (i - f[i - 1] - 1 &gt;= 0 &amp;&amp; s[i - f[i - 1] - 1] == '(') {                    f[i] = f[i - 1] + (i - f[i - 1] - 2 &gt;= 0 ? f[i - f[i - 1] - 2] : 0) + 2;                }            }        }        return *max_element(f.begin(), f.end());    }};\n","categories":["ç®—æ³•"],"tags":["LeetCode"]},{"title":"dockeré…ç½®å­¦ä¹ ","url":"/4d2ab6272405/docker%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0/","content":"å®‰è£…docker\n\næ›´æ–°è½¯ä»¶åº“ç¡®ä¿å¯ä»¥è®¿é—®æœ€æ–°ç‰ˆã€‚\n\nsudo apt update\n\nå¸è½½æ—§ç‰ˆæœ¬\n\nsudo apt-get remove docker docker-engine docker.io\n\n\nå®‰è£…è½¯ä»¶åº“ä¸­çš„docker\n\nsudo apt install docker.io\n\nè®¾ç½®è‡ªå¯åŠ¨\n\nsudo systemctl start dockersudo systemctl enable docker\n\nå…¶ä»–å®‰è£…æ–¹æ³•çš„å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£Install Docker\nEngine on Ubuntu | Docker Docs\n\næ‹‰å–Redisé•œåƒå¹¶è¿è¡Œ\nä»¥æ‹‰å–redisé•œåƒä¸ºä¾‹ã€‚\n\næ‹‰å–\n\nä½¿ç”¨å‘½ä»¤sudo docker pull redis:6.2æ‹‰å–tagä¸º6.2çš„redisé•œåƒã€‚\nä¸æŒ‡å®štagåˆ™é»˜è®¤ä¸ºlatestï¼Œè‹¥è¦æŸ¥çœ‹æ‰€æœ‰tagå¯ä»¥ä½¿ç”¨å‘½ä»¤sudo docker search redisæŸ¥çœ‹ã€‚æˆ–è€…åœ¨Docker Hub Container Image Library | App\nContainerizationä¸­æŸ¥æ‰¾ã€‚\n\nå‡†å¤‡redis.conf\n\nåœ¨rediså®˜ç½‘Redis\nconfiguration |\nRedisæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„é»˜è®¤é…ç½®ã€‚åˆ›å»ºredis.confæ–‡ä»¶ã€‚\nå¹¶ä¿®æ”¹\nå°†bind 127.0.0.1 æ³¨é‡Šå°†protected-mode yesä¿®æ”¹ä¸º protected-mode no\n\nè¿è¡Œ\n\nsudo docker run -d -v /home/username/software/redis:/usr/local/etc/redis -p 36379:6379 --name myredis redis:6.2 redis-server /usr/local/etc/redis/redis.conf\nå…¶ä¸­/home/username/software/redisç›®å½•ä¸‹æœ‰redis.confæ–‡ä»¶ã€‚\nè¿™æ®µå‘½ä»¤ä¸­-dæ˜¯åå°è¿è¡Œå®¹å™¨ã€‚\n-v /home/username/software/redis:/usr/local/etc/redisæ˜¯å°†/home/username/software/redisç›®å½•æŒ‚è½½åˆ°/usr/local/etc/redisç›®å½•ä¸‹ï¼Œå› ä¸ºrediså®¹å™¨è¿è¡Œæ—¶ä¸ä¼šç”Ÿæˆredis.confé…ç½®æ–‡ä»¶ï¼Œä»¥é»˜è®¤é…ç½®è¿è¡Œï¼Œéœ€è¦è¿è¡Œæ—¶æ‰‹åŠ¨æŒ‚åœ¨è‡ªå®šä¹‰é…ç½®ã€‚\n-p 36379:6379æ˜¯ç«¯å£æ˜ å°„ï¼Œå°†å®¿ä¸»æœº36379æ®µå£æ˜ å°„åˆ°å®¹å™¨çš„6379ç«¯å£ã€‚\n--name myredisæŒ‡å®šå®¹å™¨åå­—ä¸ºmyredisã€‚\nredis:6.2ä¸ºè¿è¡Œçš„é•œåƒåå­—:tagã€‚\nredis-server /usr/local/etc/redis/redis.confä¸ºè¿è¡Œå®¹å™¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œæ­¤å‘½ä»¤æ˜¯è®©redisæœåŠ¡å™¨ä»¥/usr/local/etc/redis/redis.confé…ç½®æ–‡ä»¶è¿è¡Œã€‚\næ‹‰å–mysqlå¹¶è¿è¡Œ\næ‹‰å–mysql:8.2é•œåƒ\ndocker pull mysql:8.2\nè¿è¡Œé•œåƒï¼ŒåŒredisä¸€æ ·ï¼Œéœ€è¦æŒ‡å®šæŒ‚è½½ç›®å½•ï¼Œå°†è‡ªå·±çš„é…ç½®æ–‡ä»¶æ”¾åœ¨æœ¬åœ°ç›®å½•ï¼ŒæŒ‚è½½åˆ°å®¹å™¨ä¸­ç›¸åº”çš„ç›®å½•ä¸­ã€‚\nå…¶ä¸­æŒ‚è½½åˆ°å“ªä¸ªç›®å½•å¯ä»¥é€šè¿‡å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ã€‚\ndocker run -d \\--name mymysql1 \\-p 33306:3306 \\-v /home/clab/software/mysql/conf:/etc/my.cnf.d \\-v /home/clab/software/mysql/data:/var/lib/mysql \\-v /home/clab/software/mysql/log:/var/log/mysql \\-e MYSQL_ROOT_PASSWORD=password \\mysql:8.2\nå¦‚æœå¯åŠ¨åå°±é€€å‡ºï¼Œä½¿ç”¨å‘½ä»¤docker logs mymysql1æŸ¥çœ‹æ—¥å¿—ã€‚\nå‡ºç°\nERROR] Could not open file '/var/log/mysql/error.log' for error logging: Permission denied\nè¿™ç§æƒé™æŠ¥é”™ï¼ŒåŸå› æ˜¯å¯åŠ¨å®¹å™¨ä¸­çš„mysqlç”¨æˆ·å’Œå®¿ä¸»æœºä¸åŒï¼Œå¯¼è‡´æƒé™é—®é¢˜ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨å‘½ä»¤cat /etc/groupæŸ¥çœ‹å®¿ä¸»æœºçš„user_id\nè·å–ååœ¨æ‰§è¡Œå‘½ä»¤æ—¶æ·»åŠ å‚æ•°--user user_idå³å¯ã€‚å¦‚æœä»å‡ºç°é—®é¢˜ï¼Œå°†å®¿ä¸»æœºdataå’Œlogæ–‡ä»¶å¤¹åˆ é™¤å†æ–°å»ºï¼ˆå¯èƒ½ä¹‹å‰çš„è¿è¡Œä¼šå¯¼è‡´è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ç”¨æˆ·æƒé™å‘ç”Ÿå˜åŒ–ï¼‰ã€‚\nå‚è€ƒé“¾æ¥ï¼šåˆ†ædockerå¯åŠ¨MySQLæŒ‚è½½ç›®å½•æç¤ºæƒé™ä¸è¶³Permission\ndeniedåŸå› _dockeræŒ‚è½½ç›®å½•æƒé™é—®é¢˜_jiangyunfan16çš„åšå®¢-CSDNåšå®¢\n"},{"title":"grpcå­¦ä¹ ","url":"/c3a30b76c4d8/grpc%E5%AD%A6%E4%B9%A0/","content":"\nä»‹ç»\ngRPC æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€é€šç”¨çš„å¼€æº RPC æ¡†æ¶ï¼Œå…¶ç”± Google\nä¸»è¦é¢å‘ç§»åŠ¨åº”ç”¨å¼€å‘å¹¶åŸºäº HTTP/2 åè®®æ ‡å‡†è€Œè®¾è®¡ï¼ŒåŸºäº ProtoBuf(Protocol\nBuffers) åºåˆ—åŒ–åè®®å¼€å‘ï¼Œä¸”æ”¯æŒä¼—å¤šå¼€å‘è¯­è¨€ã€‚\nå®‰è£…\ngRPC åŸºäº ProtoBuf åºåˆ—åŒ–åè®®ï¼Œå› æ­¤éœ€è¦å®‰è£… protoc ç¼–è¯‘å™¨ç”¨äºç¼–è¯‘\nprotocolbuf(.proto æ–‡ä»¶)å’Œ protobuf è¿è¡Œæ—¶ã€‚\nä¸‹è½½ protoc\nè¿›å…¥protobuf\nä»“åº“ä¸‹è½½é¢„ç¼–è¯‘å¥½çš„ protoc äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ æˆ‘è¿™é‡Œæ˜¯ windows\nç¯å¢ƒï¼Œå› æ­¤é€‰æ‹© win çš„ç‰ˆæœ¬ä¸‹è½½ã€‚\nä¸‹è½½å®Œæˆåï¼Œè§£å‹åˆ°è‡ªå·±çš„ç›¸å…³ç›®å½•å³å¯ã€‚ç„¶åé…ç½®ç¯å¢ƒå˜é‡ã€‚\nç„¶åæ‰§è¡Œå‘½ä»¤protoc --versionï¼Œè¾“å‡ºå¯¹åº”ç‰ˆæœ¬è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚\nä¸‹è½½ go plugins\nå®‰è£…å¥½ protoc ç¼–è¯‘å™¨åï¼Œè¿˜éœ€è¦å®‰è£…ç›¸å…³è¯­è¨€çš„æ’ä»¶ï¼Œæ¯”å¦‚è¿™é‡Œä½¿ç”¨ go\nè¯­è¨€ï¼Œéœ€è¦å®‰è£… go è¯­è¨€çš„æ’ä»¶ï¼Œæ’ä»¶ä¼šå°†ç¼–è¯‘åçš„ç»“æœç”Ÿæˆä¸º go\nä»£ç ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ å¯ä»¥ç›´æ¥ä½¿ç”¨ go å‘½ä»¤å®‰è£…ã€‚\ngo install google.golang.org/protobuf/cmd/protoc-gen-go@latestgo install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest\nç›¸å…³çš„æ‰§è¡Œæ–‡ä»¶ä¼šå®‰è£…åˆ°$GOPATH/binç›®å½•ä¸‹ã€‚ è¿˜éœ€è¦å…¶ä»–\ngrpc ç›¸å…³çš„åŒ…ï¼Œè¿™é‡Œä¸å•ç‹¬å®‰è£…ï¼Œåœ¨è¿è¡Œä»£ç æ—¶å†è¿›è¡Œå®‰è£…ã€‚\nDEMO\ngRPC ä¸»è¦æœ‰ 4 ç§è¯·æ±‚å’Œå“åº”æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯ç®€å•æ¨¡å¼(Simple\nRPC)ã€æœåŠ¡ç«¯æµå¼ï¼ˆServer-side streaming RPCï¼‰ã€å®¢æˆ·ç«¯æµå¼ï¼ˆClient-side\nstreaming RPCï¼‰ã€å’ŒåŒå‘æµå¼ï¼ˆBidirectional streaming RPCï¼‰ã€‚\n\nç®€å•æ¨¡å¼(Simple RPC)ï¼šå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚å¹¶ç­‰å¾…æœåŠ¡ç«¯å“åº”ã€‚\næœåŠ¡ç«¯æµå¼ï¼ˆServer-side streaming\nRPCï¼‰ï¼šå®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œæ‹¿åˆ°ä¸€ä¸ªæµå»è¯»å–è¿”å›çš„æ¶ˆæ¯åºåˆ—ã€‚\nå®¢æˆ·ç«¯è¯»å–è¿”å›çš„æµï¼Œç›´åˆ°é‡Œé¢æ²¡æœ‰ä»»ä½•æ¶ˆæ¯ã€‚\nå®¢æˆ·ç«¯æµå¼ï¼ˆClient-side streaming\nRPCï¼‰ï¼šä¸æœåŠ¡ç«¯æ•°æ®æµæ¨¡å¼ç›¸åï¼Œè¿™æ¬¡æ˜¯å®¢æˆ·ç«¯æºæºä¸æ–­çš„å‘æœåŠ¡ç«¯å‘é€æ•°æ®æµï¼Œè€Œåœ¨å‘é€ç»“æŸåï¼Œç”±æœåŠ¡ç«¯è¿”å›ä¸€ä¸ªå“åº”ã€‚\nåŒå‘æµå¼ï¼ˆBidirectional streaming\nRPCï¼‰ï¼šåŒæ–¹ä½¿ç”¨è¯»å†™æµå»å‘é€ä¸€ä¸ªæ¶ˆæ¯åºåˆ—ï¼Œä¸¤ä¸ªæµç‹¬ç«‹æ“ä½œï¼ŒåŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’ŒåŒæ—¶æ¥æ”¶ã€‚\n\nç®€å•æ¨¡å¼\né¡¹ç›®æ ¹ç›®å½•ä¸ºLearnGoï¼Œè¯¥ç›®å½•ä¸‹çš„ gRPC ç›¸å…³ç›®å½•ç»“æ„ä¸ºï¼š\n\nå®šä¹‰æœåŠ¡\né€šè¿‡ protobuf\nè¯­æ³•å®šä¹‰å’Œç¼–ç¨‹è¯­è¨€ã€å¹³å°æ— å…³çš„æ¥å£ã€‚æ–‡ä»¶test.protoå†…å®¹ä¸ºï¼š\nsyntax = \"proto3\";// option go_package = \"path;name\";// path è¡¨ç¤ºç”Ÿæˆçš„goæ–‡ä»¶çš„å­˜æ”¾åœ°å€ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨ç”Ÿæˆç›®å½•// name è¡¨ç¤ºç”Ÿæˆçš„goæ–‡ä»¶æ‰€å±çš„åŒ…åoption go_package = \"./;proto\";// å®šä¹‰åŒ…åpackage proto;// å®šä¹‰æ¶ˆæ¯message HelloRequest {  string name = 1;}message HelloReply {  string message = 1;}// å®šä¹‰æœåŠ¡service Greeter {  // å®šä¹‰æ–¹æ³•ï¼Œæ¥å—çš„HelloRequestæ¶ˆæ¯ï¼Œè¿”å›HelloReplyæ¶ˆæ¯  rpc SayHello(HelloRequest) returns (HelloReply) {}}\nç¼–è¯‘\nprotoc --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative test.proto\nç¼–è¯‘å®Œæˆåï¼Œä¼šç”Ÿæˆä¸€ä¸ªtest.pb.goå’Œtest_grpc.pb.goæ–‡ä»¶ã€‚\næˆ‘ä½¿ç”¨çš„Intellij IDEAæ‰“å¼€çš„é¡¹ç›®ï¼Œè¿›å…¥åˆ°ç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œä¼šæŠ¥é”™æç¤ºæ‰¾ä¸åˆ°åŒ…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨\nIDE å®‰è£…ç›¸å…³åŒ…å³å¯ã€‚ æ¯æ¬¡ç¼–è¯‘éƒ½éœ€è¦æ‰§è¡Œå‘½ä»¤å¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œå¯ä»¥åœ¨ IDEA\nä¸­å®šä¹‰å·¥å…·èœå•ï¼Œç®€åŒ–æ“ä½œã€‚ é¦–å…ˆæ‰“å¼€è®¾ç½®èœå•  æ·»åŠ å·¥å…·ï¼Œ\n æŒ‰ç…§è‡ªå·±çš„æŒ‡ä»¤è¿›è¡Œè®¾ç½®å³å¯ã€‚\n--go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative $FileName$\nç„¶åé€‰ä¸­xxx.protoæ–‡ä»¶ï¼Œæ‰¾åˆ°External Toolsé€‰æ‹©å³å¯ã€‚\næœåŠ¡ç«¯ä»£ç \npackage mainimport (    // è‡ªå·±ç¼–å†™çš„protoæ–‡ä»¶ç”Ÿæˆçš„åŒ…\tpb \"LearnGo/test05/proto\"\t\"golang.org/x/net/context\"\t\"google.golang.org/grpc\"\t\"google.golang.org/grpc/reflection\"\t\"log\"\t\"net\")// å®šä¹‰serverï¼Œç”¨æ¥å®ç°protoæ–‡ä»¶é‡Œå®ç°çš„æ¥å£type server struct{    pb.UnimplementedGreeterServer}// å®ç°å®šä¹‰çš„SayHelloæ¥å£// ç¬¬ä¸€ä¸ªæ˜¯ä¸Šä¸‹æ–‡å‚æ•°ï¼Œé»˜è®¤è¦å¡«ï¼›ç¬¬äºŒä¸ªæ˜¯å®šä¹‰çš„HelloRequestæ¶ˆæ¯// è¿”å›å€¼æ˜¯æˆ‘ä»¬å®šä¹‰çš„HelloReplyæ¶ˆæ¯ï¼Œerrorè¿”å›å€¼ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚func (s *server) SayHello(ctx context.Context, in *pb.HelloRequest) (*pb.HelloReply, error) {\tlog.Printf(\"receive the message: %v\", in.Name)\treturn &amp;pb.HelloReply{Message: in.Name}, nil}func main() {    // è®¾å®šç›‘å¬ç«¯å£\tlis, err := net.Listen(\"tcp\", \"127.0.0.1:50051\")\tif err != nil {\t\tlog.Fatalf(\"failed to listen: %v\", err)\t}    // å®ä¾‹åŒ–gRPCæœåŠ¡å™¨\ts := grpc.NewServer()    // æ³¨å†ŒæœåŠ¡\tpb.RegisterGreeterServer(s, &amp;server{})    // å‘gRPCæœåŠ¡ç«¯æ³¨å†Œåå°„æœåŠ¡\treflection.Register(s)    // å¯åŠ¨æœåŠ¡\tif err := s.Serve(lis); err != nil {\t\tlog.Fatalf(\"failed to serve: %v\", err)\t}}\nå®¢æˆ·ç«¯ä»£ç \npackage mainimport (    // å¯¼å…¥ç”Ÿæˆçš„protoåŒ…\t\"LearnGo/test05/proto\"\t\"context\"\t\"google.golang.org/grpc\"\t\"log\"\t\"time\")func main() {    // è¿æ¥grpcæœåŠ¡å™¨\tconn, err := grpc.Dial(\"localhost:50051\", grpc.WithInsecure())\tif err != nil {\t\tlog.Fatalf(\"filed to connect: %v\", err)\t}    // å»¶è¿Ÿå…³é—­è¿æ¥\tdefer conn.Close()    // æ–°å»ºGreeteræœåŠ¡ å®¢æˆ·ç«¯\tc := proto.NewGreeterClient(conn)    // åˆå§‹åŒ–ä¸Šä¸‹æ–‡ï¼Œè®¾ç½®è¯·æ±‚è¶…æ—¶ä¸º1ç§’\tctx, cancel := context.WithTimeout(context.Background(), time.Second)    // å»¶è¿Ÿå…³é—­ä¼šè¯\tdefer cancel()    // è°ƒç”¨SayHelloæ¥å£å‘é€æ¶ˆæ¯\treply, err := c.SayHello(ctx, &amp;proto.HelloRequest{Name: \"test grpc\"})\tif err != nil {\t\tlog.Fatalf(\"failed to send: %v\", err)\t}    // æ‰“å°æœåŠ¡çš„è¿”å›æ¶ˆæ¯\tlog.Printf(\"the reply message: %v\", reply.Message)}\næ‰§è¡Œ\nåˆ†åˆ«æ‰§è¡Œserver.goå’Œclient.goç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°æ‰“å°çš„ç»“æœ\næœåŠ¡ç«¯æ‰“å°ï¼š å®¢æˆ·ç«¯æ‰“å°ï¼š\n","categories":["æŠ€æœ¯"],"tags":["grpc"]},{"title":"Hexoé…ç½®","url":"/c197c3e8baa5/hexo%E9%85%8D%E7%BD%AE/","content":"æ’ä»¶å®‰è£…\nnpm install hexo-asset-img --save\nè¯¥æ’ä»¶å¯ä»¥å°†ç›¸å¯¹è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„ä½¿å¾—æµè§ˆå™¨å¯ä»¥è®¿é—®åˆ°ã€‚\n\né…ç½®Hexo\nä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ã€‚\nå°†post_asset_folderè®¾ç½®ä¸ºtrueã€‚è¯¥é…ç½®ä¼šåœ¨ä½¿ç”¨hexo new \"filename\"æ—¶è‡ªåŠ¨ç”ŸæˆåŒåçš„æ–‡ä»¶å¤¹ä¿å­˜èµ„æºã€‚\né…ç½®Typora\nå°†Typoraçš„å›¾åƒè®¾ç½®æ”¹ä¸ºä¿å­˜åˆ°ä¸è¯¥æ–‡ä»¶åŒç›®å½•çš„åŒåæ–‡ä»¶å¤¹ä¸­ã€‚\n\nHexoé…ç½®æ¸²æŸ“æ•°å­¦å…¬å¼\n\nå¸è½½é»˜è®¤æ¸²æŸ“å™¨ï¼Œå®‰è£…Pandocæ¸²æŸ“å™¨\nnpm uninstall hexo-renderer-marked --savenpm install hexo-renderer-pandoc --save\nå®‰è£…mathjaxåŒ…\nnpm install hexo-filter-mathjax\nåœ¨æ ¹ç›®å½•_config.ymlä¸‹æ·»åŠ \nmathjax:  tags: none               # or 'ams' or 'all'  single_dollars: true     # enable single dollar signs as in-line math delimiters  cjk_width: 0.9           # relative CJK char width  normal_width: 0.6        # relative normal (monospace) width  append_css: true         # add CSS to every page  every_page: true        # if true, every page will be rendered by mathjax regardless the `mathjax` setting in Front-matter of each article\nåœ¨åšå®¢front-matterä¸Šæ·»åŠ \nmathjax: true\n\n\né…ç½®æ˜¾ç¤ºemoji\nå®‰è£…åº“\nnpm install hexo-filter-emoji\nåœ¨_config.ymlæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n# hexo-filter-emojiemoji:  enable: true  className: github-emoji  styles:  customEmojis:\n","categories":["Hexo"],"tags":["Hexoæ’ä»¶"]},{"title":"k8séƒ¨ç½²å®‰è£…","url":"/12bf0bd1f4f1/k8s%E9%83%A8%E7%BD%B2%E5%AE%89%E8%A3%85/","content":"æ­¤è¿‡ç¨‹å‚è€ƒåšå®¢ã€‚\nåªè®°å½•å’Œåšå®¢ä¸­æœ‰å‡ºå…¥çš„åœ°æ–¹ã€‚\n\n5.1.2\n\nåšå®¢nginxä¸­è¯¥é…ç½®ï¼Œå‚æ•°$remote_addrï¼Œå¦‚æœç›´æ¥å¤åˆ¶åˆ°ç»ˆç«¯ä¸­å¯èƒ½ä¼šå‡ºç°é…ç½®æ–‡ä»¶ä¸­$remote_addrä½ç½®ä¸ºç©ºï¼Œç»ˆç«¯ä¼šè®¤ä¸º$remote_addræ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œå®é™…ä¸Šæ˜¯è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¾“å…¥åˆ°æ–‡ä»¶ä¸­ã€‚\n9.1 æ–¹å¼ä¸€\né…ç½®å®Œæˆåç­‰å¾…podæ‰§è¡Œï¼Œå¦‚æœä¸€ç›´å‡ºç°imagebackoffpullç­‰é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤kubectl describe pod &lt;pod name&gt; -n kube-systemæŸ¥çœ‹å…·ä½“æŠ¥é”™ï¼Œé€šå¸¸åŸå› æ˜¯æ‹‰å–é•œåƒå¤±è´¥ã€‚\nå¯ä»¥æ‰‹åŠ¨æ‹‰å–é•œåƒï¼Œæ­¤æ—¶è¦æ³¨æ„ï¼Œä½¿ç”¨çš„containerdå®¹å™¨è¿è¡Œæ—¶ï¼Œk8sé»˜è®¤ä¼šæŠŠé•œåƒæ‹‰å–åˆ°k8s.ioå‘½åç©ºé—´ä¸­ï¼Œå› æ­¤æ‰‹åŠ¨æ‹‰å–æ—¶ä¹Ÿéœ€è¦æ‹‰å–åˆ°è¿™ä¸ªå‘½åç©ºé—´ä¸­\nctr -n k8s.io image pull &lt;image_name&gt;\n11.1.1\næŒ‰ç…§é…ç½®åšå®¢é…ç½®åå¦‚æœå‡ºç°metrics serveræ— æ³•è®¿é—®ç­‰é”™è¯¯ï¼Œå¯ä»¥å°è¯•åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å‚æ•°\nhostNetwork: true\n.vuncagyzfddz{zoom:50%;}\n\næœ¬åœ°è°ƒè¯•scheduler\n\nå°†è¿œç¨‹ç¯å¢ƒä¸­ç”¨æˆ·ç›®å½•çš„.kubeç›®å½•æ‹·è´åˆ°æœ¬åœ°windowsç”¨æˆ·ç›®å½•ä¸‹ã€‚\nè¯¥ç›®å½•ä¸‹é…ç½®clusters.cluster.serveré…ç½®æ˜¯æœ¬æœº18443ç«¯å£127.0.0.1:18443\nå°†æœ¬åœ°å¯åŠ¨ç«¯å£18443ï¼Œä¸è¿œç¨‹ä¸»æœº192.168.217.100è¿æ¥ç™»å½•ç„¶åå°†ç«¯å£è½¬å‘åˆ°127.0.0.1:8443ï¼Œç›¸å½“äºåœ¨è¿œç¨‹ä¸»æœºæœ¬åœ°è®¿é—®é›†ç¾¤ipå’Œç«¯å£ã€‚\nssh -L 18443:127.0.0.1:8443 -N -f root@192.168.217.100\nssh -L localport:remotehost:remotehostport sshserverè¯´æ˜ï¼šlocalportã€€ã€€ã€€ã€€ã€€ã€€ æœ¬æœºå¼€å¯çš„ç«¯å£å·remotehostã€€ã€€ã€€ã€€ã€€ã€€æœ€ç»ˆè¿æ¥æœºå™¨çš„IPåœ°å€remotehostport      æœ€ç»ˆè¿æ¥æœºå™¨çš„ç«¯å£å·sshserverã€€ã€€ã€€ã€€ã€€ã€€ è½¬å‘æœºå™¨çš„IPåœ°å€é€‰é¡¹ï¼š-f åå°å¯ç”¨-N ä¸æ‰“å¼€è¿œç¨‹shellï¼Œå¤„äºç­‰å¾…çŠ¶æ€ï¼ˆä¸åŠ -Nåˆ™ç›´æ¥ç™»å½•è¿›å»ï¼‰-g å¯ç”¨ç½‘å…³åŠŸèƒ½\n\nå®‰è£…kube-prometheus\nhttps://cloud.tencent.com/developer/article/2216613\nhttps://cloud-atlas.readthedocs.io/zh-cn/latest/kubernetes/monitor/prometheus/helm3_prometheus_grafana.html\nç½‘ç»œé—®é¢˜æ˜¯æœ€ä¸»è¦çš„é—®é¢˜ï¼Œå¯ä»¥å¤šå°è¯•å‡ æ¬¡ã€‚\nå¯åŠ¨podæ—¶æ‹‰å–é•œåƒä¸­ï¼Œkube-state-metricsè¿™ä¸ªpodçš„é•œåƒæ‹‰å–æœ€å®¹æ˜“å¤±è´¥ï¼Œå³ä½¿æ‰‹åŠ¨æ‹‰å–ä¹Ÿéå¸¸å®¹æ˜“å¤±è´¥ã€‚\nå¯ä»¥å‚è€ƒé“¾æ¥é‡‡ç”¨å…¶ä»–çš„kube-state-metricså®‰è£…ï¼Œç„¶åå°†æ‹‰å–çš„é•œåƒé‡æ–°æ”¹åä¸ºä¸Šè¿°éœ€è¦çš„é•œåƒã€‚\n\næˆ–è€…ä¸ä½¿ç”¨helmå¯ä»¥å‚è€ƒè¯¥é“¾æ¥ï¼šhttps://blog.csdn.net/slc09/article/details/132571091\n\nè®¿é—®ç›¸å…³é¡µé¢ï¼š\nalertmanager-main: 59.65.191.100:31675\ngrafana: 59.65.191.100:32657\nprometheus-k8s: 59.65.191.100:32678\nä¸€ç›´Terminatingçš„è§£å†³åŠæ³•\nhttps://juejin.cn/post/7210020384044335165\nregistry.k8s.ioæ‹‰å–ä¸ä¸‹æ¥\nk8så®˜æ–¹é•œåƒä»£ç†åŠ é€Ÿ_registry.k8s.io-CSDNåšå®¢\n","categories":["k8s"],"tags":["k8s","å®¹å™¨"]},{"title":"JavaåŸºç¡€","url":"/b87a20734105/java%E5%9F%BA%E7%A1%80/","content":"\næ³¨ï¼šå¤§å¤šæ•°å†…å®¹å‚è€ƒäº†JavaGuide\nJava\nçº¿ç¨‹æ± å¯ä»¥è®¾ç½®çš„å‚æ•°\n\nhttps://javabetter.cn/interview/java-34.html#_28-%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8F%82%E6%95%B0ä¸ƒä¸ªå‚æ•°ï¼š1.corePoolSizeï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œçº¿ç¨‹æ± ä¸­å§‹ç»ˆå­˜æ´»çš„çº¿ç¨‹æ•°ã€‚2.maximumPoolSize:\næœ€å¤§çº¿ç¨‹æ•°ï¼Œçº¿ç¨‹æ± ä¸­å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚3.keepAliveTime:\nå­˜æ´»æ—¶é—´ï¼Œçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œæ—¶æœ€å¤šä¿æŒå¤šä¹…æ—¶é—´ä¼šç»ˆæ­¢ã€‚4.unit:\nå•ä½ï¼Œå‚æ•°keepAliveTimeçš„æ—¶é—´å•ä½ï¼Œ7ç§å¯é€‰ã€‚5.workQueue:\nä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå‡ä¸ºçº¿ç¨‹å®‰å…¨ï¼Œ7ç§å¯é€‰ã€‚6.threadFactory:\nçº¿ç¨‹å·¥å‚ï¼Œä¸»è¦ç”¨æ¥åˆ›å»ºçº¿ç¨‹ï¼Œé»˜è®¤æ­£å¸¸ä¼˜å…ˆçº§ã€éå®ˆæŠ¤çº¿ç¨‹ã€‚7.handlerï¼šæ‹’ç»ç­–ç•¥ï¼Œæ‹’ç»å¤„ç†ä»»åŠ¡æ—¶çš„ç­–ç•¥ï¼Œ4ç§å¯é€‰ï¼Œé»˜è®¤ä¸ºAbortPolicyã€‚\nsynchronizedå’Œå¯é‡å…¥é”çš„åŒºåˆ«\n\nç”¨æ³•ä¸åŒï¼šsynchronized\nå¯ä»¥ç”¨æ¥ä¿®é¥°æ™®é€šæ–¹æ³•ã€é™æ€æ–¹æ³•å’Œä»£ç å—ï¼Œè€Œ ReentrantLock\nåªèƒ½ç”¨äºä»£ç å—ã€‚\nè·å–é”å’Œé‡Šæ”¾é”çš„æœºåˆ¶ä¸åŒï¼šsynchronized\næ˜¯è‡ªåŠ¨åŠ é”å’Œé‡Šæ”¾é”çš„ï¼Œè€Œ ReentrantLock éœ€è¦æ‰‹åŠ¨åŠ é”å’Œé‡Šæ”¾é”ã€‚\né”ç±»å‹ä¸åŒï¼šsynchronized æ˜¯éå…¬å¹³é”ï¼Œè€Œ\nReentrantLock é»˜è®¤ä¸ºéå…¬å¹³é”ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šä¸ºå…¬å¹³é”ã€‚\nå“åº”ä¸­æ–­ä¸åŒï¼šReentrantLock\nå¯ä»¥å“åº”ä¸­æ–­ï¼Œè§£å†³æ­»é”çš„é—®é¢˜ï¼Œè€Œ synchronized ä¸èƒ½å“åº”ä¸­æ–­ã€‚\nåº•å±‚å®ç°ä¸åŒï¼šsynchronized æ˜¯ JVM\nå±‚é¢é€šè¿‡ç›‘è§†å™¨å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯åŸºäº AQS å®ç°çš„ã€‚\n\nå¯é‡å…¥é”æ€ä¹ˆå®ç°\nçº¿ç¨‹å®‰å…¨çš„é›†åˆæœ‰å“ªäº›\n\nVectorã€HashTable\n\nä½¿ç”¨synchronizedä¿®é¥°æ–¹æ³•ä¿è¯çº¿ç¨‹å®‰å…¨æ•ˆç‡ä½\n\nConcurrentHashMapã€CopyOnWriteArrayListã€CopyOnWriteArraySet\n\né™¤äº†1.8çš„ConcurrentHashMapå¤§å¤šéƒ½æ˜¯ç”¨Locké”\nConcurrentHashMapæ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨\nhttps://javaguide.cn/java/collection/java-collection-questions-02.html#concurrenthashmap-%E5%92%8C-hashtable-%E7%9A%84%E5%8C%BA%E5%88%ABJDK1.7\nçš„ ConcurrentHashMap åº•å±‚é‡‡ç”¨ åˆ†æ®µçš„æ•°ç»„+é“¾è¡¨\nå®ç°ï¼ŒJDK1.8 é‡‡ç”¨çš„æ•°æ®ç»“æ„è·Ÿ HashMap1.8\nçš„ç»“æ„ä¸€æ ·ï¼Œæ•°ç»„+é“¾è¡¨/çº¢é»‘äºŒå‰æ ‘ã€‚åœ¨ JDK1.7\nçš„æ—¶å€™ï¼ŒConcurrentHashMap\nå¯¹æ•´ä¸ªæ¡¶æ•°ç»„è¿›è¡Œäº†åˆ†å‰²åˆ†æ®µ(Segmentï¼Œåˆ†æ®µé”)ï¼Œæ¯ä¸€æŠŠé”åªé”å®¹å™¨å…¶ä¸­ä¸€éƒ¨åˆ†æ•°æ®ï¼ˆä¸‹é¢æœ‰ç¤ºæ„å›¾ï¼‰ï¼Œå¤šçº¿ç¨‹è®¿é—®å®¹å™¨é‡Œä¸åŒæ•°æ®æ®µçš„æ•°æ®ï¼Œå°±ä¸ä¼šå­˜åœ¨é”ç«äº‰ï¼Œæé«˜å¹¶å‘è®¿é—®ç‡ã€‚\nåˆ°äº† JDK1.8 çš„æ—¶å€™ï¼ŒConcurrentHashMap å·²ç»æ‘’å¼ƒäº† Segment\nçš„æ¦‚å¿µï¼Œè€Œæ˜¯ç›´æ¥ç”¨ Node æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥å®ç°ï¼Œå¹¶å‘æ§åˆ¶ä½¿ç”¨\nsynchronized å’Œ CAS æ¥æ“ä½œã€‚ï¼ˆJDK1.6 ä»¥å synchronized é”åšäº†å¾ˆå¤šä¼˜åŒ–ï¼‰\næ•´ä¸ªçœ‹èµ·æ¥å°±åƒæ˜¯ä¼˜åŒ–è¿‡ä¸”çº¿ç¨‹å®‰å…¨çš„ HashMapï¼Œè™½ç„¶åœ¨ JDK1.8 ä¸­è¿˜èƒ½çœ‹åˆ°\nSegment çš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å·²ç»ç®€åŒ–äº†å±æ€§ï¼Œåªæ˜¯ä¸ºäº†å…¼å®¹æ—§ç‰ˆæœ¬ã€‚\nCASæ˜¯ä»€ä¹ˆ\nhttps://javaguide.cn/java/basis/unsafe.html#cas-%E6%93%8D%E4%BD%9C\nCAS å³æ¯”è¾ƒå¹¶æ›¿æ¢ï¼ˆCompare And\nSwap)ï¼Œæ˜¯å®ç°å¹¶å‘ç®—æ³•æ—¶å¸¸ç”¨åˆ°çš„ä¸€ç§æŠ€æœ¯ã€‚CAS\næ“ä½œåŒ…å«ä¸‰ä¸ªæ“ä½œæ•°â€”â€”å†…å­˜ä½ç½®ã€é¢„æœŸåŸå€¼åŠæ–°å€¼ã€‚æ‰§è¡Œ CAS\næ“ä½œçš„æ—¶å€™ï¼Œå°†å†…å­˜ä½ç½®çš„å€¼ä¸é¢„æœŸåŸå€¼æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒ¹é…ï¼Œé‚£ä¹ˆå¤„ç†å™¨ä¼šè‡ªåŠ¨å°†è¯¥ä½ç½®å€¼æ›´æ–°ä¸ºæ–°å€¼ï¼Œå¦åˆ™ï¼Œå¤„ç†å™¨ä¸åšä»»ä½•æ“ä½œã€‚æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒCAS\næ˜¯ä¸€æ¡ CPU çš„åŸå­æŒ‡ä»¤ï¼ˆcmpxchg\næŒ‡ä»¤ï¼‰ï¼Œä¸ä¼šé€ æˆæ‰€è°“çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼ŒUnsafe æä¾›çš„ CAS æ–¹æ³•ï¼ˆå¦‚\ncompareAndSwapObjectã€compareAndSwapIntã€compareAndSwapLongï¼‰åº•å±‚å®ç°å³ä¸º\nCPU æŒ‡ä»¤ cmpxchg ã€‚\nå­˜åœ¨é—®é¢˜ï¼šå¦‚æœåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿä¿®æ”¹äº†è¿™ä¸ªå˜é‡ï¼Œä½†æ˜¯ä¿®æ”¹åçš„å€¼å’ŒåŸå€¼ä¸€æ ·ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç°ä¿®æ”¹è¿‡ï¼Œå¯ä»¥é‡‡ç”¨æ·»åŠ ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³çš„æ–¹å¼é¿å…ã€‚\nvolatile\n\n1.ä¿è¯å†…å­˜å¯è§æ€§\n\nå½“ä¸€ä¸ªè¢«volatileå…³é”®å­—ä¿®é¥°çš„å˜é‡è¢«ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹çš„æ—¶å€™ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥ç«‹åˆ»å¾—åˆ°ä¿®æ”¹ä¹‹åçš„ç»“æœã€‚å½“ä¸€ä¸ªçº¿ç¨‹å‘è¢«volatileå…³é”®å­—ä¿®é¥°çš„å˜é‡å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œè™šæ‹Ÿæœºä¼šå¼ºåˆ¶å®ƒè¢«å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è¯»å–è¢«volatileå…³é”®å­—ä¿®é¥°çš„å€¼çš„æ—¶å€™ï¼Œè™šæ‹Ÿæœºä¼šå¼ºåˆ¶è¦æ±‚å®ƒä»ä¸»å†…å­˜ä¸­è¯»å–ã€‚\n\n2.ç¦æ­¢æŒ‡ä»¤é‡æ’åº\n\næŒ‡ä»¤é‡æ’åºæ˜¯ç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†é«˜æ•ˆå¯¹ç¨‹åºè¿›è¡Œä¼˜åŒ–çš„æ‰‹æ®µï¼Œcpu\næ˜¯ä¸å†…å­˜äº¤äº’çš„ï¼Œè€Œ cpu çš„æ•ˆç‡æƒ³æ¯”å†…å­˜é«˜å¾ˆå¤šï¼Œæ‰€ä»¥ cpu\nä¼šåœ¨ä¸å½±å“æœ€ç»ˆç»“æœçš„æƒ…å†µä¸‹ï¼Œä¸ç­‰å¾…è¿”å›ç»“æœç›´æ¥è¿›è¡Œåç»­çš„æŒ‡ä»¤æ“ä½œï¼Œè€Œ\nvolatile\nå°±æ˜¯ç»™ç›¸åº”ä»£ç åŠ äº†å†…å­˜å±éšœï¼Œåœ¨å±éšœå†…çš„ä»£ç ç¦æ­¢æŒ‡ä»¤é‡æ’åºã€‚\n\n\nJavaçš„å†…å­˜åŒºåŸŸ\nJavaçš„gcé€»è¾‘\nhttps://juejin.cn/post/7123853933801373733https://javaguide.cn/java/jvm/jvm-garbage-collection.html\nå†…å­˜åˆ†é…å’Œå›æ”¶åŸåˆ™\né¦–å…ˆåˆ†é…å¯¹è±¡åˆ°æ–°ç”Ÿä»£çš„EdenåŒºï¼Œå†æ¬¡åˆ†é…å¯¹è±¡æ—¶ä»æ—§æ˜¯ä¼˜å…ˆåˆ†é…åˆ°EdenåŒºï¼Œå¦‚æœå‘ç°æ— æ³•æ»¡è¶³ï¼Œåˆ™è¿›è¡Œä¸€æ¬¡Minor\ngcï¼ˆä¹Ÿå«Young\ngcï¼‰ï¼Œå°†EdenåŒºçš„å¯¹è±¡å¤åˆ¶åˆ°SåŒºï¼Œå¦‚æœSåŒºæ— æ³•æ»¡è¶³æ¡ä»¶åˆ™æ ¹æ®ç©ºé—´åˆ†é…æ‹…ä¿å°†å¯¹è±¡å¤åˆ¶åˆ°è€å¹´ä»£ï¼Œä¸€èˆ¬è€å¹´ä»£å¯ä»¥æ»¡è¶³æ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™è¿›è¡ŒFull\ngcï¼Œå¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£è¿›è¡Œä¸€æ¬¡gcã€‚è¾ƒå¤§çš„å¯¹è±¡ï¼ˆå¤§å¯¹è±¡å°±æ˜¯éœ€è¦å¤§é‡è¿ç»­å†…å­˜ç©ºé—´çš„å¯¹è±¡ï¼ˆæ¯”å¦‚ï¼šå­—ç¬¦ä¸²ã€æ•°ç»„ï¼‰ï¼‰ä¹Ÿä¼šç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œé¿å…å°†å¤§å¯¹è±¡æ”¾å…¥æ–°ç”Ÿä»£äº§ç”Ÿé¢‘ç¹çš„gcæ“ä½œã€‚å…·ä½“ä»€ä¹ˆæ˜¯å¤§å¯¹è±¡ï¼Œä¸åŒåƒåœ¾å›æ”¶å™¨ä¼šæœ‰ä¸åŒçš„è®¾ç½®ï¼š\n\nG1åƒåœ¾å›æ”¶å™¨å¯ä»¥é€šè¿‡è®¾ç½®å‚æ•°æ¥ç¡®å®šå¤§å¯¹è±¡çš„å¤§å°ã€‚\nParallel Scavenge\nåƒåœ¾å›æ”¶å™¨ï¼Œé»˜è®¤æƒ…å†µæ²¡æœ‰é˜ˆå€¼ï¼Œæ˜¯æ ¹æ®å½“å‰å †å†…å­˜çš„æƒ…å†µå’Œå†å²æ•°æ®åŠ¨æ€å†³å®šçš„ã€‚\n\njvmä¼šç»™æ¯ä¸ªå¯¹è±¡è®¾ç½®ä¸€ä¸ªå¹´é¾„ï¼Œæ–°ç”Ÿä»£çš„å¯¹è±¡ç»å†ä¸€æ¬¡Minor\ngcå­˜æ´»ä¸‹æ¥æ—¶ï¼Œä¼šå°†å¹´é¾„å¢åŠ 1ï¼Œå½“å¹´é¾„è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶ï¼ˆé»˜è®¤ä¸º15ï¼Œä½†ä¹Ÿå’Œå…·ä½“çš„åƒåœ¾æ”¶é›†å™¨æˆ–è€…å‚æ•°è®¾ç½®æœ‰å…³ï¼‰ï¼Œä¹Ÿä¼šåŠ å…¥åˆ°è€å¹´ä»£ä¸­ã€‚\næ­»äº¡å¯¹è±¡åˆ¤æ–­æ–¹æ³•\n\nå¼•ç”¨è®¡æ•°æ³•\n\nç»™å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼š\n\næœ‰ä¸€ä¸ªåœ°æ–¹å¼•ç”¨äº†è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œè®¡æ•°å™¨åŠ 1\nå¼•ç”¨å¤±æ•ˆåˆ™å‡1\nè®¡æ•°å™¨ä¸º0åˆ™è¡¨ç¤ºå¯¹è±¡ä¸å†è¢«ä½¿ç”¨\n\nè¯¥æ–¹æ³•å®ç°ç®€å•æ•ˆç‡é«˜ï¼Œä½†æ˜¯å¾ˆéš¾è§£å†³å¯¹è±¡ä¹‹é—´å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼ˆå¾ªç¯å¼•ç”¨çš„æƒ…å†µä¸‹ä¸¤ä¸ªå¯¹è±¡çš„è®¡æ•°å™¨éƒ½ä¸ä¸º0ï¼‰ã€‚\n\nå¯è¾¾æ€§åˆ†æç®—æ³•\n\né€šè¿‡ä¸€ç³»åˆ—è¢«ç§°ä¸ºGC\nRootsçš„å¯¹è±¡ä½œä¸ºèµ·ç‚¹ï¼Œä»è¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼ŒèŠ‚ç‚¹æ‰€èµ°è¿‡çš„è·¯è¢«ç§°ä¸ºå¼•ç”¨é“¾ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åˆ°GC\nRootsæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾çš„è¯ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ï¼Œéœ€è¦è¢«å›æ”¶ã€‚å“ªäº›å¯¹è±¡å¯ä»¥ä½œä¸ºGC\nRootså‘¢ï¼š\n\nè™šæ‹Ÿæœºæ ˆï¼ˆæ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡\næœ¬åœ°æ–¹æ³•æ ˆï¼ˆnativeæ–¹æ³•ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡\næ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡\næ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡\næ‰€æœ‰è¢«åŒæ­¥é”æŒæœ‰çš„å¯¹è±¡\nJNIï¼ˆJava Native Interfaceï¼‰å¼•ç”¨çš„å¯¹è±¡\n\n\nå¼•ç”¨ç±»å‹æ€»ç»“\n\nå¼ºå¼•ç”¨ï¼šå¤§éƒ¨åˆ†å¼•ç”¨éƒ½æ˜¯å¼ºå¼•ç”¨ï¼Œåƒåœ¾å›æ”¶å™¨ç»ä¸ä¼šå›æ”¶ï¼Œå½“å†…å­˜ç©ºé—´ä¸è¶³æ—¶ä¼šæŠ›å‡ºOOMå¼‚å¸¸ä¹Ÿä¸ä¼šå›æ”¶å¼ºå¼•ç”¨çš„å¯¹è±¡ã€‚\nè½¯å¼•ç”¨ï¼šå¦‚æœå†…å­˜è¶³å¤Ÿï¼Œåˆ™ä¸ä¼šå›æ”¶ï¼Œå¦‚æœå†…å­˜ä¸è¶³åˆ™ä¼šå›æ”¶è½¯å¼•ç”¨å¯¹è±¡çš„å†…å­˜ã€‚è½¯å¼•ç”¨å¯ä»¥ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚\nå¼±å¼•ç”¨ï¼šåªæœ‰çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ— è®ºå†…å­˜æ˜¯å¦å……è¶³ï¼Œåªè¦å‘ç°äº†å¼±å¼•ç”¨çš„å¯¹è±¡å°±ä¼šè¿›è¡Œå›æ”¶ã€‚\nè™šå¼•ç”¨ï¼šè™šå¼•ç”¨å¹¶ä¸ä¼šå†³å®šä»»ä½•å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯¹è±¡å¦‚æœåªæœ‰è™šå¼•ç”¨ï¼Œå°±å’Œæ²¡æœ‰å¼•ç”¨ä¸€æ ·ï¼Œä»»ä½•æ—¶å€™éƒ½ä¼šè¢«å›æ”¶ã€‚\n\n\nè™šå¼•ç”¨å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—è”åˆä½¿ç”¨ï¼Œè€Œè½¯å¼•ç”¨å’Œå¼±å¼•ç”¨ä¸å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—è”åˆä½¿ç”¨ã€‚\n\nå¦‚ä½•åˆ¤æ–­åºŸå¼ƒå¸¸é‡\n\nå‡å¦‚åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å­˜åœ¨å­—ç¬¦ä¸² \"abc\"ï¼Œå¦‚æœå½“å‰æ²¡æœ‰ä»»ä½• String\nå¯¹è±¡å¼•ç”¨è¯¥å­—ç¬¦ä¸²å¸¸é‡çš„è¯ï¼Œå°±è¯´æ˜å¸¸é‡\"abc\"\nå°±æ˜¯åºŸå¼ƒå¸¸é‡ï¼Œå¦‚æœè¿™æ—¶å‘ç”Ÿå†…å­˜å›æ”¶çš„è¯è€Œä¸”æœ‰å¿…è¦çš„è¯ï¼Œ\"abc\"\nå°±ä¼šè¢«ç³»ç»Ÿæ¸…ç†å‡ºå¸¸é‡æ± äº†ã€‚\n\nå¦‚ä½•åˆ¤æ–­æ— ç”¨ç±»\n\nç±»éœ€è¦åŒæ—¶æ»¡è¶³ä¸‹é¢ 3 ä¸ªæ¡ä»¶æ‰èƒ½ç®—æ˜¯ â€œæ— ç”¨çš„ç±»â€ï¼š\n\nè¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ Java\nå †ä¸­ä¸å­˜åœ¨è¯¥ç±»çš„ä»»ä½•å®ä¾‹ã€‚\nåŠ è½½è¯¥ç±»çš„ ClassLoader å·²ç»è¢«å›æ”¶ã€‚\nè¯¥ç±»å¯¹åº”çš„ java.lang.Class\nå¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•ã€‚\n\nè™šæ‹Ÿæœºå¯ä»¥å¯¹æ»¡è¶³ä¸Šè¿° 3\nä¸ªæ¡ä»¶çš„æ— ç”¨ç±»è¿›è¡Œå›æ”¶ï¼Œè¿™é‡Œè¯´çš„ä»…ä»…æ˜¯â€œå¯ä»¥â€ï¼Œè€Œå¹¶ä¸æ˜¯å’Œå¯¹è±¡ä¸€æ ·ä¸ä½¿ç”¨äº†å°±ä¼šå¿…ç„¶è¢«å›æ”¶ã€‚\nåƒåœ¾æ”¶é›†ç®—æ³•\n\næ ‡è®°æ¸…é™¤ç®—æ³•\n\nåˆ†ä¸ºæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªé˜¶æ®µï¼šé¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰ä¸å›æ”¶çš„å¯¹è±¡ï¼Œæ ‡è®°å®Œæˆåç»Ÿä¸€å›æ”¶æ‰æ‰€æœ‰æ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ã€‚æ˜¯æœ€åŸºç¡€çš„ç®—æ³•ï¼Œåç»­ç®—æ³•éƒ½æ˜¯å¯¹ä»–çš„æ”¹è¿›ï¼Œè¿™ç§ç®—æ³•ä¼šæœ‰ä¸¤ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼š\n\næ•ˆç‡é—®é¢˜ï¼šæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªè¿‡ç¨‹æ•ˆç‡éƒ½ä¸é«˜\nç©ºé—´é—®é¢˜ï¼šæ ‡è®°æ¸…æ¥šåä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡\n\n\næ ‡è®°æ•´ç†ç®—æ³•\n\næ ‡è®°è¿‡ç¨‹å’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€æ ·ï¼Œåç»­æ­¥éª¤ä¸æ˜¯ç›´æ¥å¯¹å¯å›æ”¶å¯¹è±¡å›æ”¶ï¼Œè€Œæ˜¯è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡å‘å‰ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åç›´æ¥æ¸…ç†æ‰ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚ç”±äºå¤šäº†æ•´ç†çš„æ­¥ï¼Œæ•ˆç‡ä¸é«˜ï¼Œé€‚åˆè€å¹´ä»£è¿™ç§åƒåœ¾å›æ”¶é¢‘ç‡ä¸æ˜¯å¾ˆé«˜çš„åœºæ™¯ã€‚\n\nå¤åˆ¶ç®—æ³•\n\nè§£å†³æ•ˆç‡å’Œå†…å­˜ç¢ç‰‡é—®é¢˜ã€‚å°†å†…å­˜åˆ†ä¸ºå¤§å°ç›¸åŒçš„ä¸¤å—ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œå½“ä¸€å—ä½¿ç”¨å®Œåï¼Œå°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ï¼Œç„¶åæ¸…ç†ä½¿ç”¨çš„ç©ºé—´ã€‚å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š\n\nå¯ç”¨å†…å­˜å˜å°\nä¸é€‚åˆè€å¹´ä»£ï¼Œå¦‚æœå­˜æ´»å¯¹è±¡æ•°é‡è¾ƒå¤šï¼Œå¤åˆ¶æ€§èƒ½ä¼šå˜å·®ã€‚\n\n\nåˆ†ä»£æ”¶é›†ç®—æ³•\n\næ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸå°†å†…å­˜åˆ†ä¸ºå‡ å—ã€‚ä¸€èˆ¬å°†Javaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚æ–°ç”Ÿä»£ä¸­æ¯æ¬¡æ”¶é›†éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©æ ‡è®°å¤åˆ¶ç®—æ³•ï¼Œåªéœ€è¦å°‘é‡å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥å®Œæˆåƒåœ¾æ”¶é›†ï¼›è€Œè€å¹´ä»£çš„å¯¹è±¡å­˜æ´»å‡ ç‡æ¯”è¾ƒé«˜ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´æ‹…ä¿ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ ‡è®°æ¸…é™¤æˆ–è€…æ ‡è®°æ•´ç†ç®—æ³•ã€‚\nåƒåœ¾æ”¶é›†å™¨\nåƒåœ¾æ”¶é›†å™¨æ˜¯åƒåœ¾æ”¶é›†ç®—æ³•çš„å…·ä½“å®ç°ã€‚åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰æœ€å¥½çš„åƒåœ¾æ”¶é›†å™¨å‡ºç°ï¼Œåªèƒ½æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„åƒåœ¾æ”¶é›†å™¨ã€‚JDKé»˜è®¤çš„åƒåœ¾æ”¶é›†å™¨ï¼š\n\n1.8ï¼šParallel Scavengeï¼ˆæ–°ç”Ÿä»£ï¼‰ + Parallel Oldï¼ˆè€å¹´ä»£ï¼‰\n9 - 20: G1\n\n\nParallel Scavengeæ”¶é›†å™¨\n\nParallel\nScavengeæ”¶é›†å™¨æ˜¯ä½¿ç”¨æ ‡è®°å¤åˆ¶ç®—æ³•çš„å¤šçº¿ç¨‹æ”¶é›†å™¨ï¼Œè¯¥æ”¶é›†å™¨çš„å…³æ³¨ç‚¹åœ¨äºååé‡ï¼ˆé«˜æ•ˆç‡ä½¿ç”¨CPUï¼‰ï¼Œååé‡æŒ‡CPUä¸­ç”¨äºè¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´ä¸CPUæ€»æ¶ˆè€—æ—¶é—´çš„æ¯”å€¼ã€‚è¯¥æ”¶é›†å™¨æä¾›äº†å¾ˆå¤šå‚æ•°ä¾›ç”¨æˆ·æ‰¾åˆ°åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–æœ€å¤§ååé‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ”¶é›†å™¨çš„è‡ªé€‚åº”è°ƒèŠ‚ç­–ç•¥ã€‚\n\nParallel Oldæ”¶é›†å™¨\n\nParallel\nScavengeçš„è€å¹´ä»£ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤šçº¿ç¨‹çš„æ ‡è®°æ•´ç†ç®—æ³•ï¼ŒåŒæ ·æ³¨é‡ååé‡ã€‚\n\nG1æ”¶é›†å™¨\n\nG1 (Garbage-First)\næ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡å™¨çš„åƒåœ¾æ”¶é›†å™¨,ä¸»è¦é’ˆå¯¹é…å¤‡å¤šé¢—å¤„ç†å™¨åŠå¤§å®¹é‡å†…å­˜çš„æœºå™¨.\nä»¥æé«˜æ¦‚ç‡æ»¡è¶³GC åœé¡¿æ—¶é—´\nè¦æ±‚çš„åŒæ—¶,è¿˜å…·å¤‡é«˜ååé‡æ€§èƒ½ç‰¹å¾ã€‚æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š\n\nå¹¶è¡Œä¸å¹¶å‘ï¼šG1 èƒ½å……åˆ†åˆ©ç”¨\nCPUã€å¤šæ ¸ç¯å¢ƒä¸‹çš„ç¡¬ä»¶ä¼˜åŠ¿ï¼Œä½¿ç”¨å¤šä¸ª CPUï¼ˆCPU æˆ–è€… CPU æ ¸å¿ƒï¼‰æ¥ç¼©çŸ­\nStop-The-World åœé¡¿æ—¶é—´ã€‚éƒ¨åˆ†å…¶ä»–æ”¶é›†å™¨åŸæœ¬éœ€è¦åœé¡¿ Java çº¿ç¨‹æ‰§è¡Œçš„ GC\nåŠ¨ä½œï¼ŒG1 æ”¶é›†å™¨ä»ç„¶å¯ä»¥é€šè¿‡å¹¶å‘çš„æ–¹å¼è®© java ç¨‹åºç»§ç»­æ‰§è¡Œã€‚\nåˆ†ä»£æ”¶é›†ï¼šè™½ç„¶ G1\nå¯ä»¥ä¸éœ€è¦å…¶ä»–æ”¶é›†å™¨é…åˆå°±èƒ½ç‹¬ç«‹ç®¡ç†æ•´ä¸ª GC\nå †ï¼Œä½†æ˜¯è¿˜æ˜¯ä¿ç•™äº†åˆ†ä»£çš„æ¦‚å¿µã€‚\nç©ºé—´æ•´åˆï¼šä¸ CMS çš„â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•ä¸åŒï¼ŒG1\nä»æ•´ä½“æ¥çœ‹æ˜¯åŸºäºâ€œæ ‡è®°-æ•´ç†â€ç®—æ³•å®ç°çš„æ”¶é›†å™¨ï¼›ä»å±€éƒ¨ä¸Šæ¥çœ‹æ˜¯åŸºäºâ€œæ ‡è®°-å¤åˆ¶â€ç®—æ³•å®ç°çš„ã€‚\nå¯é¢„æµ‹çš„åœé¡¿ï¼šè¿™æ˜¯ G1 ç›¸å¯¹äº CMS\nçš„å¦ä¸€ä¸ªå¤§ä¼˜åŠ¿ï¼Œé™ä½åœé¡¿æ—¶é—´æ˜¯ G1 å’Œ CMS å…±åŒçš„å…³æ³¨ç‚¹ï¼Œä½† G1\né™¤äº†è¿½æ±‚ä½åœé¡¿å¤–ï¼Œè¿˜èƒ½å»ºç«‹å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹ï¼Œèƒ½è®©ä½¿ç”¨è€…æ˜ç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸º\nM æ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ï¼Œæ¶ˆè€—åœ¨åƒåœ¾æ”¶é›†ä¸Šçš„æ—¶é—´ä¸å¾—è¶…è¿‡ N æ¯«ç§’ã€‚\n\nG1æ”¶é›†å™¨å¤§è‡´åˆ†ä¸ºå‡ ä¸ªæ­¥éª¤ï¼š\n\nåˆå§‹æ ‡è®°\nå¹¶å‘æ ‡è®°\næœ€ç»ˆæ ‡è®°\nç­›é€‰å›æ”¶\n\nG1\næ”¶é›†å™¨åœ¨åå°ç»´æŠ¤äº†ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆé€‰æ‹©å›æ”¶ä»·å€¼æœ€å¤§çš„\nRegion(è¿™ä¹Ÿå°±æ˜¯å®ƒçš„åå­— Garbage-First çš„ç”±æ¥) ã€‚è¿™ç§ä½¿ç”¨ Region\nåˆ’åˆ†å†…å­˜ç©ºé—´ä»¥åŠæœ‰ä¼˜å…ˆçº§çš„åŒºåŸŸå›æ”¶æ–¹å¼ï¼Œä¿è¯äº† G1\næ”¶é›†å™¨åœ¨æœ‰é™æ—¶é—´å†…å¯ä»¥å°½å¯èƒ½é«˜çš„æ”¶é›†æ•ˆç‡ï¼ˆæŠŠå†…å­˜åŒ–æ•´ä¸ºé›¶ï¼‰ã€‚\nHashMapçš„åŸç†\nhttps://javaguide.cn/java/collection/hashmap-source-code.htmljdk1.8ä¹‹å‰ç”±\næ•°ç»„+é“¾è¡¨\nç»„æˆï¼Œé“¾è¡¨ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªï¼ˆæ‹‰é“¾æ³•ï¼‰ã€‚åœ¨jdk1.8ä¹‹åè§£å†³å“ˆå¸Œå†²çªé¦–å…ˆä½¿ç”¨é“¾è¡¨ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºç­‰äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­æ•°ç»„é•¿åº¦ï¼Œå¦‚æœæ•°ç»„é•¿åº¦å°äº64ï¼Œä¼šé€‰æ‹©æ‰©å®¹ï¼Œå¦‚æœæ•°ç»„é•¿åº¦å¤§äº64ï¼Œä¼šå°†é“¾è¡¨è½¬æˆçº¢é»‘æ ‘ï¼Œå‡å°‘æœç´¢çš„æ—¶é—´ã€‚åˆšåˆšåˆ›å»ºHashMapå¯¹è±¡æ—¶æ•°ç»„é•¿åº¦ä¸º0ï¼Œå½“ç¬¬ä¸€æ¬¡æ’å…¥æ•°æ®æ—¶æ•°ç»„é•¿åº¦è®¾ç½®ä¸º16ã€‚é¦–å…ˆå°†å¯¹è±¡çš„hashCodeå’ŒhashCodeæ— ç¬¦å·å³ç§»16ä½çš„ç»“æœåšå¼‚æˆ–ï¼ˆæ·»åŠ ä¸€äº›æ‰°åŠ¨ï¼‰è·å¾—å®é™…çš„å“ˆå¸Œå€¼ï¼ˆè®¾ä¸ºhashï¼‰ï¼Œç„¶åå°†hashå’Œæ•°ç»„é•¿åº¦-1åšä¸è¿ç®—ï¼ˆç­‰åŒäºå–æ¨¡ï¼Œå› ä¸ºæ•°ç»„é•¿åº¦ä¸º2çš„næ¬¡å¹‚ï¼‰å¾—åˆ°å­˜æ”¾çš„æ•°ç»„ç´¢å¼•ä½ç½®ã€‚å½“é”®å€¼å¯¹çš„æ•°é‡sizeè¶…è¿‡é˜ˆå€¼ï¼ˆæ•°ç»„é•¿åº¦*è´Ÿè½½å› å­ï¼ˆé»˜è®¤æ˜¯0.75ï¼‰ï¼‰å°±ä¼šå¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹ã€‚\næ‚²è§‚é”å’Œä¹è§‚é”çš„åŒºåˆ«ã€åœºæ™¯\nhttps://javaguide.cn/java/concurrent/optimistic-lock-and-pessimistic-lock.html\nåŒäº²å§”æ´¾æœºåˆ¶\nç±»åŠ è½½è¿‡ç¨‹\nç±»åŠ è½½å™¨è¯¦è§£\n","categories":["å…«è‚¡"],"tags":["Java"]},{"title":"MySQLåŸºç¡€","url":"/2da9eab1690e/mysql%E5%9F%BA%E7%A1%80/","content":"\næ³¨ï¼šå¤§å¤šæ•°å†…å®¹å‚è€ƒäº†JavaGuide\nMySQL\nMySQLèšç°‡ç´¢å¼•\n\nhttps://javaguide.cn/database/mysql/mysql-index.html#%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E4%B8%8E%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95ç´¢å¼•ç»“æ„å’Œæ•°æ®ä¸€èµ·å­˜æ”¾çš„ç´¢å¼•å³èšç°‡ç´¢å¼•ï¼ŒInnoDBä¸­çš„ä¸»é”®ç´¢å¼•å±äºèšç°‡ç´¢å¼•ï¼ŒB+æ ‘çš„æ¯ä¸ªéå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨ç´¢å¼•å’Œå¯¹åº”çš„æ•°æ®ã€‚ä¼˜ç‚¹ï¼š\n\næŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œå®šä½åˆ°äº†ç´¢å¼•èŠ‚ç‚¹å°±å®šä½åˆ°äº†æ•°æ®ï¼Œç›¸æ¯”äºéèšç°‡ç´¢å¼•å°‘äº†ä¸€æ¬¡IOæ“ä½œ\nå¯¹æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾ä¼˜åŒ–ï¼Œå¯¹äºä¸»é”®çš„æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦å¿«\n\nç¼ºç‚¹ï¼š\n\nä¾èµ–äºæœ‰åºçš„æ•°æ®ï¼Œå¦‚æœç´¢å¼•å±äºUUIDè¿™ç§é•¿ä¸”éš¾æ¯”è¾ƒçš„æ•°æ®ï¼Œæ’å…¥æˆ–æŸ¥æ‰¾é€Ÿåº¦è¾ƒæ…¢ã€‚\næ›´æ–°ä»£ä»·å¤§ï¼Œå¦‚æœä¿®æ”¹äº†ç´¢å¼•åˆ—çš„æ•°æ®ï¼Œå¯¹åº”çš„ç´¢å¼•ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼Œç´¢å¼•å¯¹åº”çš„å¶å­èŠ‚ç‚¹å­˜æ”¾ç€æ•°æ®ä¹Ÿéœ€è¦è¿ç§»ï¼Œä¿®æ”¹ä»£ä»·è¾ƒå¤§ã€‚æ‰€ä»¥ä¸»é”®ç´¢å¼•ï¼Œä¸€èˆ¬ä¸ä¿®æ”¹ä¸»é”®ã€‚\n\nMySQLä¸­ä¸ºä»€ä¹ˆä½¿ç”¨B+æ ‘\n\nHashè¡¨\n\né€šè¿‡keyå¿«é€ŸæŸ¥æ‰¾å‡ºå¯¹åº”çš„valueï¼Œå¯ä»¥å¿«é€Ÿæ£€ç´¢æ•°æ®ã€‚å‘ç”Ÿå“ˆå¸Œå†²çªå¯ä»¥é‡‡ç”¨é“¾åœ°å€æ³•è§£å†³å“ˆå¸Œå†²çªã€‚ä½†æ˜¯å“ˆå¸Œç´¢å¼•ä¸æ”¯æŒé¡ºåºå’ŒèŒƒå›´æŸ¥æ‰¾ã€‚\n\näºŒå‰æœç´¢æ ‘BST\n\näºŒå‰æœç´¢æ ‘çš„æ€§èƒ½ä¾èµ–å¹³è¡¡ç¨‹åº¦ï¼Œä¸é€‚åˆä½œä¸ºMySQLåº•å±‚ç´¢å¼•æ•°æ®ç»“æ„ã€‚\n\nAVLæ ‘\n\nè‡ªå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œéœ€è¦é¢‘ç¹åœ°è¿›è¡Œæ—‹è½¬æ¥ä¿æŒå¹³è¡¡ï¼Œä¼šæœ‰è¾ƒå¤§çš„è®¡ç®—å¼€é”€ä»è€Œé™ä½æ•°æ®åº“å†™æ“ä½œçš„æ€§èƒ½ï¼›æ¯ä¸ªAVLæ ‘èŠ‚ç‚¹åªå­˜å‚¨ä¸€ä¸ªæ•°æ®ï¼Œæ¯æ¬¡è¿›è¡Œç£ç›˜IOåªèƒ½è¯»å–ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œåˆ™éœ€è¦è¿›è¡Œå¤šæ¬¡IOã€‚\n\nçº¢é»‘æ ‘\n\nçº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œé€šè¿‡åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶è¿›è¡Œé¢œè‰²å˜æ¢å’Œæ—‹è½¬æ“ä½œï¼Œä½¿å¾—æ ‘å§‹ç»ˆä¿æŒå¹³è¡¡çŠ¶æ€ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n  1. æ¯ä¸ªèŠ‚ç‚¹éçº¢å³é»‘ï¼›\n  2. æ ¹èŠ‚ç‚¹æ€»æ˜¯é»‘è‰²çš„ï¼›\n  3. æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹ï¼ˆNIL èŠ‚ç‚¹ï¼‰ï¼›\n  4. å¦‚æœèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ï¼ˆåä¹‹ä¸ä¸€å®šï¼‰ï¼›\n  5. ä»ä»»æ„èŠ‚ç‚¹åˆ°å®ƒçš„å¶å­èŠ‚ç‚¹æˆ–ç©ºå­èŠ‚ç‚¹çš„æ¯æ¡è·¯å¾„ï¼Œå¿…é¡»åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼ˆå³ç›¸åŒçš„é»‘è‰²é«˜åº¦ï¼‰ã€‚\nä¸è¿½æ±‚ä¸¥æ ¼çš„å¹³è¡¡è€Œæ˜¯å¤§è‡´çš„å¹³è¡¡ï¼ŒæŸ¥è¯¢æ•ˆç‡ç¨æœ‰ä¸‹é™ï¼Œå› ä¸ºæ ‘å¯èƒ½è¾ƒé«˜å¯¼è‡´éœ€è¦å¤šæ¬¡ç£ç›˜IOï¼Œä½†æ˜¯çº¢é»‘æ ‘çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡å¤§å¤§æé«˜äº†ï¼Œçº¢é»‘æ ‘åœ¨æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹æ—¶åªéœ€è¿›è¡ŒO(1)æ¬¡æ•°çš„æ—‹è½¬å’Œå˜è‰²æ“ä½œã€‚\n\nBæ ‘å’ŒB+æ ‘\n\nB æ ‘ä¹Ÿç§° B-æ ‘,å…¨ç§°ä¸º å¤šè·¯å¹³è¡¡æŸ¥æ‰¾æ ‘ ï¼ŒB+ æ ‘æ˜¯ B\næ ‘çš„ä¸€ç§å˜ä½“ã€‚B æ ‘å’Œ B+æ ‘ä¸­çš„ B æ˜¯ Balanced\nï¼ˆå¹³è¡¡ï¼‰çš„æ„æ€ã€‚ç›®å‰å¤§éƒ¨åˆ†æ•°æ®åº“ç³»ç»ŸåŠæ–‡ä»¶ç³»ç»Ÿéƒ½é‡‡ç”¨ B-Tree\næˆ–å…¶å˜ç§ B+Tree ä½œä¸ºç´¢å¼•ç»“æ„ã€‚B æ ‘&amp;\nB+æ ‘ä¸¤è€…æœ‰ä½•å¼‚åŒå‘¢ï¼Ÿ\n\nB æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ—¢å­˜æ”¾é”®(key) ä¹Ÿå­˜æ”¾æ•°æ®(data)ï¼Œè€Œ\nB+æ ‘åªæœ‰å¶å­èŠ‚ç‚¹å­˜æ”¾ key å’Œ dataï¼Œå…¶ä»–å†…èŠ‚ç‚¹åªå­˜æ”¾ keyã€‚\nB\næ ‘çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯ç‹¬ç«‹çš„;B+æ ‘çš„å¶å­èŠ‚ç‚¹æœ‰ä¸€æ¡å¼•ç”¨é“¾æŒ‡å‘ä¸å®ƒç›¸é‚»çš„å¶å­èŠ‚ç‚¹ã€‚\nB\næ ‘çš„æ£€ç´¢çš„è¿‡ç¨‹ç›¸å½“äºå¯¹èŒƒå›´å†…çš„æ¯ä¸ªèŠ‚ç‚¹çš„å…³é”®å­—åšäºŒåˆ†æŸ¥æ‰¾ï¼Œå¯èƒ½è¿˜æ²¡æœ‰åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œæ£€ç´¢å°±ç»“æŸäº†ã€‚è€Œ\nB+æ ‘çš„æ£€ç´¢æ•ˆç‡å°±å¾ˆç¨³å®šäº†ï¼Œä»»ä½•æŸ¥æ‰¾éƒ½æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œå¶å­èŠ‚ç‚¹çš„é¡ºåºæ£€ç´¢å¾ˆæ˜æ˜¾ã€‚\nåœ¨ B æ ‘ä¸­è¿›è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶ï¼Œé¦–å…ˆæ‰¾åˆ°è¦æŸ¥æ‰¾çš„ä¸‹é™ï¼Œç„¶åå¯¹ B\næ ‘è¿›è¡Œä¸­åºéå†ï¼Œç›´åˆ°æ‰¾åˆ°æŸ¥æ‰¾çš„ä¸Šé™ï¼›è€Œ\nB+æ ‘çš„èŒƒå›´æŸ¥è¯¢ï¼Œåªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œéå†å³å¯ã€‚\n\nç»¼ä¸Šï¼ŒB+æ ‘ä¸ B æ ‘ç›¸æ¯”ï¼Œå…·å¤‡æ›´å°‘çš„ IO\næ¬¡æ•°ã€æ›´ç¨³å®šçš„æŸ¥è¯¢æ•ˆç‡å’Œæ›´é€‚äºèŒƒå›´æŸ¥è¯¢è¿™äº›ä¼˜åŠ¿ã€‚\nB+æ ‘ç´¢å¼•éƒ½å­˜å‚¨äº†ä»€ä¹ˆå†…å®¹\nB+æ ‘å¶å­èŠ‚ç‚¹å­˜æ”¾ç´¢å¼•å’Œæ•°æ®ï¼Œå…¶ä»–èŠ‚ç‚¹åªå­˜æ”¾ç´¢å¼•ã€‚\nMySQLå››ç§éš”ç¦»çº§åˆ«\n\nè¯»æœªæäº¤ï¼šæœ€ä½çš„éš”ç¦»ç•Œåˆ«ï¼Œå…è®¸è¯»å–å°šæœªæäº¤çš„æ•°æ®å˜æ›´ï¼Œå¯èƒ½å¯¼è‡´è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»\nè¯»å·²æäº¤ï¼šå…è®¸è¯»å–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é˜»æ­¢è„è¯»ï¼Œä½†å¯èƒ½å­˜åœ¨ä¸å¯é‡å¤è¯»å’Œå¹»è¯»\nå¯é‡å¤è¯»ï¼šå¯¹åŒä¸€ä¸ªå­—æ®µçš„å¤šæ¬¡è¯»å–ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œé™¤éäº‹åŠ¡æœ¬èº«ä¿®æ”¹æ•°æ®ã€‚å¯ä»¥é˜»æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚\nä¸²è¡ŒåŒ–ï¼šå®Œå…¨æœä»ACIDçš„éš”ç¦»çº§åˆ«ï¼Œæ‰€æœ‰äº‹åŠ¡é€ä¸ªæ‰§è¡Œï¼Œä¸ä¼šå‘ç”Ÿå¹²æ‰°ã€‚\n\nmvccæœºåˆ¶ï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰\nhttps://javaguide.cn/database/mysql/innodb-implementation-of-mvcc.html\nMVCC\næ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶æœºåˆ¶ï¼Œç”¨äºåœ¨å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶è¯»å†™æ•°æ®åº“æ—¶ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§å’Œéš”ç¦»æ€§ã€‚å®ƒæ˜¯é€šè¿‡åœ¨æ¯ä¸ªæ•°æ®è¡Œä¸Šç»´æŠ¤å¤šä¸ªç‰ˆæœ¬çš„æ•°æ®æ¥å®ç°çš„ã€‚å½“ä¸€ä¸ªäº‹åŠ¡è¦å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼ŒMVCC\nä¼šä¸ºè¯¥äº‹åŠ¡åˆ›å»ºä¸€ä¸ªæ•°æ®å¿«ç…§ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹å®é™…çš„æ•°æ®è¡Œã€‚\n\nè¯»æ“ä½œ\n\nå½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œå®ƒä¼šä½¿ç”¨å¿«ç…§è¯»å–ã€‚å¿«ç…§è¯»å–æ˜¯åŸºäºäº‹åŠ¡å¼€å§‹æ—¶æ•°æ®åº“ä¸­çš„çŠ¶æ€åˆ›å»ºçš„ï¼Œå› æ­¤äº‹åŠ¡ä¸ä¼šè¯»å–å…¶ä»–äº‹åŠ¡å°šæœªæäº¤çš„ä¿®æ”¹ã€‚å…·ä½“å·¥ä½œæƒ…å†µå¦‚ä¸‹ï¼š\n\nå¯¹äºè¯»å–æ“ä½œï¼Œäº‹åŠ¡ä¼šæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¡Œï¼Œå¹¶é€‰æ‹©ç¬¦åˆå…¶äº‹åŠ¡å¼€å§‹æ—¶é—´çš„æ•°æ®ç‰ˆæœ¬è¿›è¡Œè¯»å–ã€‚\nå¦‚æœæŸä¸ªæ•°æ®è¡Œæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œäº‹åŠ¡ä¼šé€‰æ‹©ä¸æ™šäºå…¶å¼€å§‹æ—¶é—´çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç¡®ä¿äº‹åŠ¡åªè¯»å–åœ¨å®ƒå¼€å§‹ä¹‹å‰å·²ç»å­˜åœ¨çš„æ•°æ®ã€‚\näº‹åŠ¡è¯»å–çš„æ˜¯å¿«ç…§æ•°æ®ï¼Œå› æ­¤å…¶ä»–å¹¶å‘äº‹åŠ¡å¯¹æ•°æ®è¡Œçš„ä¿®æ”¹ä¸ä¼šå½±å“å½“å‰äº‹åŠ¡çš„è¯»å–æ“ä½œã€‚\n\n\nå†™æ“ä½œ\n\nå½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®ç‰ˆæœ¬ï¼Œå¹¶å°†ä¿®æ”¹åçš„æ•°æ®å†™å…¥æ•°æ®åº“ã€‚å…·ä½“å·¥ä½œæƒ…å†µå¦‚ä¸‹ï¼š\n\nå¯¹äºå†™æ“ä½œï¼Œäº‹åŠ¡ä¼šä¸ºè¦ä¿®æ”¹çš„æ•°æ®è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå¹¶å°†ä¿®æ”¹åçš„æ•°æ®å†™å…¥æ–°ç‰ˆæœ¬ã€‚\næ–°ç‰ˆæœ¬çš„æ•°æ®ä¼šå¸¦æœ‰å½“å‰äº‹åŠ¡çš„ç‰ˆæœ¬å·ï¼Œä»¥ä¾¿å…¶ä»–äº‹åŠ¡èƒ½å¤Ÿæ­£ç¡®è¯»å–ç›¸åº”ç‰ˆæœ¬çš„æ•°æ®ã€‚\nåŸå§‹ç‰ˆæœ¬çš„æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œä¾›å…¶ä»–äº‹åŠ¡ä½¿ç”¨å¿«ç…§è¯»å–ï¼Œè¿™ä¿è¯äº†å…¶ä»–äº‹åŠ¡ä¸å—å½“å‰äº‹åŠ¡çš„å†™æ“ä½œå½±å“ã€‚\n\n\näº‹åŠ¡æäº¤å’Œå›æ»š\n\n\nå½“ä¸€ä¸ªäº‹åŠ¡æäº¤æ—¶ï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†æˆä¸ºæ•°æ®åº“çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”å¯¹å…¶ä»–äº‹åŠ¡å¯è§ã€‚\nå½“ä¸€ä¸ªäº‹åŠ¡å›æ»šæ—¶ï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†è¢«æ’¤é”€ï¼Œå¯¹å…¶ä»–äº‹åŠ¡ä¸å¯è§ã€‚\n\n\nç‰ˆæœ¬çš„å›æ”¶\n\n\nä¸ºäº†é˜²æ­¢æ•°æ®åº“ä¸­çš„ç‰ˆæœ¬æ— é™å¢é•¿ï¼ŒMVCC\nä¼šå®šæœŸè¿›è¡Œç‰ˆæœ¬çš„å›æ”¶ã€‚å›æ”¶æœºåˆ¶ä¼šåˆ é™¤å·²ç»ä¸å†éœ€è¦çš„æ—§ç‰ˆæœ¬æ•°æ®ï¼Œä»è€Œé‡Šæ”¾ç©ºé—´ã€‚\n\nMVCC\né€šè¿‡åˆ›å»ºæ•°æ®çš„å¤šä¸ªç‰ˆæœ¬å’Œä½¿ç”¨å¿«ç…§è¯»å–æ¥å®ç°å¹¶å‘æ§åˆ¶ã€‚è¯»æ“ä½œä½¿ç”¨æ—§ç‰ˆæœ¬æ•°æ®çš„å¿«ç…§ï¼Œå†™æ“ä½œåˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿åŸå§‹ç‰ˆæœ¬ä»ç„¶å¯ç”¨ã€‚è¿™æ ·ï¼Œä¸åŒçš„äº‹åŠ¡å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¹¶å‘æ‰§è¡Œï¼Œè€Œä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä»è€Œæé«˜äº†æ•°æ®åº“çš„å¹¶å‘æ€§èƒ½å’Œæ•°æ®ä¸€è‡´æ€§ã€‚\näº‹åŠ¡çš„ç‰¹æ€§ACID\n\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œä¸å…è®¸åˆ†å‰²ã€‚äº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ï¼›\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šæ‰§è¡Œäº‹åŠ¡å‰åï¼Œæ•°æ®ä¿æŒä¸€è‡´ï¼Œä¾‹å¦‚è½¬è´¦ä¸šåŠ¡ä¸­ï¼Œæ— è®ºäº‹åŠ¡æ˜¯å¦æˆåŠŸï¼Œè½¬è´¦è€…å’Œæ”¶æ¬¾äººçš„æ€»é¢åº”è¯¥æ˜¯ä¸å˜çš„ï¼›\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œä¸€ä¸ªç”¨æˆ·çš„äº‹åŠ¡ä¸è¢«å…¶ä»–äº‹åŠ¡æ‰€å¹²æ‰°ï¼Œå„å¹¶å‘äº‹åŠ¡ä¹‹é—´æ•°æ®åº“æ˜¯ç‹¬ç«‹çš„ï¼›\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡è¢«æäº¤ä¹‹åã€‚å®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜æ˜¯æŒä¹…çš„ï¼Œå³ä½¿æ•°æ®åº“å‘ç”Ÿæ•…éšœä¹Ÿä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ã€‚\n\n","categories":["å…«è‚¡"],"tags":["MySQL"]},{"title":"SpringåŸºç¡€","url":"/bce23be485d6/spring%E5%9F%BA%E7%A1%80/","content":"\næ³¨ï¼šå¤§å¤šæ•°å†…å®¹å‚è€ƒäº†JavaGuide\nSpring\nspring iocçš„å®ç°åŸç†\n\nhttps://javabetter.cn/springboot/ioc.html#%E6%98%AF%E4%BD%95https://pdai.tech/md/spring/spring-x-framework-ioc-source-1.html#spring%E8%BF%9B%E9%98%B6--spring-ioc%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3%E4%B9%8Bioc%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1IOCï¼ˆæ§åˆ¶åè½¬ï¼‰æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æŠ€æœ¯å®ç°ã€‚å°†åŸæœ¬åœ¨åº”ç”¨ç¨‹åºä¸­æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒï¼Œäº¤ç”±Springæ¥ç®¡ç†ã€‚å°†å¯¹è±¡ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»äº¤ç»™\nIoC å®¹å™¨æ¥ç®¡ç†ï¼Œå¹¶ç”± IoC\nå®¹å™¨å®Œæˆå¯¹è±¡çš„æ³¨å…¥ã€‚è¿™æ ·å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šç®€åŒ–åº”ç”¨çš„å¼€å‘ï¼ŒæŠŠåº”ç”¨ä»å¤æ‚çš„ä¾èµ–å…³ç³»ä¸­è§£æ”¾å‡ºæ¥ã€‚\nIoC\nå®¹å™¨å°±åƒæ˜¯ä¸€ä¸ªå·¥å‚ä¸€æ ·ï¼Œå½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œåªéœ€è¦é…ç½®å¥½é…ç½®æ–‡ä»¶/æ³¨è§£å³å¯ï¼Œå®Œå…¨ä¸ç”¨è€ƒè™‘å¯¹è±¡æ˜¯å¦‚ä½•è¢«åˆ›å»ºå‡ºæ¥çš„ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ä¸€ä¸ª\nService ç±»å¯èƒ½ä¾èµ–äº†å¾ˆå¤šå…¶ä»–çš„ç±»ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦å®ä¾‹åŒ–è¿™ä¸ª\nServiceï¼Œä½ å¯èƒ½è¦æ¯æ¬¡éƒ½è¦ææ¸…è¿™ä¸ª Service\næ‰€æœ‰åº•å±‚ç±»çš„æ„é€ å‡½æ•°ï¼Œè¿™å¯èƒ½ä¼šæŠŠäººé€¼ç–¯ã€‚å¦‚æœåˆ©ç”¨ IoC\nçš„è¯ï¼Œä½ åªéœ€è¦é…ç½®å¥½ï¼Œç„¶ååœ¨éœ€è¦çš„åœ°æ–¹å¼•ç”¨å°±è¡Œäº†ï¼Œè¿™å¤§å¤§å¢åŠ äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ä¸”é™ä½äº†å¼€å‘éš¾åº¦ã€‚åœ¨\nSpring ä¸­ï¼Œ IoC å®¹å™¨æ˜¯ Spring ç”¨æ¥å®ç° IoC çš„è½½ä½“ï¼Œ\nIoC å®¹å™¨å®é™…ä¸Šå°±æ˜¯ä¸ª Mapï¼ˆkeyï¼Œvalueï¼‰ï¼ŒMap\nä¸­å­˜æ”¾çš„æ˜¯å„ç§å¯¹è±¡ã€‚Spring æ—¶ä»£æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡ XML æ–‡ä»¶æ¥é…ç½®\nBeanï¼Œåæ¥å¼€å‘äººå‘˜è§‰å¾— XML æ–‡ä»¶æ¥é…ç½®ä¸å¤ªå¥½ï¼Œäºæ˜¯ SpringBoot\næ³¨è§£é…ç½®å°±æ…¢æ…¢å¼€å§‹æµè¡Œèµ·æ¥ã€‚\nbeançš„ç”Ÿå‘½å‘¨æœŸ\nå¦‚æœè¯¥beanæ˜¯ä»£ç†å¯¹è±¡ï¼Œåˆ™åœ¨æ‰§è¡ŒInstantiationAwareBeanPostProcesorç”Ÿæˆä»£ç†å¯¹è±¡åä¼šå‘ç”ŸçŸ­è·¯ï¼Œä¸ä¼šæŒ‰ç…§æ­£å¸¸çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œã€‚\n\nåˆ›å»º Bean çš„å®ä¾‹ï¼šBean å®¹å™¨é¦–å…ˆä¼šæ‰¾åˆ°é…ç½®æ–‡ä»¶ä¸­çš„\nBean å®šä¹‰ï¼Œç„¶åä½¿ç”¨ Java åå°„ API æ¥åˆ›å»º Bean çš„å®ä¾‹ã€‚\nBean å±æ€§èµ‹å€¼/å¡«å……ï¼šä¸º Bean\nè®¾ç½®ç›¸å…³å±æ€§å’Œä¾èµ–ï¼Œä¾‹å¦‚@Autowired ç­‰æ³¨è§£æ³¨å…¥çš„å¯¹è±¡ã€@Value\næ³¨å…¥çš„å€¼ã€setteræ–¹æ³•æˆ–æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–å’Œå€¼ã€@Resourceæ³¨å…¥çš„å„ç§èµ„æºã€‚\nBean åˆå§‹åŒ–ï¼š\n\n\nå¦‚æœ Bean å®ç°äº† BeanNameAware æ¥å£ï¼Œè°ƒç”¨ setBeanName()æ–¹æ³•ï¼Œä¼ å…¥\nBean çš„åå­—ã€‚\nå¦‚æœ Bean å®ç°äº† BeanClassLoaderAware æ¥å£ï¼Œè°ƒç”¨\nsetBeanClassLoader()æ–¹æ³•ï¼Œä¼ å…¥ ClassLoaderå¯¹è±¡çš„å®ä¾‹ã€‚\nå¦‚æœ Bean å®ç°äº† BeanFactoryAware æ¥å£ï¼Œè°ƒç”¨\nsetBeanFactory()æ–¹æ³•ï¼Œä¼ å…¥ BeanFactoryå¯¹è±¡çš„å®ä¾‹ã€‚\nä¸ä¸Šé¢çš„ç±»ä¼¼ï¼Œå¦‚æœå®ç°äº†å…¶ä»– *.Awareæ¥å£ï¼Œå°±è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚\nå¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ª Bean çš„ Spring å®¹å™¨ç›¸å…³çš„ BeanPostProcessor\nå¯¹è±¡ï¼Œæ‰§è¡ŒpostProcessBeforeInitialization() æ–¹æ³•\nå¦‚æœ Bean\nå®ç°äº†InitializingBeanæ¥å£ï¼Œæ‰§è¡ŒafterPropertiesSet()æ–¹æ³•ã€‚\nå¦‚æœ Bean åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å« init-method\nå±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚\nå¦‚æœæœ‰å’ŒåŠ è½½è¿™ä¸ª Bean çš„ Spring å®¹å™¨ç›¸å…³çš„ BeanPostProcessor\nå¯¹è±¡ï¼Œæ‰§è¡ŒpostProcessAfterInitialization() æ–¹æ³•ã€‚\n\n\né”€æ¯ Beanï¼šé”€æ¯å¹¶ä¸æ˜¯è¯´è¦ç«‹é©¬æŠŠ Bean\nç»™é”€æ¯æ‰ï¼Œè€Œæ˜¯æŠŠ Bean çš„é”€æ¯æ–¹æ³•å…ˆè®°å½•ä¸‹æ¥ï¼Œå°†æ¥éœ€è¦é”€æ¯ Bean\næˆ–è€…é”€æ¯å®¹å™¨çš„æ—¶å€™ï¼Œå°±è°ƒç”¨è¿™äº›æ–¹æ³•å»é‡Šæ”¾ Bean æ‰€æŒæœ‰çš„èµ„æºã€‚\n\n\nå¦‚æœ Bean å®ç°äº† DisposableBean æ¥å£ï¼Œæ‰§è¡Œ destroy() æ–¹æ³•ã€‚\nå¦‚æœ Bean åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰åŒ…å« destroy-method å±æ€§ï¼Œæ‰§è¡ŒæŒ‡å®šçš„\nBean é”€æ¯æ–¹æ³•ã€‚æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡@PreDestroy æ³¨è§£æ ‡è®° Bean\né”€æ¯ä¹‹å‰æ‰§è¡Œçš„æ–¹æ³•ã€‚\n\nspring aopçš„\nhttps://javaguide.cn/system-design/framework/spring/spring-knowledge-and-questions-summary.html#spring-aop\nç†è§£\nAOPé¢å‘åˆ‡é¢ç¼–ç¨‹èƒ½å¤Ÿå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒä½¿ç”¨çš„é€»è¾‘ï¼ˆäº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ã€æƒé™æ§åˆ¶ã€é™æµç­‰ï¼‰å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œåˆ©äºç»´æŠ¤ã€‚Springä¸­çš„AOPåŸºäºåŠ¨æ€ä»£ç†ï¼Œåˆ†ä¸ºJDKçš„åŠ¨æ€ä»£ç†å’ŒCGLibçš„åŠ¨æ€ä»£ç†ã€‚è¿™ä¸¤ä¸ªçš„åŒºåˆ«æ˜¯ï¼š\n\nJDKçš„åŠ¨æ€ä»£ç†è¦æ±‚è¢«ä»£ç†çš„å¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£ï¼Œç„¶åä¼šç”Ÿæˆä¸€ä¸ªåŒæ ·å®ç°äº†è¿™ä¸ªæ¥å£çš„ä»£ç†å¯¹è±¡ã€‚\nå¦‚æœæ²¡æœ‰å®ç°æŸä¸ªæ¥å£ï¼ŒCGLibä¼šç”Ÿæˆä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„å­ç±»ä½œä¸ºä»£ç†å¯¹è±¡ã€‚\n\nspring\naopæ˜¯è¿è¡Œæ—¶å¢å¼ºï¼Œaspectjå±äºç¼–è¯‘æ—¶å¢å¼ºã€‚spring\naopåŸºäºä»£ç†ï¼Œè€ŒaspectjåŸºäºå­—èŠ‚ç æ“ä½œã€‚\naspectjå®šä¹‰çš„é€šçŸ¥ç±»å‹æœ‰å“ªäº›\n\nBeforeï¼ˆå‰ç½®é€šçŸ¥ï¼‰ï¼šç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ä¹‹å‰è§¦å‘\nAfter ï¼ˆåç½®é€šçŸ¥ï¼‰ï¼šç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ä¹‹åè§¦å‘\nAfterReturningï¼ˆè¿”å›é€šçŸ¥ï¼‰ï¼šç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨å®Œæˆï¼Œåœ¨è¿”å›ç»“æœå€¼ä¹‹åè§¦å‘\nAfterThrowingï¼ˆå¼‚å¸¸é€šçŸ¥ï¼‰ï¼šç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è¿è¡Œä¸­æŠ›å‡º\n/ è§¦å‘å¼‚å¸¸åè§¦å‘ã€‚AfterReturning å’ŒAfterThrowing\nä¸¤è€…äº’æ–¥ã€‚å¦‚æœæ–¹æ³•è°ƒç”¨æˆåŠŸæ— å¼‚å¸¸ï¼Œåˆ™ä¼šæœ‰è¿”å›å€¼ï¼›å¦‚æœæ–¹æ³•æŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™ä¸ä¼šæœ‰è¿”å›å€¼\nAround\nï¼ˆç¯ç»•é€šçŸ¥ï¼‰ï¼šç¼–ç¨‹å¼æ§åˆ¶ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚ç¯ç»•é€šçŸ¥æ˜¯æ‰€æœ‰é€šçŸ¥ç±»å‹ä¸­å¯æ“ä½œèŒƒå›´æœ€å¤§çš„ä¸€ç§ï¼Œå› ä¸ºå®ƒå¯ä»¥ç›´æ¥æ‹¿åˆ°ç›®æ ‡å¯¹è±¡ï¼Œä»¥åŠè¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œæ‰€ä»¥ç¯ç»•é€šçŸ¥å¯ä»¥ä»»æ„çš„åœ¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨å‰åæ“ä½œï¼Œç”šè‡³ä¸è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•\n\nå¤šä¸ªåˆ‡é¢çš„æ‰§è¡Œé¡ºåºå¦‚ä½•æ§åˆ¶\n\nä½¿ç”¨@Orderæ³¨è§£\nå®ç°Orderedæ¥å£é‡å†™getOrderæ–¹æ³•\n\nspringbootåˆ©ç”¨äº†springçš„ä»€ä¹ˆç‰¹æ€§è¿›è¡Œå°è£…çš„\nspringæ€ä¹ˆè§£å†³å¾ªç¯ä¾èµ–çš„\nhttps://javaguide.cn/system-design/framework/spring/spring-knowledge-and-questions-summary.html#spring-%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E4%BA%86%E8%A7%A3%E5%90%97-%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3\n\nä¸‰çº§ç¼“å­˜\n\nä¸€çº§ç¼“å­˜ï¼šå­˜æ”¾æœ€ç»ˆå½¢æ€çš„Beanï¼ˆå·²ç»å®ä¾‹åŒ–ã€å±æ€§å¡«å……ã€åˆå§‹åŒ–ï¼‰äºŒçº§ç¼“å­˜ï¼šå­˜æ”¾è¿‡æ¸¡Beanï¼ˆåŠæˆå“ï¼Œå±æ€§æœªå¡«å……ï¼‰ï¼Œå­˜æ”¾çš„æ˜¯ä¸‰çº§ç¼“å­˜äº§ç”Ÿçš„å¯¹è±¡ä¸‰çº§ç¼“å­˜ï¼šå­˜æ”¾ObjectFactoryï¼Œè°ƒç”¨å…¶getObjectæ–¹æ³•ç”Ÿæˆå¯¹è±¡ã€‚Aä¾èµ–Bï¼ŒBä¾èµ–Aã€‚å½“åˆ›å»ºAæ—¶ï¼Œå‘ç°ä¾èµ–Bï¼Œç„¶åä¼šå»åˆ›å»ºBï¼Œç„¶åå‘ç°ä¾èµ–Aï¼Œæ­¤æ—¶ä¼šä»ä¸‰çº§ç¼“å­˜ä¸­è·å¾—Açš„ObjectFactoryï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡è°ƒç”¨getObjectæ–¹æ³•è·å–Açš„å‰æœŸæš´éœ²å¯¹è±¡ï¼Œæ²¡æœ‰åˆå§‹åŒ–å®Œæˆï¼Œä½†æ˜¯åœ¨å †ä¸­å­˜åœ¨å†…å­˜åœ°å€äº†ï¼Œç„¶åå°†ObjectFactoryä»ä¸‰çº§ç¼“å­˜ç§»é™¤æ”¾åˆ°äºŒçº§ç¼“å­˜ä¸­ã€‚\n\n@Lazyæ³¨è§£\n\nå¦‚æœä¸€ä¸ªbeanè¢«æ ‡è®°ä¸ºæ‡’åŠ è½½ï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ‰ä¼šåˆ›å»ºã€‚å¦‚æœAå’ŒBäº§ç”Ÿäº†å¾ªç¯ä¾èµ–ï¼Œåœ¨Açš„æ„é€ å™¨æ·»åŠ @Lazyåï¼ˆå»¶è¿ŸBçš„å®ä¾‹åŒ–ï¼‰ï¼ŒåŠ è½½æµç¨‹ï¼š\n\né¦–å…ˆåˆ›å»ºAçš„Beanï¼Œå‘ç°éœ€è¦æ³¨å…¥B\nåœ¨Aä¸Šæ ‡æ³¨äº†@Lazyæ³¨è§£ï¼Œå› æ­¤springä¼šå»åˆ›å»ºä¸€ä¸ªBçš„ä»£ç†å¯¹è±¡ï¼Œå°†è¿™ä¸ªä»£ç†å¯¹è±¡æ³¨å…¥åˆ°Açš„Bå±æ€§ä¸­\nä¹‹åå®ä¾‹åŒ–Bï¼Œåœ¨æ³¨å…¥Bä¸­çš„Aå±æ€§æ—¶ï¼ŒAå·²ç»åˆ›å»ºå®Œæ¯•ï¼Œå°±å¯ä»¥å°†Aæ³¨å…¥è¿›å»ã€‚\n\nSpringBoot\n2.6ä¹‹åå®˜æ–¹ä¸æ¨èç¼–å†™æœ‰å¾ªç¯ä¾èµ–çš„ä»£ç ï¼Œå»ºè®®å‡å°‘ä¸å¿…è¦çš„å¾ªç¯ä¾èµ–ã€‚\n","categories":["å…«è‚¡"],"tags":["Spring"]},{"title":"æ“ä½œç³»ç»ŸåŸºç¡€","url":"/f52a9e199c38/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/","content":"\næ³¨ï¼šå¤§å¤šæ•°å†…å®¹å‚è€ƒäº†JavaGuide\næ“ä½œç³»ç»Ÿ\nè™šæ‹Ÿå†…å­˜\n\nhttps://javaguide.cn/cs-basics/operating-system/operating-system-basic-questions-02.html#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98\n\nä»€ä¹ˆæ˜¯è™šæ‹Ÿå†…å­˜ï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿ\n\nè™šæ‹Ÿå†…å­˜æ˜¯è®¡ç®—æœºç³»ç»Ÿå†…å­˜ç®¡ç†çš„ä¸€ä¸ªéå¸¸é‡è¦çš„æŠ€æœ¯ã€‚æœ¬è´¨ä¸Šæ¥è¯´å®ƒåªæ˜¯é€»è¾‘å­˜åœ¨çš„ï¼Œæ˜¯ä¸€ä¸ªå‡æƒ³å‡ºæ¥çš„å†…å­˜ç©ºé—´ï¼Œä¸»è¦ä½œç”¨æ˜¯ä½œä¸ºè¿›ç¨‹è®¿é—®ä¸»å­˜ï¼ˆç‰©ç†å†…å­˜ï¼‰çš„æ¡¥æ¢å¹¶ç®€åŒ–å†…å­˜ç®¡ç†ã€‚æ€»ç»“æ¥è¯´ï¼Œè™šæ‹Ÿå†…å­˜ä¸»è¦æä¾›äº†ä¸‹é¢è¿™äº›èƒ½åŠ›ï¼š\n\néš”ç¦»è¿›ç¨‹ï¼šç‰©ç†å†…å­˜é€šè¿‡è™šæ‹Ÿåœ°å€ç©ºé—´è®¿é—®ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´ä¸è¿›ç¨‹ä¸€ä¸€å¯¹åº”ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½è®¤ä¸ºè‡ªå·±æ‹¥æœ‰äº†æ•´ä¸ªç‰©ç†å†…å­˜ï¼Œè¿›ç¨‹ä¹‹é—´å½¼æ­¤éš”ç¦»ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä»£ç æ— æ³•æ›´æ”¹æ­£åœ¨ç”±å¦ä¸€è¿›ç¨‹æˆ–æ“ä½œç³»ç»Ÿä½¿ç”¨çš„ç‰©ç†å†…å­˜ã€‚\næå‡ç‰©ç†å†…å­˜åˆ©ç”¨ç‡ï¼šæœ‰äº†è™šæ‹Ÿåœ°å€ç©ºé—´åï¼Œæ“ä½œç³»ç»Ÿåªéœ€è¦å°†è¿›ç¨‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„éƒ¨åˆ†æ•°æ®æˆ–æŒ‡ä»¤åŠ è½½å…¥ç‰©ç†å†…å­˜ã€‚\nç®€åŒ–å†…å­˜ç®¡ç†ï¼šè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªä¸€è‡´ä¸”ç§æœ‰çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œç¨‹åºå‘˜ä¸ç”¨å’ŒçœŸæ­£çš„ç‰©ç†å†…å­˜æ‰“äº¤é“ï¼Œè€Œæ˜¯å€ŸåŠ©è™šæ‹Ÿåœ°å€ç©ºé—´è®¿é—®ç‰©ç†å†…å­˜ï¼Œä»è€Œç®€åŒ–äº†å†…å­˜ç®¡ç†ã€‚\nå¤šä¸ªè¿›ç¨‹å…±äº«ç‰©ç†å†…å­˜ï¼šè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šåŠ è½½è®¸å¤šæ“ä½œç³»ç»Ÿçš„åŠ¨æ€åº“ã€‚è¿™äº›åº“å¯¹äºæ¯ä¸ªè¿›ç¨‹è€Œè¨€éƒ½æ˜¯å…¬ç”¨çš„ï¼Œå®ƒä»¬åœ¨å†…å­˜ä¸­å®é™…åªä¼šåŠ è½½ä¸€ä»½ï¼Œè¿™éƒ¨åˆ†ç§°ä¸ºå…±äº«å†…å­˜ã€‚\næé«˜å†…å­˜ä½¿ç”¨å®‰å…¨æ€§ï¼šæ§åˆ¶è¿›ç¨‹å¯¹ç‰©ç†å†…å­˜çš„è®¿é—®ï¼Œéš”ç¦»ä¸åŒè¿›ç¨‹çš„è®¿é—®æƒé™ï¼Œæé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚\næä¾›æ›´å¤§çš„å¯ä½¿ç”¨å†…å­˜ç©ºé—´ï¼šå¯ä»¥è®©ç¨‹åºæ‹¥æœ‰è¶…è¿‡ç³»ç»Ÿç‰©ç†å†…å­˜å¤§å°çš„å¯ç”¨å†…å­˜ç©ºé—´ã€‚è¿™æ˜¯å› ä¸ºå½“ç‰©ç†å†…å­˜ä¸å¤Ÿç”¨æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ç£ç›˜å……å½“ï¼Œå°†ç‰©ç†å†…å­˜é¡µï¼ˆé€šå¸¸å¤§å°ä¸º\n4\nKBï¼‰ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶ï¼ˆä¼šå½±å“è¯»å†™é€Ÿåº¦ï¼‰ï¼Œæ•°æ®æˆ–ä»£ç é¡µä¼šæ ¹æ®éœ€è¦åœ¨ç‰©ç†å†…å­˜ä¸ç£ç›˜ä¹‹é—´ç§»åŠ¨ã€‚\n\n\næ²¡æœ‰è™šæ‹Ÿå†…å­˜æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\n\nç”¨æˆ·ç¨‹åºå¯ä»¥è®¿é—®ä»»æ„ç‰©ç†å†…å­˜ï¼Œå¯èƒ½ä¼šä¸å°å¿ƒæ“ä½œåˆ°ç³»ç»Ÿè¿è¡Œå¿…éœ€çš„å†…å­˜ï¼Œè¿›è€Œé€ æˆæ“ä½œç³»ç»Ÿå´©æºƒï¼Œä¸¥é‡å½±å“ç³»ç»Ÿçš„å®‰å…¨ã€‚\nåŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºå®¹æ˜“å´©æºƒã€‚æ¯”å¦‚ä½ æƒ³åŒæ—¶è¿è¡Œä¸€ä¸ªå¾®ä¿¡å’Œä¸€ä¸ª\nQQ éŸ³ä¹ï¼Œå¾®ä¿¡åœ¨è¿è¡Œçš„æ—¶å€™ç»™å†…å­˜åœ°å€ 1xxx èµ‹å€¼åï¼ŒQQ éŸ³ä¹ä¹ŸåŒæ ·ç»™å†…å­˜åœ°å€\n1xxx èµ‹å€¼ï¼Œé‚£ä¹ˆ QQ\néŸ³ä¹å¯¹å†…å­˜çš„èµ‹å€¼å°±ä¼šè¦†ç›–å¾®ä¿¡ä¹‹å‰æ‰€èµ‹çš„å€¼ï¼Œè¿™å°±å¯èƒ½ä¼šé€ æˆå¾®ä¿¡è¿™ä¸ªç¨‹åºä¼šå´©æºƒã€‚\nç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®æˆ–æŒ‡ä»¤éƒ½è¦è½½å…¥ç‰©ç†å†…å­˜ï¼Œæ ¹æ®å±€éƒ¨æ€§åŸç†ï¼Œå…¶ä¸­å¾ˆå¤§ä¸€éƒ¨åˆ†å¯èƒ½éƒ½ä¸ä¼šç”¨åˆ°ï¼Œç™½ç™½å ç”¨äº†å®è´µçš„ç‰©ç†å†…å­˜èµ„æºã€‚\n\n\nè™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€\n\nç‰©ç†åœ°å€ï¼ˆPhysical\nAddressï¼‰æ˜¯çœŸæ­£çš„ç‰©ç†å†…å­˜ä¸­åœ°å€ï¼Œæ›´å…·ä½“ç‚¹æ¥è¯´æ˜¯å†…å­˜åœ°å€å¯„å­˜å™¨ä¸­çš„åœ°å€ã€‚ç¨‹åºä¸­è®¿é—®çš„å†…å­˜åœ°å€ä¸æ˜¯ç‰©ç†åœ°å€ï¼Œè€Œæ˜¯è™šæ‹Ÿåœ°å€ï¼ˆVirtual\nAddressï¼‰ã€‚æ“ä½œç³»ç»Ÿä¸€èˆ¬é€šè¿‡MMUï¼ˆMemory Management\nUnitå†…å­˜ç®¡ç†å•å…ƒï¼‰å°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ï¼Œè¯¥è¿‡ç¨‹ç§°ä¸ºåœ°å€ç¿»è¯‘/åœ°å€è½¬æ¢ï¼ˆAddress\nTranslationï¼‰ã€‚é€šè¿‡ MMU\nå°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€åï¼Œå†é€šè¿‡æ€»çº¿ä¼ åˆ°ç‰©ç†å†…å­˜è®¾å¤‡ï¼Œè¿›è€Œå®Œæˆç›¸åº”çš„ç‰©ç†å†…å­˜è¯»å†™è¯·æ±‚ã€‚MMUç¿»è¯‘è™šæ‹Ÿåœ°å€ä¸»è¦ç”¨ä¸‰ç§æ–¹å¼ï¼šåˆ†æ®µæœºåˆ¶ã€åˆ†é¡µæœºåˆ¶å’Œæ®µé¡µæœºåˆ¶ç°ä»£æ“ä½œç³»ç»Ÿå¹¿æ³›é‡‡ç”¨åˆ†é¡µæœºåˆ¶ã€‚\nåˆ†æ®µæœºåˆ¶\nåˆ†æ®µæœºåˆ¶ï¼ˆSegmentationï¼‰ ä»¥æ®µ(â€”æ®µ\nè¿ç»­\nçš„ç‰©ç†å†…å­˜)çš„å½¢å¼ç®¡ç†/åˆ†é…ç‰©ç†å†…å­˜ã€‚åº”ç”¨ç¨‹åºçš„è™šæ‹Ÿåœ°å€ç©ºé—´è¢«åˆ†ä¸ºå¤§å°ä¸ç­‰çš„æ®µï¼Œæ®µæ˜¯æœ‰å®é™…æ„ä¹‰çš„ï¼Œæ¯ä¸ªæ®µå®šä¹‰äº†ä¸€ç»„é€»è¾‘ä¿¡æ¯ï¼Œä¾‹å¦‚æœ‰ä¸»ç¨‹åºæ®µ\nMAINã€å­ç¨‹åºæ®µ Xã€æ•°æ®æ®µ D åŠæ ˆæ®µ S ç­‰ã€‚\næ®µè¡¨æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ°å€ç¿»è¯‘è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ\nåˆ†æ®µç®¡ç†é€šè¿‡æ®µè¡¨æ˜ å°„è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€ã€‚\nè™šæ‹Ÿåœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\n\næ®µå·ï¼šæ ‡è¯†è¯¥è™šæ‹Ÿåœ°å€å±äºæ•´ä¸ªè™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„å“ªä¸€æ®µ\næ®µå†…åç§»é‡ï¼šç›¸å¯¹äºè¯¥æ®µèµ·å§‹åœ°å€çš„åç§»é‡\n\nå…·ä½“ç¿»è¯‘è¿‡ç¨‹ï¼š\n\nMMUé¦–å…ˆè§£æè™šæ‹Ÿåœ°å€ä¸­çš„æ®µå·\né€šè¿‡æ®µå·ä»æ®µè¡¨ä¸­å–å‡ºå¯¹åº”çš„æ®µä¿¡æ¯ï¼ˆæ®µè¡¨é¡¹ï¼‰\nä»æ®µä¿¡æ¯ï¼ˆæ®µè¡¨é¡¹ï¼‰ä¸­å–å‡ºèµ·å§‹åœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰åŠ ä¸Šè™šæ‹Ÿåœ°å€ä¸­çš„æ®µå†…åç§»é‡å¾—åˆ°æœ€ç»ˆçš„ç‰©ç†åœ°å€\n\n\næ®µè¡¨ä¸­è¿˜ä¿å­˜äº†æ®µé•¿ï¼ˆæ£€æŸ¥è™šæ‹Ÿåœ°å€æ˜¯å¦è¶…å‡ºèŒƒå›´ï¼‰ã€æ®µç±»å‹ï¼ˆä»£ç æ®µã€æ•°æ®æ®µç­‰ï¼‰ç­‰ä¿¡æ¯ã€‚\né€šè¿‡æ®µå·ä¸ä¸€å®šæ‰¾å¾—åˆ°æœ€ç»ˆçš„ç‰©ç†åœ°å€ï¼Œæ®µè¡¨é¡¹å¯èƒ½ä¸å­˜åœ¨ï¼Œå› ä¸ºï¼š\n\næ®µè¡¨é¡¹è¢«åˆ é™¤ï¼šè½¯ä»¶é”™è¯¯ã€æ¶æ„è¡Œä¸ºç­‰å¯èƒ½å¯¼è‡´æ®µè¡¨é¡¹è¢«åˆ é™¤\næ®µè¡¨é¡¹è¿˜æœªåˆ›å»ºï¼šç³»ç»Ÿå†…å­˜ä¸è¶³æˆ–è€…æ— æ³•åˆ†é…åˆ°è¿ç»­çš„ç‰©ç†å†…å­˜å¯¼è‡´æ®µè¡¨é¡¹æ— æ³•è¢«åˆ›å»º\n\nåˆ†æ®µæœºåˆ¶ä¸ºä»€ä¹ˆä¼šå¯¼è‡´å†…å­˜å¤–éƒ¨ç¢ç‰‡\nå¤–éƒ¨å†…å­˜ç¢ç‰‡å³æ®µä¸æ®µä¹‹é—´ç•™ä¸‹ç¢ç‰‡ç©ºé—´ï¼ˆä¸è¶³ä»¥æ˜ å°„ç»™è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„æ®µï¼‰ï¼Œé€ æˆç‰©ç†å†…å­˜èµ„æºåˆ©ç”¨ç‡é™ä½ã€‚\nåˆ†é¡µæœºåˆ¶\nåˆ†é¡µæœºåˆ¶ï¼ˆPagingï¼‰\næŠŠä¸»å­˜ï¼ˆç‰©ç†å†…å­˜ï¼‰åˆ†ä¸ºè¿ç»­ç­‰é•¿çš„ç‰©ç†é¡µï¼Œåº”ç”¨ç¨‹åºçš„è™šæ‹Ÿåœ°å€ç©ºé—´åˆ’ä¹Ÿè¢«åˆ†ä¸ºè¿ç»­ç­‰é•¿çš„è™šæ‹Ÿé¡µã€‚ç°ä»£æ“ä½œç³»ç»Ÿå¹¿æ³›é‡‡ç”¨åˆ†é¡µæœºåˆ¶ã€‚\næ³¨æ„ï¼šè¿™é‡Œçš„é¡µæ˜¯è¿ç»­ç­‰é•¿çš„ï¼Œä¸åŒäºåˆ†æ®µæœºåˆ¶ä¸‹ä¸åŒé•¿åº¦çš„æ®µã€‚\nåœ¨åˆ†é¡µæœºåˆ¶ä¸‹ï¼Œåº”ç”¨ç¨‹åºè™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„ä»»æ„è™šæ‹Ÿé¡µå¯ä»¥è¢«æ˜ å°„åˆ°ç‰©ç†å†…å­˜ä¸­çš„ä»»æ„ç‰©ç†é¡µä¸Šï¼Œå› æ­¤å¯ä»¥å®ç°ç‰©ç†å†…å­˜èµ„æºçš„ç¦»æ•£åˆ†é…ã€‚åˆ†é¡µæœºåˆ¶æŒ‰ç…§å›ºå®šé¡µå¤§å°åˆ†é…ç‰©ç†å†…å­˜ï¼Œä½¿å¾—ç‰©ç†å†…å­˜èµ„æºæ˜“äºç®¡ç†ï¼Œå¯æœ‰æ•ˆé¿å…åˆ†æ®µæœºåˆ¶ä¸­å¤–éƒ¨å†…å­˜ç¢ç‰‡çš„é—®é¢˜ã€‚\né¡µè¡¨ä½œç”¨ï¼Œåœ°å€ç¿»è¯‘è¿‡ç¨‹\nåˆ†é¡µç®¡ç†é€šè¿‡é¡µè¡¨æ˜ å°„è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€ã€‚åˆ†é¡µæœºåˆ¶ä¸­æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„é¡µè¡¨ã€‚è™šæ‹Ÿåœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\n\né¡µå·ï¼šé€šè¿‡è™šæ‹Ÿé¡µå·æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†é¡µå·\né¡µå†…åç§»é‡ï¼šç‰©ç†é¡µèµ·å§‹åœ°å€+é¡µå†…åç§»é‡=ç‰©ç†å†…å­˜åœ°å€\n\nå…·ä½“ç¿»è¯‘è¿‡ç¨‹ï¼š\n\nMMUé¦–å…ˆè§£æå¾—åˆ°è™šæ‹Ÿåœ°å€çš„è™šæ‹Ÿé¡µå·\né€šè¿‡è™šæ‹Ÿé¡µå·ä»é¡µè¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†é¡µå·ï¼ˆé¡µè¡¨é¡¹ï¼‰\nç‰©ç†é¡µå·å¯¹åº”çš„ç‰©ç†é¡µèµ·å§‹åœ°å€+è™šæ‹Ÿåœ°å€çš„ä¸šå†…åç§»é‡å¾—åˆ°æœ€ç»ˆçš„ç‰©ç†åœ°å€ã€‚\n\n\né¡µè¡¨ä¸­è¿˜å­˜æœ‰è¯¸å¦‚è®¿é—®æ ‡å¿—ï¼ˆæ ‡è¯†è¯¥é¡µé¢æœ‰æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼‰ã€è„æ•°æ®æ ‡è¯†ä½ç­‰ä¿¡æ¯ã€‚\né€šè¿‡è™šæ‹Ÿé¡µå·ä¸€å®šè¦æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†é¡µå·å—ï¼Ÿæ‰¾åˆ°äº†ç‰©ç†é¡µå·å¾—åˆ°æœ€ç»ˆçš„ç‰©ç†åœ°å€åå¯¹åº”çš„ç‰©ç†é¡µä¸€å®šå­˜åœ¨å—ï¼Ÿ\nä¸ä¸€å®šï¼å¯èƒ½ä¼šå­˜åœ¨é¡µç¼ºå¤±ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç‰©ç†å†…å­˜ä¸­æ²¡æœ‰å¯¹åº”çš„ç‰©ç†é¡µæˆ–è€…ç‰©ç†å†…å­˜ä¸­æœ‰å¯¹åº”çš„ç‰©ç†é¡µä½†è™šæ‹Ÿé¡µè¿˜æœªå’Œç‰©ç†é¡µå»ºç«‹æ˜ å°„ï¼ˆå¯¹åº”çš„é¡µè¡¨é¡¹ä¸å­˜åœ¨ï¼‰ã€‚\nå•çº§é¡µè¡¨æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å¤šçº§é¡µè¡¨\nåªç”¨ä¸€çº§é¡µè¡¨çš„è¯ï¼Œå¦‚æœç³»ç»Ÿè¿è¡Œçš„ç¨‹åºå¤šèµ·æ¥ï¼Œé¡µè¡¨çš„å¼€é”€å¾ˆå¤§ï¼Œå ç”¨ç©ºé—´ï¼Œè€Œä¸”ç»å¤§å¤šæ•°ç¨‹åºå¯èƒ½åªç”¨åˆ°é¡µè¡¨ä¸­çš„å‡ é¡¹ï¼Œå…¶ä»–çš„æµªè´¹äº†ã€‚é‡‡ç”¨äºŒçº§é¡µè¡¨çš„è¯ï¼Œåˆ†ä¸ºä¸€çº§é¡µè¡¨å’ŒäºŒçº§é¡µè¡¨ï¼Œä¸€çº§é¡µè¡¨å¯¹åº”çš„äºŒçº§é¡µè¡¨æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼ŒäºŒçº§é¡µè¡¨æ˜¯æŒ‰éœ€åŠ è½½çš„ï¼Œè¿›è€ŒèŠ‚çœç©ºé—´ã€‚\n.qybnyddpfoqe{zoom:67%;}\n\nå¤šçº§é¡µè¡¨å±äºæ—¶é—´æ¢ç©ºé—´ï¼Œåˆ©ç”¨å¢åŠ é¡µè¡¨çš„æŸ¥è¯¢æ¬¡æ•°å‡å°‘é¡µè¡¨å ç”¨çš„ç©ºé—´ã€‚\nTLBä½œç”¨ï¼Ÿæœ‰TLBæ—¶å€™çš„åœ°å€ç¿»è¯‘è¿‡ç¨‹æ˜¯ä»€ä¹ˆ\nä¸ºäº†æé«˜è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢é€Ÿåº¦ï¼Œæ“ä½œç³»ç»Ÿåœ¨é¡µè¡¨æ–¹æ¡ˆåŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†è½¬å€æ—è·¯ç¼“å­˜(Translation\nLookaside Bufferï¼ŒTLBï¼Œä¹Ÿè¢«ç§°ä¸ºå¿«è¡¨)ã€‚\n\nä¸€èˆ¬æ¥è¯´ï¼ŒTLBå±äºMMUå†…éƒ¨çš„å•å…ƒï¼Œæœ¬è´¨æ˜¯ä¸€å—é«˜é€Ÿç¼“å­˜ï¼Œç¼“å­˜äº†è™šæ‹Ÿé¡µå·å’Œç‰©ç†é¡µå·çš„æ˜ å°„å…³ç³»ã€‚\nä½¿ç”¨ TLB ä¹‹åçš„åœ°å€ç¿»è¯‘æµç¨‹æ˜¯è¿™æ ·çš„ï¼š\n\nç”¨è™šæ‹Ÿåœ°å€ä¸­çš„è™šæ‹Ÿé¡µå·ä½œä¸º key å» TLB ä¸­æŸ¥è¯¢ï¼›\nå¦‚æœèƒ½æŸ¥åˆ°å¯¹åº”çš„ç‰©ç†é¡µçš„è¯ï¼Œå°±ä¸ç”¨å†æŸ¥è¯¢é¡µè¡¨äº†ï¼Œè¿™ç§æƒ…å†µç§°ä¸º TLB\nå‘½ä¸­ï¼ˆTLB hit)ã€‚\nå¦‚æœä¸èƒ½æŸ¥åˆ°å¯¹åº”çš„ç‰©ç†é¡µçš„è¯ï¼Œè¿˜æ˜¯éœ€è¦å»æŸ¥è¯¢ä¸»å­˜ä¸­çš„é¡µè¡¨ï¼ŒåŒæ—¶å°†é¡µè¡¨ä¸­çš„è¯¥æ˜ å°„è¡¨é¡¹æ·»åŠ åˆ°\nTLB ä¸­ï¼Œè¿™ç§æƒ…å†µç§°ä¸º TLB æœªå‘½ä¸­ï¼ˆTLB miss)ã€‚\nå½“ TLB\nå¡«æ»¡åï¼Œåˆè¦ç™»è®°æ–°é¡µæ—¶ï¼Œå°±æŒ‰ç…§ä¸€å®šçš„æ·˜æ±°ç­–ç•¥æ·˜æ±°æ‰å¿«è¡¨ä¸­çš„ä¸€ä¸ªé¡µã€‚\n\nä¸­æ–­ã€è½¯ä¸­æ–­\nè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«\nçº¿ç¨‹å’Œåç¨‹çš„åŒºåˆ«\nè¿›ç¨‹è°ƒåº¦ç®—æ³•\nç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åŒºåˆ«\nå†…å­˜å¯¹é½\n","categories":["å…«è‚¡"],"tags":["æ“ä½œç³»ç»Ÿ"]},{"title":"è®¡ç®—æœºç½‘ç»œåŸºç¡€","url":"/df575cf8a0b3/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/","content":"\næ³¨ï¼šå¤§å¤šæ•°å†…å®¹å‚è€ƒäº†JavaGuide\nè®¡ç®—æœºç½‘ç»œ\ndosæ”»å‡»ï¼Œæœ‰ä»€ä¹ˆåŠæ³•ç¼“è§£\n\ntcp udpçš„åŒºåˆ«\n\næ˜¯å¦é¢å‘è¿æ¥ï¼šUDP\nåœ¨ä¼ é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥ã€‚è€Œ TCP\næä¾›é¢å‘è¿æ¥çš„æœåŠ¡ï¼Œåœ¨ä¼ é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®ä¼ é€ç»“æŸåè¦é‡Šæ”¾è¿æ¥ã€‚\næ˜¯å¦æ˜¯å¯é ä¼ è¾“ï¼šè¿œåœ°ä¸»æœºåœ¨æ”¶åˆ° UDP\næŠ¥æ–‡åï¼Œä¸éœ€è¦ç»™å‡ºä»»ä½•ç¡®è®¤ï¼Œå¹¶ä¸”ä¸ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä¸ä¿è¯æ˜¯å¦é¡ºåºåˆ°è¾¾ã€‚TCP\næä¾›å¯é çš„ä¼ è¾“æœåŠ¡ï¼ŒTCP\nåœ¨ä¼ é€’æ•°æ®ä¹‹å‰ï¼Œä¼šæœ‰ä¸‰æ¬¡æ¡æ‰‹æ¥å»ºç«‹è¿æ¥ï¼Œè€Œä¸”åœ¨æ•°æ®ä¼ é€’æ—¶ï¼Œæœ‰ç¡®è®¤ã€çª—å£ã€é‡ä¼ ã€æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚é€šè¿‡\nTCP è¿æ¥ä¼ è¾“çš„æ•°æ®ï¼Œæ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€å¹¶ä¸”æŒ‰åºåˆ°è¾¾ã€‚\næ˜¯å¦æœ‰çŠ¶æ€ï¼šè¿™ä¸ªå’Œä¸Šé¢çš„â€œæ˜¯å¦å¯é ä¼ è¾“â€ç›¸å¯¹åº”ã€‚TCP\nä¼ è¾“æ˜¯æœ‰çŠ¶æ€çš„ï¼Œè¿™ä¸ªæœ‰çŠ¶æ€è¯´çš„æ˜¯ TCP\nä¼šå»è®°å½•è‡ªå·±å‘é€æ¶ˆæ¯çš„çŠ¶æ€æ¯”å¦‚æ¶ˆæ¯æ˜¯å¦å‘é€äº†ã€æ˜¯å¦è¢«æ¥æ”¶äº†ç­‰ç­‰ã€‚ä¸ºæ­¤\nï¼ŒTCP éœ€è¦ç»´æŒå¤æ‚çš„è¿æ¥çŠ¶æ€è¡¨ã€‚è€Œ UDP\næ˜¯æ— çŠ¶æ€æœåŠ¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸ç®¡å‘å‡ºå»ä¹‹åçš„äº‹æƒ…äº†ã€‚\nä¼ è¾“æ•ˆç‡ï¼šç”±äºä½¿ç”¨ TCP\nè¿›è¡Œä¼ è¾“çš„æ—¶å€™å¤šäº†è¿æ¥ã€ç¡®è®¤ã€é‡ä¼ ç­‰æœºåˆ¶ï¼Œæ‰€ä»¥ TCP çš„ä¼ è¾“æ•ˆç‡è¦æ¯” UDP\nä½å¾ˆå¤šã€‚\nä¼ è¾“å½¢å¼ï¼šTCP æ˜¯é¢å‘å­—èŠ‚æµçš„ï¼ŒUDP\næ˜¯é¢å‘æŠ¥æ–‡çš„ã€‚\né¦–éƒ¨å¼€é”€ï¼šTCP é¦–éƒ¨å¼€é”€ï¼ˆ20 ï½ 60 å­—èŠ‚ï¼‰æ¯” UDP\né¦–éƒ¨å¼€é”€ï¼ˆ8 å­—èŠ‚ï¼‰è¦å¤§ã€‚\næ˜¯å¦æä¾›å¹¿æ’­æˆ–å¤šæ’­æœåŠ¡ï¼šTCP åªæ”¯æŒç‚¹å¯¹ç‚¹é€šä¿¡ï¼ŒUDP\næ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤šã€‚\n\ntcpæ‹¥å¡æ§åˆ¶æ€ä¹ˆå®ç°\nhttps://javaguide.cn/cs-basics/network/tcp-reliability-guarantee.html#tcp-%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚TCP\nåœ¨å‘é€æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ä¸¤ä¸ªå› ç´ ï¼šä¸€æ˜¯æ¥æ”¶æ–¹çš„æ¥æ”¶èƒ½åŠ›ï¼ŒäºŒæ˜¯ç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ã€‚æ¥æ”¶æ–¹çš„æ¥æ”¶èƒ½åŠ›ç”±æ»‘åŠ¨çª—å£è¡¨ç¤ºï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘ç¼“å†²åŒºå¯ä»¥ç”¨æ¥æ¥æ”¶æ•°æ®ã€‚ç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ç”±æ‹¥å¡çª—å£è¡¨ç¤ºï¼Œå®ƒæ˜¯å‘é€æ–¹æ ¹æ®ç½‘ç»œçŠ¶å†µè‡ªå·±ç»´æŠ¤çš„ä¸€ä¸ªå€¼ï¼Œè¡¨ç¤ºå‘é€æ–¹è®¤ä¸ºå¯ä»¥åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„æ•°æ®é‡ã€‚å‘é€æ–¹å‘é€æ•°æ®çš„å¤§å°æ˜¯æ»‘åŠ¨çª—å£å’Œæ‹¥å¡çª—å£çš„æœ€å°å€¼ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å‘é€æ–¹æ—¢ä¸ä¼šè¶…è¿‡æ¥æ”¶æ–¹çš„æ¥æ”¶èƒ½åŠ›ï¼Œä¹Ÿä¸ä¼šé€ æˆç½‘ç»œçš„è¿‡åº¦æ‹¥å¡ã€‚å‘é€æ–¹ç»´æŠ¤ä¸€ä¸ªæ‹¥å¡çª—å£ã€‚\n\næ…¢å¼€å§‹ï¼šå‘é€æ–¹å‘é€æ•°æ®æ—¶ï¼Œå¦‚æœç«‹å³æŠŠå¤§é‡æ•°æ®å­—èŠ‚æ³¨å…¥åˆ°ç½‘ç»œï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¼•èµ·ç½‘ç»œé˜»å¡ï¼Œæ‰€ä»¥ä»å°é€æ¸å¢å¤§å‘é€çª—å£ï¼Œåˆå§‹ä¸º1ï¼Œç„¶åä¾æ¬¡ç¿»å€ã€‚\næ‹¥å¡é¿å…ï¼šå½“å‘é€çª—å£è¾¾åˆ°ä¸€å®šå€¼ï¼Œå¼€å§‹è¿›è¡Œæ‹¥å¡é¿å…ï¼Œç¼“æ…¢å¢å¤§å‘é€çª—å£ï¼Œæ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTæŠŠæ‹¥å¡çª—å£åŠ 1ã€‚\nå¿«é‡ä¼ å’Œå¿«æ¢å¤ï¼šå¦‚æœæ¥æ”¶æ–¹æ”¶åˆ°äº†æ²¡æœ‰æŒ‰ç…§é¡ºåºçš„æ•°æ®æ®µï¼Œä¼šå‘å‘é€æ–¹å‘é€é‡å¤ç¡®è®¤ï¼Œå¦‚æœå‘é€æ–¹æ”¶åˆ°ä¸‰æ¬¡é‡å¤ç¡®è®¤ï¼Œåˆ™å‡å®šæ•°æ®æ®µä¸¢å¤±ï¼Œå¹¶ç«‹å³é‡ä¼ ã€‚\n\ntcpæµé‡æ§åˆ¶æ€ä¹ˆå®ç°\nhttps://javaguide.cn/cs-basics/network/tcp-reliability-guarantee.html#tcp-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6\nTCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCP\nçš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP\nä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ï¼ˆTCP\nåˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰ã€‚TCP\nåˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚\næ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚\næµè§ˆå™¨è¾“å…¥ç½‘å€æŒ‰ä¸‹å›è½¦åå‘ç”Ÿäº†ä»€ä¹ˆ\nTCPç²˜åŒ…\n","categories":["å…«è‚¡"],"tags":["è®¡ç®—æœºç½‘ç»œ"]},{"title":"CSSåŸºç¡€","url":"/0311e040ed6b/css%E5%9F%BA%E7%A1%80/","content":"\né€‰æ‹©å™¨\n\né€šé…é€‰æ‹©å™¨\né€‰æ‹©æ‰€æœ‰å…ƒç´ \n* {  color: red;}\nå…ƒç´ é€‰æ‹©å™¨\né€‰æ‹©å¯¹åº”æ ‡ç­¾çš„æ‰€æœ‰å…ƒç´ \n/* é€‰æ‹©æ‰€æœ‰ h1 æ ‡ç­¾çš„å…ƒç´  */h1 {  color: blue;}/* é€‰æ‹©æ‰€æœ‰ p æ ‡ç­¾ */p {  color: red;}\nç±»é€‰æ‹©å™¨\n.test {  color: red;}\n&lt;!-- è®¾ç½® div æ ‡ç­¾é€‰æ‹© test æ ·å¼ --&gt;&lt;div class=\"test\"&gt;abctest&lt;/div&gt;&lt;p class=\"test\"&gt;abc&lt;/p&gt;\nID é€‰æ‹©å™¨\n/* idé€‰æ‹©å™¨åªèƒ½æ˜¯å”¯ä¸€çš„ */#test {  color: red;}\n&lt;!-- idå¿…é¡»æ˜¯å”¯ä¸€çš„ --&gt;&lt;div id=\"test\"&gt;abc&lt;/div&gt;\nå¹¶é›†é€‰æ‹©å™¨\n.test {  font-size: 12px;}.test2 {  font-size: 20px;}/* åœ¨ test å’Œ test2 æ ·å¼ä¸Šç»§ç»­æ·»åŠ æ ·å¼ */.test,.test2 {  color: red;}\n&lt;div class=\"test\"&gt;abc&lt;/div&gt;&lt;p class=\"test2\"&gt;xxx&lt;/p&gt;\näº¤é›†é€‰æ‹©å™¨\næ³¨æ„ç‚¹ï¼š\n\näº¤é›†é€‰æ‹©å™¨ï¼Œå¦‚æœæœ‰å…ƒç´ é€‰æ‹©å™¨ï¼Œå…ƒç´ å¿…é¡»åœ¨å¼€å¤´\nä¸å¯èƒ½å‡ºç°ä¸¤ä¸ªå…ƒç´ é€‰æ‹©å™¨\n\n.test {  color: red;}/* äº¤é›†é€‰æ‹©å™¨ï¼Œå…ƒç´ é€‰æ‹©å™¨å’Œç±»é€‰æ‹©å™¨åŒæ—¶æ»¡è¶³æ¡ä»¶ï¼Œp å…ƒç´ ä¸”ç±»æ ·å¼æ˜¯ test */p.test {  font-size: 12px;}\n&lt;div class=\"test\"&gt;abc&lt;/div&gt;&lt;p class=\"test\"&gt;xxx&lt;/p&gt;\nåä»£é€‰æ‹©å™¨\n/* div å…ƒç´ å†…çš„æ‰€æœ‰çš„ p å…ƒç´  */div p {}\n&lt;!-- div å†…æ‰€æœ‰çš„ p å…ƒç´ éƒ½ä¼šé€‰æ‹© --&gt;&lt;div&gt;  &lt;p&gt;&lt;/p&gt;  &lt;div&gt;    &lt;p&gt;&lt;/p&gt;  &lt;/div&gt;&lt;/div&gt;\nå­ä»£é€‰æ‹©å™¨\n/* div å…ƒç´ å†…çš„æ‰€æœ‰çš„ç›´æ¥å­å…ƒç´  p */div &gt; p {}\n&lt;div&gt;  &lt;!-- é€‰æ‹©è¿™ä¸ª --&gt;  &lt;p&gt;&lt;/p&gt;  &lt;div&gt;    &lt;!-- ä¸é€‰æ‹©è¿™ä¸ª --&gt;    &lt;p&gt;&lt;/p&gt;  &lt;/div&gt;&lt;/div&gt;\nå…„å¼Ÿé€‰æ‹©å™¨\n/* é€‰æ‹©å’Œ div ç´§ç´§ç›¸é‚»çš„(å¿…é¡»æ˜¯æŒ¨ç€ï¼Œå¦‚æœæŒ¨ç€çš„ä¸æ˜¯ pï¼Œåˆ™ä¸ä¼šé€‰æ‹©) åè¾¹çš„ ä¸€ä¸ªå…„å¼Ÿ p å…ƒç´  */div + p {}/* é€‰æ‹© div åè¾¹çš„ æ‰€æœ‰å…„å¼Ÿ p å…ƒç´  */div ~ p {}\n&lt;div&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;\nå±æ€§é€‰æ‹©å™¨\n/* é€‰æ‹©æœ‰ title å±æ€§çš„ */[title] {}/* é€‰æ‹©æœ‰ title å±æ€§çš„ ä¸” å±æ€§å€¼ä¸º abc */[title='abc'] {}/* é€‰æ‹© title å±æ€§ä»¥ ab å¼€å¤´çš„ */[title^='ab'] {}/* é€‰æ‹© title å±æ€§ä»¥ bc ç»“å°¾çš„ */[title$='bc'] {}/* é€‰æ‹© title å±æ€§åªè¦æœ‰ b å³å¯ï¼Œä¸å°‘äº 1 ä¸ª b */[title*='b'] {}\n&lt;div title=\"abc\"&gt;&lt;/div&gt;\nä¼ªç±»é€‰æ‹©å™¨\na:link {}a:visited {}/* é€‰æ‹© å½“é¼ æ ‡æ‚¬åœåœ¨ div å…ƒç´ ä¸Šæ—¶ */div:hover {}a:active {}/* æŒ‰ç…§ç»“æ„æ‰¾ *//* é€‰æ‹© div å…ƒç´ çš„æ‰€æœ‰å„¿å­ p å…ƒç´ ï¼Œä¸” è¿™ä¸ª p å…ƒç´ æ˜¯ å®ƒ çˆ¶çº§å…ƒç´  çš„ç¬¬ä¸€ä¸ªå„¿å­ *//* å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ div ï¼Œåˆ™ä¸ä¼šé€‰æ‹©ä»»ä½•å…ƒç´  */div &gt; p:first-child {}/* æŒ‰ç…§å…ƒç´ ç±»å‹æ‰¾ *//*  é€‰æ‹© div å…ƒç´ çš„æ‰€æœ‰å„¿å­ p å…ƒç´ çš„ç¬¬ä¸€ä¸ª p å…ƒç´  */div &gt; p:first-of-type {}/* nth-child(an+b) æ‹¬å·ä¸­å¿…é¡»æ˜¯ an+b çš„å½¢å¼ï¼Œå…¶ä¸­ n çš„èŒƒå›´æ˜¯ 0 åˆ° æ­£æ— ç©· *//* é€‰æ‹©æ‰€æœ‰æ»¡è¶³ an+b æ¡ä»¶çš„å…ƒç´  */div &gt; p:nth-child(an + b) {}\n&lt;div&gt;  &lt;!--  &lt;div&gt;&lt;/div&gt;  --&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;&lt;/div&gt;\nä¼ªå…ƒç´ é€‰æ‹©å™¨\n/* åœ¨ p å…ƒç´ çš„å†…å®¹å‰ æ’å…¥å†…å®¹ abc */p::before {  content: 'abc';}/* åœ¨ p å…ƒç´ å†…å®¹ä¹‹åæ’å…¥ */p::after {}/* é€‰æ‹©ç¬¬ä¸€è¡Œ */p::first-line {}\né€‰æ‹©å™¨ä¼˜å…ˆçº§\nå¦‚æœé€‰æ‹©å™¨æœ‰å¤šç§ç»„åˆèµ·æ¥ï¼Œåˆ™é€‰æ‹©å™¨ä¼˜å…ˆçº§æŒ‰ç…§å¦‚ä¸‹è§„åˆ™\na, b, c\n\na: ID é€‰æ‹©å™¨çš„ä¸ªæ•°\nb: ç±»ã€ä¼ªç±»ã€å±æ€§é€‰æ‹©å™¨çš„ä¸ªæ•°\nc: å…ƒç´ ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨çš„ä¸ªæ•°\n\nä¾æ¬¡æŒ‰ç…§a, b, cçš„å¤§å°åˆ¤æ–­ï¼Œå¤§çš„ä¼˜å…ˆçº§é«˜ï¼Œå¦‚æœç›¸åŒï¼Œåˆ™æŒ‰ç…§â€œåæ¥è€…å±…ä¸Šâ€è¦†ç›–ä¹‹å‰çš„æ ·å¼ã€‚\nå¦‚æœæœ‰è¡Œå†…æ ·å¼ï¼Œåˆ™ä¼˜å…ˆçº§é«˜äº css æ ·å¼ã€‚\nå¦‚æœå±æ€§åæœ‰\n!importantï¼Œåˆ™è¿™ä¸ªæ ·å¼ä¼˜å…ˆçº§æœ€é«˜ï¼ˆä¹Ÿé«˜äºè¡Œå†…æ ·å¼ï¼‰ã€‚\n.test {  color: red !important;}\nç›’å­æ¨¡å‹\nå…ƒç´ æ˜¾ç¤ºæ¨¡å¼\n\nå—çº§å…ƒç´ \nç‹¬å ä¸€è¡Œï¼Œé»˜è®¤å®½åº¦æ’‘æ»¡çˆ¶å…ƒç´ ï¼Œé»˜è®¤é«˜åº¦ç”±å†…å®¹æ’‘å¼€ï¼Œå¯ä»¥é€šè¿‡CSSè®¾ç½®å®½é«˜ã€‚\nè¡Œå†…å…ƒç´ \nä¸ç‹¬å ä¸€è¡Œï¼Œé»˜è®¤å®½é«˜ç”±å†…å®¹æ’‘å¼€ï¼Œæ— æ³•é€šè¿‡CSSè®¾ç½®å®½é«˜ã€‚\nè¡Œå†…å—å…ƒç´ \nä¸ç‹¬å ä¸€è¡Œï¼Œé»˜è®¤å®½é«˜ç”±å†…å®¹æ’‘å¼€ï¼Œå¯ä»¥é€šè¿‡CSSè®¾ç½®å®½é«˜ã€‚\n\nç›’å­ç»„æˆéƒ¨åˆ†\ncontentå†…å®¹åŒºï¼Œpaddingå†…è¾¹è·ï¼ˆè¡¥ç™½ï¼‰ï¼Œborderè¾¹æ¡†ï¼Œmarginå¤–è¾¹è·ã€‚\n\nå¤–è¾¹è· margin\n\nå­å…ƒç´ çš„marginè®¡ç®—æ˜¯ä»çˆ¶å…ƒç´ çš„contentåŒºåŸŸå¼€å§‹ç®—èµ·ã€‚\nmargin-top, margin-leftä¼šå½±å“è‡ªèº«çš„ä½ç½®ï¼Œmargin-bottom, margin-rightä¼šå½±å“åç»­å…„å¼Ÿå…ƒç´ çš„ä½ç½®ã€‚\nè¡Œå†…å…ƒç´ å¯ä»¥è®¾ç½®margin-left, margin-rightå¯ä»¥è®¾ç½®ï¼Œä½†æ˜¯margin-top, margin-bottomè®¾ç½®æ— æ•ˆã€‚\nmargin: 0 autoæ°´å¹³å±…ä¸­ï¼Œmargin-left: autoè¡¨ç¤ºç¦»å·¦è¾¹â€œèƒ½æœ‰å¤šè¿œæœ‰å¤šè¿œâ€ï¼Œmargin-rightåŒç†ã€‚\nmarginå¯ä»¥è®¾ç½®è´Ÿå€¼ï¼Œåˆ™å‘ç›¸åä½ç½®åç§»ã€‚\n\nmargin å¡Œé™·\nå®šä¹‰ï¼šç¬¬ä¸€ä¸ªå­å…ƒç´ çš„margin-topä¼šä½œç”¨åœ¨çˆ¶å…ƒç´ ä¸Šï¼Œæœ€åä¸€ä¸ªå­å…ƒç´ çš„margin-bottomä¼šä½œç”¨åœ¨çˆ¶å…ƒç´ ä¸Šã€‚\nè§£å†³åŠæ³•ï¼š\n\nçˆ¶å…ƒç´ è®¾ç½®ä¸ä¸º 0 çš„paddingã€‚\nçˆ¶å…ƒç´ è®¾ç½®ä¸ä¸º 0 çš„borderã€‚\nçˆ¶å…ƒç´ è¿™è®¾ç½®overflow: hiddenã€‚\n\nmargin åˆå¹¶\nä¸Šè¾¹å…„å¼Ÿå…ƒç´ çš„margin-bottomå’Œä¸‹è¾¹å…„å¼Ÿå…ƒç´ çš„margin-topä¼šåˆå¹¶ï¼Œå–ä¸€ä¸ªæœ€å¤§çš„å€¼ï¼Œè€Œä¸æ˜¯ç›¸åŠ ã€‚\næ— éœ€åˆ»æ„è§£å†³ï¼Œè®¾ç½®æ—¶åªç»™ä¸€ä¸ªå…ƒç´ è®¾ç½®margin-topæˆ–è€…margin-bottomå³å¯ã€‚\nå†…å®¹æº¢å‡º\noverflow: hiddenï¼šå†…å®¹æº¢å‡ºåç›´æ¥éšè—ã€‚\noverflow: autoï¼šå†…å®¹æº¢å‡ºåæ·»åŠ æ»šåŠ¨æ¡å¯ä»¥æ»šåŠ¨ã€‚\noverflow: scrollï¼šå†…å®¹ä¸ç®¡æ˜¯å¦æº¢å‡ºéƒ½æ·»åŠ æ»šåŠ¨æ¡ã€‚\nå…ƒç´ æ˜¾ç¤ºä¸éšè—\ndisplay: noneï¼šå…ƒç´ ä¸æ˜¾ç¤ºï¼Œä¹Ÿä¸ä¼šå ä½ã€‚\nvisibility: hiddenï¼šå…ƒç´ ä¸æ˜¾ç¤ºï¼Œä½†æ˜¯ä¼šå ä½ã€‚\nå®šä½\nå¦‚æœå¼€å¯äº†ç›¸å¯¹å®šä½æˆ–è€…ç»å¯¹å®šä½ï¼Œå±‚çº§æ¯”æ™®é€šçš„å…ƒç´ é«˜\n\nç›¸å¯¹å®šä½\nposition: relativeç›¸å¯¹å®šä½ï¼Œç›¸å¯¹äºå…ƒç´ è®¾ç½®ç›¸å¯¹å®šä½å‰ï¼ˆåŸæ¥çš„ä½ç½®ï¼‰çš„ä½ç½®ã€‚å¯ä»¥è®¾ç½®top, right, bottom, leftã€‚\nè®¾ç½®äº†ç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œå¹¶æ²¡æœ‰è„±ç¦»æ–‡æ¡£æµã€‚\nç»å¯¹å®šä½\nposition: absoluteç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµï¼Œç›¸å¯¹äºç¥–å…ˆå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªä¸ä¸º\nstatic(é»˜è®¤å®šä½)å®šä½çš„å…ƒç´ \nå›ºå®šå®šä½\nposition: fixedç›¸å¯¹äºæµè§ˆå™¨çª—å£å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµ\n\nCSS3 æ–°å¢\næ–°å¢é•¿åº¦å•ä½\nvwï¼šè§†å£çš„å®½åº¦\nvhï¼šè§†å£çš„é«˜åº¦\nvmaxï¼šè§†å£å®½é«˜çš„æœ€å¤§å€¼ä½œä¸ºå•ä½ï¼ˆäº†è§£å³å¯ï¼‰\nvminï¼šè§†å£å®½é«˜çš„æœ€å°å€¼ä½œä¸ºå•ä½ï¼ˆäº†è§£å³å¯ï¼‰\nremï¼šæ ¹å…ƒç´ å­—ä½“å¤§å°çš„å€æ•°ï¼Œåªä¸æ ¹å…ƒç´ å­—ä½“å¤§å°æœ‰å…³ã€‚\næ–°å¢ç›’å­æ¨¡å‹å±æ€§\n\nbox-sizing: border-box\nè®¾ç½®è¯¥å±æ€§ï¼ˆæ€ªå¼‚ç›’æ¨¡å‹ï¼‰åï¼Œè®¾ç½®çš„width, heightä¸ºç›’å­çš„æ€»å®½é«˜ï¼Œå¹¶éå†…å®¹åŒºçš„å®½é«˜ï¼ˆä¸è®¾ç½®è¯¥å±æ€§æ—¶ä¸ºå†…å®¹åŒºçš„å®½é«˜ï¼‰\nresize\nä½¿ç”¨çš„å‰ææ˜¯å¿…é¡»æœ‰overflowå±æ€§\nresize: horizontalï¼šæ°´å¹³æ–¹å‘ä¸Šçš„æ”¹å˜å¤§å°\nresize: verticalï¼šå‚ç›´æ–¹å‘ä¸Šæ”¹å˜å¤§å°\nbox-shadow\nç›’å­é˜´å½±\n.test {  /* æ°´å¹³ä½ç½®ï¼Œå‚ç›´ä½ç½®ï¼Œé˜´å½±é¢œè‰²æˆ–è€…æ¨¡ç³Šç¨‹åº¦ï¼Œ(é˜´å½±å¤–æ²¿)ï¼Œé˜´å½±é¢œè‰²ï¼Œ(å†…é˜´å½±) */  box-shadow: 10px 15px blue;  box-shadow: 10px 15px 10px;  /* å¸¸è§å†™æ³• */  box-shadow: 10px 15px 10px red;  box-shadow: 10px 15px 10px 12px green;  box-shadow: 10px 15px 10px 12px green inset;}\nbox-shadow: h-shadow v-shadow blur spread color inset\n\n\n\nå€¼\nå«ä¹‰\n\n\n\n\nh-shadow\næ°´å¹³é˜´å½±çš„ä½ç½®ï¼Œå¿…å¡«ï¼Œå¯ä»¥ä¸ºè´Ÿå€¼\n\n\nv-shadow\nå‚ç›´é˜´å½±çš„ä½ç½®ï¼Œå¿…å¡«ï¼Œå¯ä»¥ä¸ºè´Ÿå€¼\n\n\nblur\nå¯é€‰ï¼Œæ¨¡ç³Šè·ç¦»\n\n\nspread\nå¯é€‰ï¼Œé˜´å½±å¤–å»¶å€¼\n\n\ncolor\nå¯é€‰ï¼Œé˜´å½±é¢œè‰²\n\n\ninset\nå¯é€‰ï¼Œå¤–éƒ¨é˜´å½±æ”¹ä¸ºå†…éƒ¨é˜´å½±\n\n\n\nopacity\nä¸é€æ˜åº¦ï¼ŒèŒƒå›´[0, 1]ï¼Œ1 ä¸ºä¸é€æ˜ï¼Œ0 ä¸ºå…¨é€æ˜\n\næ–°å¢èƒŒæ™¯å±æ€§\næ–°å¢è¾¹æ¡†å±æ€§\næ–°å¢æ¸å˜\n2D å˜æ¢\nå’Œtransformç›¸å…³çš„éƒ½ä¸å¯ä»¥ä½¿ç”¨åœ¨è¡Œå†…å…ƒç´ ä¸Šã€‚\n\nä½ç§»\n.test {  /* xè½´æ–¹å‘åç§» 50px */  transform: translateX(50px);  /* å¦‚æœå†™ç™¾åˆ†æ¯”ï¼Œåˆ™é•¿åº¦å‚è€ƒçš„è‡ªèº«å…ƒç´ é•¿çš„50%ï¼Œï¼ˆæ³¨æ„å’Œå…¶ä»–å±æ€§çš„åŒºåˆ«ï¼Œå…¶ä»–å±æ€§æ—¶å‚è€ƒçˆ¶å…ƒç´ çš„ï¼‰ */  transform: translateX(50%);  /* yè½´æ–¹å‘ */  transform: translateY(50px);}\nå®šä½é…åˆä½ç§»å®ç°æ°´å¹³å‚ç›´å±…ä¸­ã€‚\nğŸ°å¦‚æœæœ‰çˆ¶å…ƒç´ ï¼Œåˆ™éœ€è¦è®¾ç½®çˆ¶å…ƒç´ ä¸ºç›¸å¯¹å®šä½\n.test {  position: absolute;  /* ç›¸å¯¹äºçˆ¶å…ƒç´ åç§» 50% */  top: 50%;  left: 50%;  /* è‡ªèº«å…ƒç´ é•¿çš„ 50% */  transform: translate(-50%, -50%);}\nç¼©æ”¾\n.test {  /* 1ï¼Œä¸å˜ï¼Œå°äº 1 ç¼©å°ï¼Œå¤§äº 1 æ‰©å¤§ï¼Œå¦‚æœå°äº 0 åˆ™å¯ä»¥è®¤ä¸ºåšäº†ç¿»è½¬ï¼Œä½†ä¸æ¨èå†™å°äº 0 */  transform: scale(0.5, 1.5);}\ntipsï¼šå¯ä»¥å®ç°æ–‡å­—å°äº12pxçš„æ•ˆæœ\næ—‹è½¬\nâ—å…ƒç´ æ—‹è½¬ååæ ‡ç³»ä¹Ÿè·Ÿç€å‘ç”Ÿäº†æ—‹è½¬ï¼Œæ¶‰åŠå¤šé‡å˜æ¢æ—¶ï¼Œå°½é‡å°†æ—‹è½¬æ”¾åœ¨æœ€åã€‚\n.test {  /* æ²¿ç€å…ƒç´ ä¸­å¿ƒé¡ºæ—¶é’ˆæ—‹è½¬ 30deg */  transform: rotate(30deg);  /* rotateZ å±äº 2D çš„èŒƒå›´ï¼Œzè½´ç›¸å½“äºä»å±å¹•é‡Œå°„å‡ºæ¥çš„æ–¹å‘ï¼Œå¯¹äºå±å¹• 2D çš„æ—‹è½¬ï¼Œåˆ™æ˜¯æŒ‰ç…§ zè½´ æ—‹è½¬ */  transform: rotateZ();}\næ‰­æ›²\n\nä½¿ç”¨çš„å¾ˆå°‘\n\n.test {  transform: skewX(30deg);}\nå˜æ¢åŸç‚¹\n.test {  /* è®¾ç½®å˜æ¢åŸç‚¹åœ¨å…ƒç´ çš„ä»€ä¹ˆä½ç½® */  transform-origin: left top;  /* è®¾ç½®å…·ä½“çš„åŸç‚¹ */  /* å¦‚æœåªå†™ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå€¼åˆ™å–ä¸­é—´ */  transform-origin: 50px 50px;}\nå˜æ¢åŸç‚¹å¯¹æ—‹è½¬ã€ç¼©æ”¾æœ‰å½±å“ã€‚\n\n3D å˜æ¢\nè¿‡æ¸¡\n\nåŸºæœ¬ä½¿ç”¨\nå¯ä»¥ç”¨æ•°å­—è¡¨ç¤ºçš„å±æ€§éƒ½å¯ä»¥è¿›è¡Œè¿‡æ¸¡ã€‚\n.box {  width: 200px;  height: 200px;  background-color: red;  /* è®¾ç½®å“ªä¸ªå±æ€§å…·æœ‰ è¿‡æ¸¡ æ•ˆæœ */  /* allï¼Œè¿‡æ¸¡æ‰€æœ‰èƒ½è¿‡æ¸¡çš„å±æ€§ï¼Œä¸å†™é»˜è®¤æ˜¯ all */  transition-property: width, height;  /* è®¾ç½® è¿‡æ¸¡ æŒç»­æ—¶é—´ï¼Œå•ä½ ms æˆ– s */  transition-duration: 2s, 1s;}.box:hover {  width: 500px;  height: 400px;}\né«˜çº§ç”¨æ³•\n.test {  /* è¿‡æ¸¡å‘ç”Ÿçš„å»¶è¿Ÿ */  transition-delay: 2s;  /* è¿‡æ¸¡åŠ¨ç”», ease å¹³æ»‘ï¼Œé»˜è®¤å€¼ï¼›linear çº¿æ€§ï¼›ease-in å…ˆæ…¢åå¿«ï¼›ease-out å…ˆå¿«åæ…¢ï¼›step-start ä¸è€ƒè™‘è¿‡æ¸¡æ—¶é—´ï¼Œç›´æ¥åˆ°ç»ˆç‚¹ */  /* step-end è¿‡æ¸¡æ—¶é—´ç»“æŸäº†ç›´æ¥åˆ°è¾¾ç»ˆç‚¹ï¼›steps(20, start[end]) åˆ†æ­¥è¿‡æ¸¡; cubic-bezier(0.88, 1.03, 0.78, 1.24) è´å¡å°”æ›²çº¿ */  transition-timing-function: ease;  transition-timing-function: cubic-bezier(0.88, 1.03, 0.78, 1.24);}\nå¤åˆå±æ€§\n.test {  /* duration, property, delay, timing-function */  /* ä¸¤ä¸ªæ—¶é—´æœ‰é¡ºåºè¦æ±‚ï¼Œå…¶ä»–çš„æ²¡æœ‰é¡ºåºè¦æ±‚ï¼Œä¸€èˆ¬å»¶è¿Ÿæ—¶é—´ä¸å†™ï¼Œé‡‡ç”¨é»˜è®¤0s */  transition: 3s all 0.5s linear;}\n\nåŠ¨ç”»\n\nåŸºæœ¬ä½¿ç”¨\n.test {  animation-name: moveRight;  /* åŠ¨ç”»æŒç»­æ—¶é—´ */  animation-duration: 2s;}/* å®šä¹‰ä¸€ç»„å…³é”®å¸§ */@keyframes moveRight {  from {  }  to {    transform: translate(900px);  }}/* å¦ä¸€ç§å®šä¹‰æ–¹å¼ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”æ›´ç²¾ç»†çš„æ§åˆ¶ */@keyframes moveRight {  0% {  }  50% {  }  100% {  }}\nå…¶ä»–å±æ€§\n.test {  animation-name: moveRight;  /* åŠ¨ç”»æŒç»­æ—¶é—´ */  animation-duration: 2s;  animation-delay: 0.5s;  /* è®¾ç½®åŠ¨ç”»æ–¹å¼ï¼Œç±»æ¯”äº è¿‡æ¸¡ çš„å±æ€§ */  animation-timing-function: linear;  /* åŠ¨ç”»æ’­æ”¾çš„æ¬¡æ•° */  animation-iteration-count: infinite;  /* ä¿®æ”¹åŠ¨ç”»æ–¹å‘ */  animation-direction: reverse /* åè½¬ */;  animation-direction: alternate /* å¾€è¿”è¿åŠ¨ */;  /* åŠ¨ç”»ä»¥å¤–çš„çŠ¶æ€ï¼ˆä¸å‘ç”ŸåŠ¨ç”»æ—¶çš„çŠ¶æ€ï¼‰ */  animation-fill-mode: forwards / backwards;  /* åŠ¨ç”»æ’­æ”¾çŠ¶æ€ */  animation-play-state: paused;}/* å®šä¹‰ä¸€ç»„å…³é”®å¸§ */@keyframes moveRight {  from {  }  to {    transform: translate(900px);  }}\nå¤åˆå±æ€§\n.test {  /* åªæœ‰ä¸¤ä¸ªæ—¶é—´æœ‰é¡ºåºï¼Œç¬¬ä¸€ä¸ªæ—¶é—´æ˜¯æŒç»­æ—¶é—´ï¼Œç¬¬äºŒä¸ªæ˜¯å»¶è¿Ÿ */  animation: moveRight 2s 0.5s linear 2 alternate-reverse forwards;}.test:hover {  /* æš‚åœå±æ€§å•ç‹¬ä½¿ç”¨ */  animation-play-state: paused;}\nåŠ¨ç”»å’Œè¿‡æ¸¡çš„åŒºåˆ«\n\nè¿‡æ¸¡éœ€è¦ä¸€å®šçš„è§¦å‘æ¡ä»¶ï¼ŒåŠ¨ç”»ä¸éœ€è¦\nè¿‡æ¸¡åªå…³æ³¨å¼€å§‹å’Œç»“æŸï¼Œæ— æ³•å…³æ³¨ä¸­é—´æŸä¸ªè¿‡ç¨‹ã€‚\n\n\nå¤šåˆ—å¸ƒå±€\n.test {  /* è®¾ç½® 3 åˆ— å¤šåˆ—å¸ƒå±€ */  column-count: 3;  /* æŒ‡å®šæ¯ä¸€åˆ—å®½åº¦ */  column-width: 200px;  /* å¯ä»¥åŒæ—¶æŒ‡å®šåˆ—æ•°å’Œåˆ—å®½ï¼Œå¦‚æœç»“æœä¸åŒï¼Œåˆ™åˆ—æ•°å°‘çš„ä¼˜å…ˆçº§é«˜ */  columns: 3 220px;  /* è®¾ç½®åˆ—ä¹‹é—´çš„é—´éš™ */  column-gap: 20px;  /* è®¾ç½®åˆ—ä¹‹é—´çš„åˆ†å‰²çº¿ */  column-rule-width: 2px;  column-rule-style: dashed;  column-rule-color: red;  /* åˆ†å‰²çº¿å¤åˆå±æ€§ */  column-rule: 2px dashed red;  /* æŒ‡å®šæ ‡é¢˜æ–‡æœ¬è·¨æ‰€æœ‰åˆ—ï¼Œåªèƒ½æ˜¯ none / allï¼Œé»˜è®¤å€¼ä¸º none */  column-span: all;}\nä¼¸ç¼©ç›’æ¨¡å‹\nå®¹å™¨å’Œé¡¹\nçˆ¶å…ƒç´ è®¾ç½®display: flex;åï¼Œå˜ä¸ºä¸€ä¸ªâ€œä¼¸ç¼©å®¹å™¨â€ï¼Œå…¶æ‰€æœ‰çš„å­å…ƒç´ çš„éƒ½æ˜¯â€œä¼¸ç¼©é¡¹â€ï¼Œå¹¶ä¸”æ‰€æœ‰çš„å­å…ƒç´ éƒ½ä¼šå—çŠ¶åŒ–å˜ä¸ºå—å…ƒç´ ã€‚\nä¸»è½´æ–¹å‘æ¢è¡Œæ–¹å¼\n.test {  /* è®¾ç½®ä¸»è½´æ–¹å‘ */  flex-direction: row;  flex-direction: row-reverse;  flex-direction: column;  flex-direction: column-reverse;  /* é»˜è®¤ä¸æ¢è¡Œ */  flex-wrap: nowrap;  /* æŒ‰ç…§äº¤å‰è½´æ–¹å‘æ¢è¡Œ */  flex-wrap: wrap;  /* æŒ‰ç…§äº¤å‰è½´åæ–¹å‘æ¢è¡Œ */  flex-wrap: wrap-reverse;}\nä¸»è½´å¯¹é½æ–¹å¼\n.test {  /* é»˜è®¤ï¼Œä¸»è½´èµ·å§‹ä½ç½®å¯¹é½ */  justify-content: flex-start;  /* ä¸»è½´ç»“æŸä½ç½®å¯¹é½ */  justify-content: flex-end;  /* å±…ä¸­å¯¹é½ */  justify-content: center;  /* é¡¹ç›®å‡åŒ€åˆ†å¸ƒåœ¨ä¸€è¡Œä¸­ï¼Œæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§ç©ºå‡ºçš„è·ç¦»ç›¸ç­‰ï¼Œé¡¹ç›®ä¹‹é—´çš„è·ç¦»æ˜¯ä¸¤ä¾§çš„äºŒå€ï¼Œ */  justify-content: space-around;  /* é¡¹ç›®å‡åŒ€åˆ†å¸ƒåœ¨ä¸€è¡Œä¸­ï¼Œé¡¹ç›®ä¸é¡¹ç›®ä¹‹é—´è·ç¦»ç›¸ç­‰ï¼Œä¸¤ä¾§çš„é¡¹ç›®ç´§è´´è¾¹ç¼˜ */  justify-content: space-between;  /* é¡¹ç›®å‡åŒ€åˆ†å¸ƒåœ¨ä¸€è¡Œä¸­ */  justify-content: space-evenly;}\nä¾§è½´å¯¹é½æ–¹å¼\nå•è¡Œ\nalign-itemså¯¹æ¯ä¸€è¡Œçš„é¡¹èµ·ä½œç”¨\n.test {  /* äº¤å‰è½´èµ·å§‹ä½ç½®å¯¹é½ */  align-items: flex-start;  /* äº¤å‰è½´ä¸­é—´ä½ç½®å¯¹é½ */  align-items: center;  align-items: flex-end;  /* å¦‚æœæ‰€å“Ÿä¼¸ç¼©é¡¹éƒ½æ²¡æœ‰é«˜åº¦ï¼Œå°±æ’‘æ»¡æ•´ä¸ªå®¹å™¨ï¼Œé»˜è®¤å€¼ */  align-items: stretch;}\nå¤šè¡Œ\nalign-contentå¯¹å¤šè¡Œæ•´ä½“èµ·ä½œç”¨\n.test {  /* äº¤å‰è½´çš„èµ·å§‹ä½ç½®å¯¹é½ */  align-content: flex-start;  align-content: flex-end;  /* äº¤å‰è½´å±…ä¸­ */  align-content: center;  /* åŒä¸»è½´ */  align-content: space-around;  align-content: space-between;  align-content: space-evenly;  /* åŒä¸Šï¼Œé»˜è®¤å€¼ */  align-content: stretch;}\nä¼¸ç¼©é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„åŸºå‡†é•¿åº¦\n.test {  /* è®¾ç½®ä¼¸ç¼©é¡¹åœ¨ä¸»è½´ä¸Šçš„é•¿åº¦ï¼Œå¦‚æœä¸»è½´æ˜¯æ¨ªå‘ï¼Œåˆ™ width å¤±æ•ˆï¼Œçºµå‘åˆ™ height å¤±æ•ˆ */  /* é»˜è®¤å€¼ auto */  flex-basis: 300px;}\nä¼¸ç¼©æ€§\n.test {  /* åˆ†å‰©ä½™ç©ºé—´çš„æ¯”ä¾‹ï¼Œæƒé‡ */  /* å¦‚æœä¸º 0ï¼Œåˆ™æœ‰å‰©ä½™ç©ºé—´ä¹Ÿä¸æ‹‰ä¼¸ï¼Œé»˜è®¤å€¼æ˜¯ 0 */  flex-grow: 1;}\n.test {  /* å¦‚æœè®¾ç½®äº† wrap æ¢è¡Œï¼Œåˆ™ä¸ä¼šå‹ç¼© */  /* å½“ç©ºé—´ä¸å¤Ÿäº†ï¼Œè®¾ç½®ä¼¸ç¼©é¡¹çš„ç¼©å°æ¯”ä¾‹ */  flex-shrink: 1;}\nflex-shrinkå…·ä½“è®¡ç®—å…¬å¼ï¼šflex å¸ƒå±€ä¸­\nflex-grow ä¸ flex-shrink çš„è¯¦ç»†è®¡ç®—æ–¹å¼_flex grad-CSDN åšå®¢\nä¸¤ä¸ªå…ƒç´ ï¼Œå®½åº¦åˆ†åˆ«ä¸ºw1, w2ï¼Œflex-shrinkåˆ†åˆ«ä¸ºf1, f2ï¼Œæº¢å‡ºï¼ˆå…ƒç´ è¶…å‡ºå®¹å™¨çš„éƒ¨åˆ†ï¼‰çš„å®½åº¦ä¸ºo\n\nåˆ™ç¬¬ä¸€ä¸ªå…ƒç´ ç¼©å°ï¼Œç¬¬äºŒä¸ªå…ƒç´ ç¼©å°\nå¦‚æœf1 + f2 &lt; 1ï¼Œåˆ™æœ€åè®¡ç®—ç¼©å°é•¿åº¦æ—¶çš„oä¸º\nå¤åˆå±æ€§\n.test {  /* flex-grow flex-shrink flex-basis */  flex: 1 1 200px;  /* flex: 1 1 auto; çš„ç®€å†™å½¢å¼ */  flex: auto;  /* flex: 1 1 0; çš„ç®€å†™å½¢å¼ */  flex: 1;  /* flex: 0 0 auto; çš„ç®€å†™å½¢å¼ */  flex: none;  /* é»˜è®¤å€¼ */  flex: 0 1 auto; /* å¯ä»¥ç®€å†™ä¸ºï¼šflex: 0 auto; */}\næ’åº\n.test {  /* è¶Šå°çš„è¶Šé å‰ */  order: -1;  /* è®¾ç½®æŸä¸ªå…ƒç´ å•ç‹¬çš„å¯¹é½æ–¹å¼ */  align-self: flex-end / center;}\nåª’ä½“æŸ¥è¯¢\nåª’ä½“ç±»å‹\nåª’ä½“æŸ¥è¯¢æ ·å¼æ²¡æœ‰æé«˜ä¼˜å…ˆçº§ï¼Œåª’ä½“æŸ¥è¯¢æ ·å¼ä¹‹é—´å’Œæ­£å¸¸çš„æ ·å¼æœ‰é¡ºåºè¦æ±‚ï¼Œå› æ­¤ä¸€èˆ¬å…ˆå†™æ­£å¸¸æ ·å¼ï¼Œæœ€åå†™åª’ä½“æŸ¥è¯¢æ ·å¼ã€‚\n/* åª’ä½“æŸ¥è¯¢ æŸ¥è¯¢åˆ°æ˜¯æ‰“å°æœº / é¢„è§ˆæ‰“å° æ—¶ï¼Œè®¾ç½®æ ·å¼ */@media print {}/* åªæœ‰åœ¨å±å¹•ä¸Šæ‰è®¾ç½®çš„æ ·å¼ */@media screen {}\nåª’ä½“ç‰¹æ€§\n/* æ£€æµ‹åˆ°è§†å£å®½åº¦ä¸º 800px æ—¶ï¼Œåº”ç”¨æ ·å¼ */@media (width: 800px) {}/* æ£€æµ‹åˆ°è§†å£å®½åº¦ å°äºç­‰äº 700px æ—¶åº”ç”¨æ ·å¼ */@media (max-width: 700px) {}/* æ£€æµ‹åˆ°è§†å£å®½åº¦ å¤§äºç­‰äº 900px æ—¶åº”ç”¨æ ·å¼ */@media (min-width: 900px) {}/* è®¾å¤‡å®½åº¦å¦‚æœæ˜¯ 1920px åº”ç”¨æ ·å¼ï¼ˆæœ€æ–°å·²å¼ƒç”¨è¿™ä¸ªå±æ€§ï¼‰ */@media (device-width: 1920px) {}\nå…¶ä»–ç‰¹æ€§ï¼š\n\nmax-device-width, min-device-width\norientationæ£€æµ‹è§†å£çš„æ—‹è½¬æ–¹å‘ï¼ˆæ˜¯å¦æ¨ªå±ï¼‰ï¼Œportraitçºµå‘ï¼Œé«˜åº¦å¤§äºç­‰äºå®½åº¦ï¼›landscapeæ¨ªå‘ï¼Œå®½åº¦å¤§äºé«˜åº¦ã€‚\n\nè¿ç®—ç¬¦\n/* åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼Œå°äºç­‰äº 700px ä¸” å¤§äºç­‰äº 600px */@media (max-width: 700px) and (min-width: 600px) {}/* æˆ–ï¼Œæ»¡è¶³ä¸€ä¸ªæ¡ä»¶å³å¯ */@media (max-width: 700px) or (min-width: 600px) {} /* æ–°è¯­æ³•ï¼Œæ¨èä½¿ç”¨ */@media (max-width: 700px), (min-width: 600px) {}/* å¦å®šè¿ç®—ç¬¦ï¼Œä¸æ˜¯å±å¹• */@media not screen {}/* è‚¯å®šè¿ç®—ç¬¦ï¼Œç”¨å¤„ä¸å¤§ï¼Œä¸»è¦å¯ä»¥ç”¨äºå¤„ç† IE çš„å…¼å®¹é—®é¢˜ */@media only screen {}\nBFC\nåœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥å¼€å¯BFCï¼Œå¼€å¯ BFC\nå¯ä»¥è§£å†³å“ªäº›é—®é¢˜ï¼š\n\nå…ƒç´ å¼€å¯ BFC åï¼Œå­å…ƒç´ ä¸ä¼šäº§ç”Ÿmarginå¡Œé™·é—®é¢˜\nå…ƒç´ å¼€å¯ BFC åï¼Œè‡ªå·±ä¸ä¼šè¢«å…¶ä»–æµ®åŠ¨å…ƒç´ è¦†ç›–\nå…ƒç´ å¼€å¯ BFC åï¼Œå¦‚æœå…¶å­å…ƒç´ æµ®åŠ¨ï¼Œå…ƒç´ è‡ªèº«é«˜åº¦ä¹Ÿä¸ä¼šå¡Œé™·\n\nå¦‚ä½•å¼€å¯BFC\n\næ ¹å…ƒç´ \næµ®åŠ¨å…ƒç´ \nç»å¯¹å®šä½ã€å›ºå®šå®šä½çš„å…ƒç´ \nè¡Œå†…å—å…ƒç´ \nè¡¨æ ¼å•å…ƒæ ¼ï¼štable, thead,\ntbody, tfoot, th,\ntd, tr, caption\noverflowçš„å€¼ä¸ä¸ºvisibleçš„å—å…ƒç´ \nä¼¸ç¼©é¡¹ç›®\nå¤šåˆ—å®¹å™¨(column-count)\ncolumn-spanä¸ºallçš„å…ƒç´ \ndisplayçš„å€¼è®¾ä¸ºflow-root\n\nä¸€äº›å€¼å¾—å…³æ³¨çš„â€œå‘â€\næ–‡å­—è¶…é•¿çœç•¥\né€šå¸¸æƒ…å†µä¸‹è®¾ç½®flex: 1æ¥è®©å…ƒç´ è¾¾åˆ°è‡ªé€‚åº”çš„æ•ˆæœï¼Œå¦‚è‡ªåŠ¨å¡«æ»¡å‰©ä½™ç©ºé—´ã€‚\nä½†åœ¨é‡åˆ°æ–‡æœ¬è¶…é•¿çš„æ—¶å€™ï¼Œè®¾ç½®flex: 1å´ä¸èƒ½ä¿è¯æ–‡æœ¬å…ƒç´ çœç•¥ï¼Œä¼šæŒ¤å åè¾¹çš„ç©ºé—´ã€‚è¿™æ—¶å€™é€šå¸¸éœ€è¦è®¾ç½®min-width: 0æ¥è§£å†³ã€‚\nW3C\nä¸­ï¼šä¸»è½´ä¸ŠFlexå…ƒç´ çš„overflowå±æ€§æ˜¯visibleæ—¶ï¼Œä¸»è½´ä¸ŠFlexå…ƒç´ çš„æœ€å°å°ºå¯¸ï¼ˆmin-sizeï¼‰å°†ä¼šæŒ‡å®šä¸€ä¸ªè‡ªåŠ¨çš„æœ€å°å°ºå¯¸ï¼Œé€šå¸¸æ˜¯æµè§ˆå™¨ä¼šå°†å…¶è®¾ç½®ä¸ºmax-contentã€‚å› æ­¤éœ€è¦æ˜¾å¼è®¾ç½®æœ€å°å°ºå¯¸ï¼Œå³min-width: 0 / min-height: 0ã€‚\nå½“ä¸æ˜¾å¼è®¾ç½®min-widthæ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹:\nmin-width: 0ï¼Œä½†å½“ä½œä¸ºFlexå…ƒç´ æ—¶:\nmin-width: max-contentã€‚\n","categories":["å‰ç«¯"],"tags":["CSS"]},{"title":"Nestjs","url":"/e17cf402573b/nestjs/","content":"\nè£…é¥°å™¨\nç±»è£…é¥°å™¨\nç±»è£…é¥°å™¨å¯ä»¥ä¿®é¥°ç±»ï¼Œç»™ç±»æ·»åŠ å±æ€§ã€å¢åŠ æ„é€ å‡½æ•°çš„æ‰§è¡Œç­‰ã€‚\n\n/** * constructor å‚æ•°ä¸ºä¸ºè¢«è£…é¥°çš„ç±»çš„æ„é€ å‡½æ•° */function AddAge(constructor: Function) {  return class extends constructor {    age: number = 15;    constructor(...args) {      // æ‰§è¡Œçˆ¶ç±»çš„æ„é€ å‡½æ•°      super(...args);      // è‡ªå·±çš„æ„é€ å‡½æ•°    }  };}@AddAgeclass Person {  constructor(name: string) {}}\næ–¹æ³•è£…é¥°å™¨\næ–¹æ³•è£…é¥°å™¨çš„æ–¹æ³•ç­¾åï¼š(target: Object, propertyKey: string | symbol, descriptor: PropertyDescriptor) =&gt; void | PropertyDescriptor\n/** * @param target ç›®æ ‡å¯¹è±¡ï¼Œå¦‚æœæ˜¯é™æ€æˆå‘˜ï¼Œåˆ™æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼›å¦‚æœæ˜¯å®ä¾‹æˆå‘˜ï¼Œåˆ™æ˜¯ç±»çš„åŸå‹å¯¹è±¡ * @param propertyKey æˆå‘˜åç§° * @param descriptor æˆå‘˜å±æ€§æè¿°ç¬¦ */function Log(  target: Object,  propertyKey: string | symbol,  descriptor: PropertyDescriptor) {  // è·å–æ—§å‡½æ•°  const originalMethod = descriptor.value;  descriptor.value = function (...args) {    // è‡ªå·±æ·»åŠ çš„æ–¹æ³•    const result = originalMethod.apply(this, args);    // è‡ªå·±æ·»åŠ çš„æ–¹æ³•    return result;  };  // è¿”å›çš„ä¼šæ›¿æ¢åŸæœ‰çš„å±æ€§æè¿°ç¬¦ä½œä¸ºæ–¹æ³•çš„å±æ€§æè¿°ç¬¦  return descriptor;}/** * ç¼“å­˜ */function Cache(  target: Object,  propertyKey: string | symbol,  descriptor: PropertyDescriptor) {  const originalMethod = descriptor.value;  const cacheMap = new Map&lt;string, any&gt;();  descriptor.value = function (...args) {    const key = JSON.stringify(args);    if (cacheMap.has(key)) {      return cacheMap.get(key);    }    const result = originalMethod.apply(this, args);    cacheMap.set(key, result);    return result;  };}class Calculator {  @Log  add(a: number, b: number) {    return a + b;  }  @Cache  fac(n: number) {    if (n === 0) return 1;    return n * fac(n - 1);  }}\n","categories":["å‰ç«¯"],"tags":["Nestjs","Node"]},{"title":"React Nativeç¯å¢ƒæ­å»º","url":"/d9519e9a0932/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","content":"\nç¯å¢ƒæ­å»º\nNodeå’ŒJDK\n\nNodeç‰ˆæœ¬\n18\nJDKç‰ˆæœ¬\n\n\n\n\nReact Nativeç‰ˆæœ¬\nJDKç‰ˆæœ¬\n\n\n\n\n 0.73\njdk17\n\n\n 0.73\njdk11\n\n\n 0.67\njdk8\n\n\n\n\nyarnå®‰è£…npm install -g yarnï¼ŒYarnæ˜¯ Facebook æä¾›çš„æ›¿ä»£\nnpmçš„å·¥å…· ## Androidå¼€å‘ç¯å¢ƒ\nä¸‹è½½å®‰è£…Android Studio\nå®‰è£…Android SDKSDK Platforms:\nAndroid API 33SDK Tools:\nAndroid SDK Build-Tools 33.0.0ã€**Android SDK Command-line Tools 12.0**\nè®¾ç½®ç¯å¢ƒå˜é‡é»˜è®¤æƒ…å†µä¸‹Android SDKå®‰è£…åœ¨C:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdkä¸­ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚æ·»åŠ ç¯å¢ƒå˜é‡ï¼šè®¾ç½®ANDROID_HOMEä¸ºC:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdkåœ¨Pathç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼š%ANDROID_HOME%\\platform-toolså’Œ**%ANDROID_HOME%\\cmdline-tools\\12.0\\bin**\n## å‡†å¤‡Androidè®¾å¤‡\nä½¿ç”¨AndroidçœŸæœº\nä½¿ç”¨Androidæ¨¡æ‹Ÿå™¨ä½¿ç”¨Android Studioåˆ›å»ºè™šæ‹Ÿè®¾å¤‡\næ£€æŸ¥è®¾å¤‡æ˜¯å¦å­˜åœ¨ä½¿ç”¨adb devicesæ£€æŸ¥\n\n ## åˆ›å»ºæ¨¡æ¿é¡¹ç›®\n\næ–°å»ºé¡¹ç›®npx react-native init TemplateProject\nç¼–è¯‘è¿è¡Œ cd TemplateProjectyarn android  ## é‡åˆ°çš„é—®é¢˜\nç¯å¢ƒæ£€æŸ¥npx react-native doctorå‘½ä»¤æ£€æŸ¥å½“å‰é¡¹ç›®ä¸­çš„ç¯å¢ƒæ˜¯å¦å®Œå¤‡ã€‚\n\n\n\nimage.png\n\n\nè¯†åˆ«ä¸åˆ°Android SDKå®‰è£…äº†SDKå¹¶ä¸”é…ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æ— æ³•è¯†åˆ«ã€‚éœ€è¦å®‰è£…Android SDK Command-line Tools 12.0ï¼Œå¹¶é…ç½®ç¯å¢ƒå˜é‡ã€‚\nAndroid SDKæ‰“åŒ…å¤±è´¥https://stackoverflow.com/questions/68387270/android-studio-error-installed-build-tools-revision-31-0-0-is-corrupted\n\nä¿®æ”¹%ANDROID_HOME%/build-tools/33.0.0ç›®å½•ä¸­çš„d8.batï¼Œä¿®æ”¹ä¸ºdx.bat\nä¿®æ”¹%ANDROID_HOME%/build-tools/33.0.0/libç›®å½•ä¸­çš„d8.jarï¼Œä¿®æ”¹ä¸ºdx.jar\n# ç»„ä»¶åº“ ç»è¿‡è°ƒç ”ï¼Œå¯ä»¥é€‰å–React Native Elementsç»„ä»¶åº“(é“¾æ¥)ï¼Œè¯¥ç»„ä»¶åº“åœ¨githubæœ‰24k\nstarsï¼Œå±äºå¾ˆæµè¡Œçš„ç»„ä»¶åº“ã€‚ ## å®‰è£…\nè¿™é‡Œé€‰å–React Native CLIæ–¹å¼å®‰è£…ã€‚\n\nå®‰è£…ç»„ä»¶åº“\n\nyarn add @rneui/themed @rneui/base\n\nå®‰è£…ä¾èµ–\n\nyarn add react-native-safe-area-context\nyarn add react-native-vector-icons\n\nè®¾ç½®react-native-vector-icons\n\næ¨èä½¿ç”¨Gradleè®¾ç½®ï¼Œåœ¨android/app/build.gradleæ–‡ä»¶ä¸­æ·»åŠ è¯­å¥apply from: file(\"../../node_modules/react-native-vector-icons/fonts.gradle\")\n# React Navigation å®‰è£…ä¾èµ– yarn add @react-navigation/native// å¦‚æœæ˜¯çº¯react nativeé¡¹ç›®å®‰è£…è¯¥ä¾èµ–yarn add react-native-screens react-native-safe-area-context\nåœ¨android/app/src/main/java/&lt;your package name&gt;åŒ…ä¸‹çš„MainActivityç±»ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š\nclass MainActivity: ReactActivity() {  // ...  override fun onCreate(savedInstanceState: Bundle?) {    super.onCreate(null)  }  // ...}\nåŒæ—¶åœ¨è¿™ä¸ªæ–‡ä»¶æœ€å¼€å¤´å¯¼å…¥ï¼šimport android.os.Bundle;åœ¨Appç»„ä»¶æœ€å¤–ä¾§ä½¿ç”¨NavigationContaineræ ‡ç­¾åŒ…è£¹\n## Stack\nå®‰è£…yarn add @react-navigation/stackå®‰è£…ä¾èµ–yarn add react-native-gesture-handlerä½¿ç”¨åœ¨App.jsæˆ–è€…index.jsæ–‡ä»¶æœ€å¼€å¤´å¼•ç”¨ï¼šimport 'react-native-gesture-handler';\n\n\n","categories":["æŠ€æœ¯"],"tags":["rn"]},{"title":"ReactNativeåŸºç¡€å­¦ä¹ ","url":"/c08510020dc6/reactnative%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/","content":"1 ç¯å¢ƒæ­å»º\n1.1 Nodeå’ŒJDK\n\nNodeç‰ˆæœ¬ \n18\nJDKç‰ˆæœ¬\n\n\n\n\nReact Nativeç‰ˆæœ¬\nJDKç‰ˆæœ¬\n\n\n\n\n 0.73\njdk17\n\n\n 0.73\njdk11\n\n\n 0.67\njdk8\n\n\n\n\n\nyarnå®‰è£…\nnpm install -g yarnï¼ŒYarnæ˜¯ Facebook æä¾›çš„æ›¿ä»£\nnpmçš„å·¥å…·\n\n1.2 Androidå¼€å‘ç¯å¢ƒ\n\nä¸‹è½½å®‰è£…Android Studio\nå®‰è£…Android SDK\nSDK Platforms: Android API 33\nSDK Tools:\nAndroid SDK Build-Tools 33.0.0ã€Android SDK Command-line Tools 12.0\nè®¾ç½®ç¯å¢ƒå˜é‡\né»˜è®¤æƒ…å†µä¸‹Android SDKå®‰è£…åœ¨C:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdkä¸­ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚\næ·»åŠ ç¯å¢ƒå˜é‡ï¼šè®¾ç½®ANDROID_HOMEä¸ºC:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdk\nåœ¨Pathç¯å¢ƒå˜é‡ä¸­æ·»åŠ ï¼š%ANDROID_HOME%\\platform-toolså’Œ%ANDROID_HOME%\\cmdline-tools\\12.0\\bin\n\n1.3 å‡†å¤‡Androidè®¾å¤‡\n\nä½¿ç”¨AndroidçœŸæœº\nä½¿ç”¨Androidæ¨¡æ‹Ÿå™¨\nä½¿ç”¨Android Studioåˆ›å»ºè™šæ‹Ÿè®¾å¤‡\næ£€æŸ¥è®¾å¤‡æ˜¯å¦å­˜åœ¨\nä½¿ç”¨adb devicesæ£€æŸ¥\n\n\n1.4 åˆ›å»ºæ¨¡æ¿é¡¹ç›®\n\næ–°å»ºé¡¹ç›®\nnpx react-native init TemplateProject\nç¼–è¯‘è¿è¡Œ\ncd TemplateProjectyarn android\n\n.gmvsjhxjtqcy{zoom:33%;}\n\n1.5 é‡åˆ°çš„é—®é¢˜\n\nç¯å¢ƒæ£€æŸ¥\nnpx react-native doctorå‘½ä»¤æ£€æŸ¥å½“å‰é¡¹ç›®ä¸­çš„ç¯å¢ƒæ˜¯å¦å®Œå¤‡ã€‚\n\nè¯†åˆ«ä¸åˆ°Android SDK\nå®‰è£…äº†SDKå¹¶ä¸”é…ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯æ— æ³•è¯†åˆ«ã€‚\néœ€è¦å®‰è£…Android SDK Command-line Tools 12.0ï¼Œå¹¶é…ç½®ç¯å¢ƒå˜é‡ã€‚\nAndroid SDKæ‰“åŒ…å¤±è´¥\nhttps://stackoverflow.com/questions/68387270/android-studio-error-installed-build-tools-revision-31-0-0-is-corrupted\n\nä¿®æ”¹%ANDROID_HOME%/build-tools/33.0.0ç›®å½•ä¸­çš„d8.batï¼Œä¿®æ”¹ä¸ºdx.bat\nä¿®æ”¹%ANDROID_HOME%/build-tools/33.0.0/libç›®å½•ä¸­çš„d8.jarï¼Œä¿®æ”¹ä¸ºdx.jar\n\n\n","tags":["React Native"]},{"title":"ReactåŸºç¡€å­¦ä¹ ","url":"/63396b583d7a/react%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/","content":"\n1 jsxè¯­æ³•è§„åˆ™\n\nå®šä¹‰è™šæ‹Ÿdomæ—¶ï¼Œä¸è¦å†™å¼•å·ã€‚\nconst vdom = &lt;h1&gt;lishan&lt;/h1&gt;\næ ‡ç­¾ä¸­å¼•å…¥jsè¡¨è¾¾å¼è¦ç”¨{}\næ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨classï¼Œè¦ç”¨className\nå†…è”æ ·å¼è¦ç”¨style={{key: value}}çš„å½¢å¼ï¼Œç¬¬ä¸€å±‚æ‹¬å·è¡¨ç¤ºå¼•ç”¨jsè¡¨è¾¾å¼ï¼Œç¬¬äºŒå±‚æ‹¬å·è¡¨ç¤ºæ˜¯ä¸€ä¸ªå¯¹è±¡\nåªæœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾\næ ‡ç­¾å¿…é¡»é—­åˆ\næ ‡ç­¾é¦–å­—æ¯\n\nè‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†è¯¥æ ‡ç­¾è½¬ä¸ºhtmlåŒåå…ƒç´ ï¼Œè‹¥htmlæ— åŒåå…ƒç´ ï¼Œåˆ™æŠ¥é”™\nè‹¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactæ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œè‹¥ç»„ä»¶æ²¡å®šä¹‰ï¼Œåˆ™æŠ¥é”™\n\n\n2 ç»„ä»¶\n2.1 å‡½æ•°å¼ç»„ä»¶\nfunction MyComponent() {    console.log(this) // thisæ˜¯undefinedï¼Œå› ä¸ºbabelç¼–è¯‘åå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ï¼Œä¸èƒ½æŒ‡å‘window    return &lt;h1&gt;å‡½æ•°å¼å®šä¹‰çš„ç»„ä»¶&lt;/h1&gt;}// testä¸ºå®šä¹‰çš„idä¸ºtestçš„å®¹å™¨ReactDOM.render(&lt;MyComponent/&gt;, docutment.getElementById(\"test\"))\n\nReactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyCompoentç»„ä»¶ã€‚\nå‘ç°ç»„ä»¶æ˜¯å‡½æ•°å®šä¹‰çš„ï¼Œéšåè°ƒç”¨è¯¥å‡½æ•°ï¼Œå°†è¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œç„¶åæ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚\n\n2.2 ç±»å¼ç»„ä»¶\nclass MyComponent extends React.Component {    render() {        // renderä¸­çš„thisæ˜¯æŒ‡å‘MyComponentçš„å®ä¾‹å¯¹è±¡        return &lt;h2&gt;ç±»å¼ç»„ä»¶&lt;/h2&gt;    }}// æ­¤renderå’Œç±»ä¸­çš„renderä¸ä¸€æ ·ï¼Œåªæ˜¯åå­—ç›¸åŒReactDOM.render(&lt;MyComponent/&gt;, docutment.getElementById(\"test\"))\n\nReactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyCompoentç»„ä»¶ã€‚\nå‘ç°ç»„ä»¶æ˜¯ç±»å®šä¹‰çš„ï¼Œéšånewå‡ºè¯¥ç±»çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡è¯¥å®ä¾‹è°ƒç”¨åŸå‹çš„renderæ–¹æ³•ã€‚\nå°†ç±»ä¸­renderè¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œç„¶åæ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚\n\n3 ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§\n3.1 state\nclass Weather extends React.Component {    constructor(props) {        super(props)        // stateå¿…é¡»æ˜¯å¯¹è±¡å½¢å¼        this.state = {weather: 'ç‚çƒ­'}    }    render() {        // äº‹ä»¶ç»‘å®šonClickï¼Œå’ŒåŸç”Ÿçš„onclickæœ‰æ‰€ä¸åŒï¼ŒåŒæ—¶è¦æ³¨æ„{}ä¸­ä¼ å…¥çš„æ˜¯jsè¡¨è¾¾å¼ï¼Œä¸èƒ½å†™demo()ï¼Œå› ä¸ºè¿™æ ·ä¼šç›´æ¥è°ƒç”¨demo()å°†è¿”å›å€¼ä¼ ç»™onClickï¼Œåº”è¯¥å†™demoä¼ å‡½æ•°å        return &lt;h2 onClick={demo}&gt;å¤©æ°”ï¼š{this.state.weather}&lt;/h2&gt;    }}// æ­¤renderå’Œç±»ä¸­çš„renderä¸ä¸€æ ·ï¼Œåªæ˜¯åå­—ç›¸åŒReactDOM.render(&lt;Weather/&gt;, docutment.getElementById(\"test\"))function demo() {    console.log(\"æ ‡é¢˜è¢«ç‚¹å‡»äº†\")}\nè§£å†³changeWeatherä¸­thisæŒ‡å‘é—®é¢˜\nclass Weather extends React.Component {    constructor(props) {        super(props)        // stateå¿…é¡»æ˜¯å¯¹è±¡å½¢å¼        this.state = {weather: 'ç‚çƒ­'}        // è§£å†³changeWeatherä¸­çš„thisæŒ‡å‘é—®é¢˜        this.changeWeather = this.changeWeather.bind(this)    }    // è°ƒç”¨1+næ¬¡ï¼Œåˆå§‹åŒ–è°ƒç”¨1æ¬¡ï¼Œåç»­çš„æ˜¯ä¿®æ”¹stateåé‡æ–°æ¸²æŸ“    render() {        // this.changeWeatherå¹¶ä¸æ˜¯è°ƒç”¨å‡½æ•°ï¼Œåªæ˜¯èµ‹å€¼ï¼Œé€šè¿‡onClickè°ƒç”¨å‡½æ•°ä¸­çš„thiså¹¶ä¸æ˜¯æŒ‡å‘å®ä¾‹å¯¹è±¡        return &lt;h2 onClick={this.changeWeather}&gt;å¤©æ°”ï¼š{this.state.weather}&lt;/h2&gt;    }    changeWeather() {        // è‡ªå®šä¹‰æ–¹æ³•ä¸­çš„thiså¹¶ä¸æ˜¯æŒ‡å‘Weatherå®ä¾‹å¯¹è±¡ï¼Œå› ä¸ºä¸æ˜¯é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨        // changeWeatheræ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨ï¼Œç±»ä¸­çš„æ–¹æ³•å¼€å¯äº†å±€éƒ¨ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥changeWeatherä¸­çš„thisä¸ºundefined        console.log(\"æ ‡é¢˜è¢«ç‚¹å‡»äº†\")        // è¿™æ˜¯é”™è¯¯å†™æ³•ï¼ŒçŠ¶æ€ä¸å¯ç›´æ¥æ›´æ”¹ï¼Œç›´æ¥ä¿®æ”¹ä¸ä¼šå½±å“åˆ°é¡µé¢        // this.state.weather = \"å‡‰çˆ½\"        // éœ€è¦ä½¿ç”¨thisä¸­çš„setStateå‡½æ•°ä¿®æ”¹ï¼Œä¼ å…¥å¯¹è±¡ï¼ŒæŒ‡å®šéœ€è¦ä¿®æ”¹çš„å±æ€§        this.setState({weather: \"å¾ˆçƒ­\"})    }}// æ­¤renderå’Œç±»ä¸­çš„renderä¸ä¸€æ ·ï¼Œåªæ˜¯åå­—ç›¸åŒReactDOM.render(&lt;Weather/&gt;, docutment.getElementById(\"test\"))\nstateç®€åŒ–æ–¹å¼\nclass Weather extends React.Component {    state = {weather: \"ç‚çƒ­\"}    render() {        return &lt;h2 onClick={this.changeWeather}&gt;å¤©æ°”ï¼š{this.state.weather}&lt;/h2&gt;    }    // ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰thisï¼Œå¦‚æœä½¿ç”¨thisï¼Œä¼šå°†thisèµ‹å€¼ç»™ç®­å¤´å‡½æ•°å¤–ä¾§çš„å‡½æ•°çš„thisæŒ‡å‘    changeWeather = () =&gt; {        console.log(\"æ ‡é¢˜è¢«ç‚¹å‡»äº†\")        this.setState({weather: \"å¾ˆçƒ­\"})    }}ReactDOM.render(&lt;Weather/&gt;, docutment.getElementById(\"test\"))\n3.2 props\nåœ¨ç»„ä»¶æ ‡ç­¾ä¸­å†™å±æ€§å’Œå€¼ï¼Œä¼šä¼ å…¥åˆ°å¯¹è±¡ä¸­çš„propsä¸­ã€‚\nclass Weather extends React.Component {    render() {        return &lt;h2&gt;å¤©æ°”ï¼š{this.props.name}&lt;/h2&gt;    }}ReactDOM.render(&lt;Weather name=\"ç‚çƒ­\"/&gt;, docutment.getElementById(\"test\"))\næ‰¹é‡propsä¼ å…¥\nclass Weather extends React.Component {    render() {        return &lt;h2&gt;å¤©æ°”ï¼š{this.props.name}&lt;/h2&gt;    }}const w = {name: \"å‡‰çˆ½\"}// å…¶ä¸­...wç›¸å½“äºname={w.name}// ...å±•å¼€è¿ç®—ç¬¦å±•å¼€å¯¹è±¡åªé€‚ç”¨äºæ ‡ç­¾å±æ€§çš„ä¼ é€’ï¼Œåˆ«çš„æƒ…å†µä¸é€‚ç”¨ReactDOM.render(&lt;Weather {...w}/&gt;, docutment.getElementById(\"test\"))\npropsçš„é™åˆ¶\nclass Person extends React.Component {    render() {        return (            &lt;h2&gt;å¹´é¾„ï¼š{this.props.age}&lt;/h2&gt;            &lt;h2&gt;åå­—ï¼š{this.props.name}&lt;/h2&gt;        )    }}// è®¾ç½®è§„åˆ™Person.propTypes = {    // name: React.PropTypes.string  // React16åŠä»¥åæ–°ç‰ˆæœ¬ä¸æ”¯æŒè¿™ä¸ªå†™æ³•    name: PropTypes.string.isRequired,  // nameå±æ€§ä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸”å¿…é¡»    age: PropTypes.number  // ageå±æ€§ä¸ºnumberï¼Œå¦‚æœä¸ä¼ ï¼Œé»˜è®¤å€¼ä¸º18    speak: PropTypes.func  // æ³¨æ„ä¸è¦ç”¨functionï¼Œå› ä¸ºfunctionå’Œjsçš„functionå…³é”®å­—å†²çªï¼Œå› æ­¤æ”¹ä¸ºfunc}Person.defaultProps = {    age: 18  // é»˜è®¤å€¼}// ä¼ å…¥çš„æ˜¯18çš„å­—ç¬¦ä¸²// ReactDOM.render(&lt;Person age=\"18\"/&gt;, docutment.getElementById(\"test\"))// ä¼ å…¥çš„æ˜¯18çš„numberç±»å‹ReactDOM.render(&lt;Person age={18} speak={speak}/&gt;, docutment.getElementById(\"test\"))function speak() {    console.log(\"è¯´è¯\")}\npropsçš„ç®€å†™\nclass Person extends React.Component {    render() {        return (            &lt;h2&gt;å¹´é¾„ï¼š{this.props.age}&lt;/h2&gt;            &lt;h2&gt;åå­—ï¼š{this.props.name}&lt;/h2&gt;        )    }    // ä½¿ç”¨staticç»™ç±»è‡ªèº«åŠ å±æ€§ï¼Œéœ€è¦ä½¿ç”¨staticï¼Œå¦åˆ™æ˜¯ç»™å®ä¾‹å¯¹è±¡åŠ å±æ€§    static propTypes = {        name: PropTypes.string.isRequired,        age: PropTypes.number,        speak: PropTypes.func    }    static defaultProps = {        age: 18    }}ReactDOM.render(&lt;Person age={18} speak={speak}/&gt;, docutment.getElementById(\"test\"))function speak() {    console.log(\"è¯´è¯\")}\nå‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props\nfunction MyComponent(props) {    return &lt;h1&gt;{props.name}&lt;/h1&gt;}MyComponent.propTypes = {    name: PropTypes.string.isRequired}ReactDOM.render(&lt;MyComponent name=\"lishan\"/&gt;, docutment.getElementById(\"test\"))\n3.3 refs\nå­—ç¬¦ä¸²å½¢å¼çš„refsï¼ˆä¸æ¨èä½¿ç”¨ï¼Œå¤§é‡ä½¿ç”¨ä¼šæœ‰è¾ƒå¤§çš„æ•ˆç‡é—®é¢˜ï¼‰\nclass Demo extends React.Component {    testRef = () =&gt; {        console.log(this.refs.testh2)    }    render() {        return (        \t&lt;h2 ref=\"testh2\" onClick={this.testRef}&gt;test&lt;/h2&gt;        )    }}\nå›è°ƒå‡½æ•°å½¢å¼çš„refs\nclass Demo extends React.Component {    testRef = () =&gt; {        console.log(this.testh2)    }    render() {        return (            // refä¸­çš„æ˜¯å›è°ƒå‡½æ•°ï¼ŒReactä¼šè‡ªåŠ¨è°ƒç”¨        \t&lt;h2 ref={c =&gt; this.testh2 = c} onClick={this.testRef}&gt;test&lt;/h2&gt;        )    }}\nå›è°ƒå‡½æ•°å½¢å¼çš„refsä¸­çš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°ï¼š\nå¦‚æœrefå›è°ƒå‡½æ•°ä»¥å†…è”å‡½æ•°æ–¹å¼å®šä¹‰ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼ å…¥å‚æ•°ä¸ºnullï¼Œç„¶åç¬¬äºŒæ¬¡ä¼ å…¥å‚æ•°DOMå…ƒç´ ã€‚é€šè¿‡å°†refçš„å›è°ƒå‡½æ•°å®šä¹‰æˆclassçš„ç»‘å®šå‡½æ•°çš„æ–¹å¼é¿å…ä¸Šè¿°é—®é¢˜ã€‚ä½†è¿™ç§å½±å“ä¸æ˜¯å¾ˆå¤§ï¼Œç®€å•èµ·è§å¯ä»¥å†™æˆå†…è”å‡½æ•°æ ·å¼\nclass Demo extends React.Component {    testRef = () =&gt; {        console.log(this.testh2)    }        saveTest = (c) =&gt; {        this.testh2 = c    }        render() {        return (            // jsxä¸­æ³¨é‡Šæ ‡ç­¾ï¼Œéœ€è¦é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œè½¬æˆjså†è¿›è¡Œæ³¨é‡Š            {/* &lt;h2 ref={c =&gt; this.testh2 = c} onClick={this.testRef}&gt;test&lt;/h2&gt; */}            &lt;h2 ref={this.saveTest} onClick={this.testRef}&gt;test&lt;/h2&gt;        )    }}\ncreateRefçš„ä½¿ç”¨ï¼ˆå½“å‰Reactå®˜æ–¹æœ€æ¨èçš„æ–¹å¼ï¼‰\nclass Demo extends React.Component {    // åªèƒ½å­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹æ ‡ç­¾    testh2 = React.createRef()    testRef = () =&gt; {        console.log(this.testh2.current)    }    render() {        return (        \t&lt;h2 ref={this.testh2} onClick={this.testRef}&gt;test&lt;/h2&gt;        )    }}\nâ—ä¸è¦è¿‡åº¦ä½¿ç”¨refs\n4 Reactäº‹ä»¶å¤„ç†\n\né€šè¿‡onXxxå±æ€§æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°\n\nReactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰ï¼ˆåˆæˆï¼‰äº‹ä»¶ï¼Œè€Œä¸æ˜¯åŸç”Ÿçš„DOMäº‹ä»¶\nReactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡å§”æ‰˜æ–¹å¼å¤„ç†çš„ï¼ˆå§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ ï¼‰\n\né€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡ï¼ˆå¯ä»¥çœç•¥éƒ¨åˆ†refçš„ä½¿ç”¨ï¼‰\n\nclass Demo extends React.Component {    testRef = (event) =&gt; {        console.log(event.target)    }    render() {        return (        \t&lt;h2 onClick={this.testRef}&gt;test&lt;/h2&gt;        )    }}\n5 å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶\n5.1 éå—æ§ç»„ä»¶\næ•°æ®â€œç°ç”¨ç°å–â€\nclass Demo extends React.Component {    testNode = React.createRef()    // éœ€è¦ä½¿ç”¨æ—¶é€šè¿‡refè·å–èŠ‚ç‚¹ä»è€Œè·å–å€¼    render() {        return (        \t&lt;input ref={this.testNode} type=\"text\"/&gt;        )    }}\n5.2 å—æ§ç»„ä»¶\nä¾‹å¦‚ï¼Œinputè¾“å…¥çš„æ•°æ®ï¼Œæ¯æ¬¡æ”¹å˜æ—¶å°†æ•°æ®ç»´æŠ¤åˆ°stateä¸­ï¼Œå½“éœ€è¦æ—¶ç›´æ¥ä»stateä¸­è·å–\nclass Demo extends React.Component {    state = {        username: \"default\"    }    saveInput = (event) =&gt; {        this.setState({username: event.target.value})    }    render() {        return (        \t&lt;input onChange={this.saveInput} type=\"text\"/&gt;        )    }}\nğŸ‰\næ¨èä½¿ç”¨å—æ§ç»„ä»¶ï¼Œå‡å°‘refçš„ä½¿ç”¨ã€‚\n6 é«˜é˜¶å‡½æ•°å’ŒæŸ¯é‡ŒåŒ–\n6.1 é«˜é˜¶å‡½æ•°\nå¦‚æœéœ€è¦å®æ—¶ä¿å­˜å¾ˆå¤šè¾“å…¥çš„æ•°æ®ï¼Œå¹¶ä¸”ä¿å­˜çš„æ–¹å¼éƒ½ç›¸åŒï¼Œé‚£ä¹ˆä¸‹é¢è¿™ç§æ–¹å¼ä¼šå¾ˆå†—ä½™éº»çƒ¦ã€‚\nclass Demo extends React.Component {    state = {        username: \"default\",        password: \"password\"    }    saveUsername = (event) =&gt; {        this.setState({username: event.target.value})    }    savePassword = (event) =&gt; {        this.setState({password: event.target.value})    }    render() {        return (            &lt;div&gt;                &lt;input onChange={this.saveUsername} type=\"text\"/&gt;                &lt;input onChange={this.savePassword} type=\"password\"/&gt;            &lt;/div&gt;        )    }}\nå¯ä»¥é‡‡ç”¨ç»™æ–¹æ³•ä¼ å‚æ–¹å¼æ ‡è¯†éœ€è¦ä¿å­˜çš„æ•°æ®æ˜¯å“ªä¸ªç±»å‹ï¼ˆå±æ€§ï¼‰\nclass Demo extends React.Component {    state = {        username: \"default\",        password: \"password\"    }    // æŸ¯é‡ŒåŒ–    saveInfo = (dataInfo) =&gt; {        // è¿™é‡Œè¿”å›ä¸€ä¸ªå‡½æ•°ç»™Reactè°ƒç”¨        return (event) =&gt; {            // å¿…é¡»åŠ ä¸Š[]è¯»å‡ºdataInfoå˜é‡çš„å€¼ï¼Œå¦åˆ™ä¼šè®¤ä¸ºdataInfoæ˜¯ä¸€ä¸ªæ–°çš„å±æ€§ç­‰ä»·äº{\"dataInfo\": event.target.value}            this.setState({[dataInfo]: event.target.value})        }    }    render() {        return (            &lt;div&gt;                &lt;input onChange={this.saveInfo(\"username\")} type=\"text\"/&gt;                &lt;input onChange={this.saveInfo(\"password\")} type=\"password\"/&gt;            &lt;/div&gt;        )    }}\né«˜é˜¶å‡½æ•°çš„å®šä¹‰ï¼š\n\nè‹¥å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£è¯¥å‡½æ•°æ˜¯é«˜é˜¶å‡½æ•°\nè‹¥å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ˜¯é«˜é˜¶å‡½æ•°\n\n6.2 æŸ¯é‡ŒåŒ–\nå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„å½¢å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼ã€‚\n// æŸ¯é‡ŒåŒ–saveInfo = (dataInfo) =&gt; {    // è¿™é‡Œè¿”å›ä¸€ä¸ªå‡½æ•°ç»™Reactè°ƒç”¨    return (event) =&gt; {        // å¿…é¡»åŠ ä¸Š[]è¯»å‡ºdataInfoå˜é‡çš„å€¼ï¼Œå¦åˆ™ä¼šè®¤ä¸ºdataInfoæ˜¯ä¸€ä¸ªæ–°çš„å±æ€§ç­‰ä»·äº{\"dataInfo\": event.target.value}        this.setState({[dataInfo]: event.target.value})    }}\nä¸ä½¿ç”¨æŸ¯é‡ŒåŒ–çš„æ–¹å¼ï¼š\nclass Demo extends React.Component {    state = {        username: \"default\",        password: \"password\"    }    saveInfo = (dataInfo, event) =&gt; {        this.setState({[dataInfo]: event.target.value})    }    render() {        return (            &lt;div&gt;                &lt;input onChange={(event) =&gt; {this.saveInfo(\"username\", event)}} type=\"text\"/&gt;                &lt;input onChange={(event) =&gt; {this.saveInfo(\"password\", event)}} type=\"password\"/&gt;            &lt;/div&gt;        )    }}\n7 ç”Ÿå‘½å‘¨æœŸ\n\n7.1 å¸è½½ç»„ä»¶\nReactDOM.unmountComponentAtNode(document.getElementById(\"test\"))\n7.2 ç»„ä»¶å°†è¦æŒ‚è½½å‘¨æœŸ\nclass Demo extends React.Component {    componentWillMount() {            }    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }}\n7.3 ç»„ä»¶å®ŒæˆæŒ‚è½½å‘¨æœŸï¼ˆå¸¸ç”¨ï¼‰\nclass Demo extends React.Component {    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }    // ç»„ä»¶æŒ‚è½½æ—¶åªè°ƒç”¨ä¸€æ¬¡    componentDidMount() {            }}\n7.4 ç»„ä»¶å°†è¦å¸è½½å‘¨æœŸï¼ˆå¸¸ç”¨ï¼‰\nclass Demo extends React.Component {    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }    componentWillUnmount() {            }}\n7.5 æ˜¯å¦åº”è¯¥ç»„ä»¶æ›´æ–°å‘¨æœŸ\nsetState()ç›´æ¥è§¦å‘è¯¥å‘¨æœŸ\nclass Demo extends React.Component {    // è¯¥é’©å­å¿…é¡»è¿”å›trueæˆ–è€…falseï¼Œè¿”å›trueè¡¨ç¤ºé¡µé¢åº”è¯¥æ›´æ–°ï¼Œå¦åˆ™ä¸æ›´æ–°ã€‚    // Reacté»˜è®¤å®ç°è¯¥é’©å­è¿”å›true    shouldComponentUpdate() {        return true    }    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }}\n7.6 ç»„ä»¶å°†è¦æ›´æ–°å‘¨æœŸ\nforceUpdate()ç›´æ¥è§¦å‘è¯¥å‘¨æœŸ\nclass Demo extends React.Component {    componentWillUpdate() {    }    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }}\n7.7 ç»„ä»¶å®Œæˆæ›´æ–°å‘¨æœŸ\nclass Demo extends React.Component {    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }        componentDidUpdate(preProps, preState) {    }}\n7.8 ç»„ä»¶å°†è¦æ¥æ”¶Propså‘¨æœŸ\nclass Demo extends React.Component {    state = {name: \"lishan\"}    change = () =&gt; {        // æ‰§è¡Œåä¼šè§¦å‘stateä¿®æ”¹ï¼Œçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼ˆç¬¬ä¸€æ¬¡æ¸²æŸ“ä¸ä¼šæ‰§è¡Œï¼‰åä¼šæ‰§è¡Œå­ç»„ä»¶componentWillReceivePropsé’©å­åŠåç»­é’©å­        this.setState({name: \"test\"})    }    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;                &lt;B name={this.state.name}/&gt;                &lt;button onClick={this.change}&gt;ä¿®æ”¹&lt;/button&gt;            &lt;/div&gt;        )    }}class B extends React.Component {    // å‚æ•°ä¸ºä¼ å…¥çš„propsï¼ˆï¼‰    componentWillReceiveProps(props) {            }    render() {        return &lt;div&gt;{this.props.name}&lt;/div&gt;    }}\n7.9 æ–°æ—§ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”\næ–°ç”Ÿå‘½å‘¨æœŸå›¾ï¼š\n.kttjjtlxnvep{zoom:80%;}\n\n7.10 ä»Propsè·å¾—æ´¾ç”ŸçŠ¶æ€å‘¨æœŸ\nè¿™ä¸ªé’©å­ä½¿ç”¨æå…¶ç½•è§\nclass Demo extends React.Component {    state = {count: 0}    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }    // å¿…é¡»æ˜¯é™æ€æ–¹æ³•ï¼Œä¸”è¦è¿”å›stateå¯¹è±¡æˆ–è€…null    // å¦‚æœstateçš„å€¼å®Œå…¨å–å†³äºpropsï¼Œå¯ä»¥ä½¿ç”¨è¯¥é’©å­ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ›¿ä»£ï¼Œæ‰€ä»¥è¯¥é’©å­åº”å½“å°½é‡é¿å…ä½¿ç”¨    static getDerivedStateFromProps(props, state) {        return null        // å¦‚æœè¿”å›ç±»ä¼¼äºstateå¯¹è±¡çš„å€¼ï¼Œä¼šè¦†ç›–åŸæœ‰stateå¯¹è±¡ä¸­çš„å±æ€§        // return {count: 100}    }}\n7.11 æ›´æ–°å‰è·å¾—å¿«ç…§å‘¨æœŸ\nclass Demo extends React.Component {    state = {count: 0}    // åˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨    render() {        return (            &lt;div&gt;test&lt;/div&gt;        )    }    // è¿”å›çš„å€¼ï¼ˆnullæˆ–è€…å¿«ç…§å€¼å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ï¼Œæ•°ç»„ã€å¯¹è±¡ï¼‰ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdateç¬¬ä¸‰ä¸ªå‚æ•°    getSnapshotBeforeUpdate(preProps, preState) {        return null    }    componentDidUpdate(preProps, preState, snapshot) {            }}\n8 diffingç®—æ³•\n\nè™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š\n\nç®€å•çš„è¯´: keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†,\nåœ¨æ›´æ–°æ˜¾ç¤ºæ—¶keyèµ·ç€æå…¶é‡è¦çš„ä½œç”¨ã€‚\nè¯¦ç»†çš„è¯´:\nå½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œreactä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘,\néšåReactè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„diffæ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š\n\næ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š\n\nè‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOM\nè‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†,\nåˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOM\n\næ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyæ ¹æ®æ•°æ®åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢\n\n\nç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š 1.\nè‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:\nä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚ 2.\nå¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚ 3.\næ³¨æ„ï¼å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œ\nä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚\nå¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:\n\næœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey,\næ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚\nå¦‚æœç¡®å®šåªæ˜¯ç®€å•çš„å±•ç¤ºæ•°æ®ï¼Œç”¨indexä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\n\n\n9 è„šæ‰‹æ¶\n9.1 åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨\n\nå…¨å±€å®‰è£…npm install -g create-react-app\nåœ¨éœ€è¦åˆ›å»ºé¡¹ç›®çš„ç›®å½•ä¸‹create-react-app hello-react\nè¿›å…¥hello-reactç›®å½•\nå‘½ä»¤è¡Œæ‰§è¡Œnpm run startå¯åŠ¨é¡¹ç›®å³å¯çœ‹åˆ°é»˜è®¤é¡µé¢\n\n9.2 æ ·å¼çš„æ¨¡å—åŒ–\næ ·å¼æ–‡ä»¶åè¦ä»¥xxx.module.cssç»“å°¾\n.color {  background-color: aqua;}\nåœ¨jsxç»„ä»¶é‡Œå¼•å…¥\nimport hello from \"./Hello.module.css\"function Hello() {  return &lt;div className={hello.color}&gt;Hello React! test&lt;/div&gt;}export default Hello;\næ ·å¼æ¨¡å—åŒ–ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢ä¸åŒç»„ä»¶ä¸­æ ·å¼åç›¸åŒå¯¼è‡´çš„æ ·å¼è¦†ç›–é—®é¢˜ã€‚æˆ–è€…ä½¿ç”¨lessåµŒå¥—ç¼–å†™æ ·å¼ã€‚\n9.3 vscodeæ’ä»¶\nvscodeæ’ä»¶ï¼Œæä¾›ä¸€äº›ä»£ç ç‰‡æ®µï¼Œæé«˜ç¼–ç é€Ÿåº¦\n\n9.4 ç»„ä»¶åŒ–ç¼–ç æµç¨‹\n\næ‹†åˆ†ç»„ä»¶ï¼šæ‹†åˆ†ç•Œé¢ï¼ŒæŠ½å–ç»„ä»¶\nå®ç°é™æ€ç»„ä»¶ï¼šä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ\nå®ç°åŠ¨æ€ç»„ä»¶ï¼š\n\nåŠ¨æ€æ˜¾ç¤ºåˆå§‹åŒ–æ•°æ®\n\næ•°æ®ç±»å‹\næ•°æ®åç§°\nä¿å­˜åœ¨å“ªä¸ªç»„ä»¶\n\näº¤äº’ï¼ˆä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹ï¼‰\n\n\n10 æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒpubsub\n\nå®‰è£…åŒ…\nnpm install pubsub-js\nå¼•å…¥\nimport PubSub from \"pubsub-js\"\nè®¢é˜…æ¶ˆæ¯\nimport React, { Component } from \"react\"import PubSub from \"pubsub-js\"export default class Subscribe extends Component {  state = { info: \"lishan\" }  // æ¥æ”¶æ¶ˆæ¯çš„æ–¹æ³•å‚æ•°ä¸ºä¸¤ä¸ªåˆ†åˆ«æ˜¯æ¶ˆæ¯åï¼ˆä¸»é¢˜åï¼‰å’Œæ¥å—çš„å®é™…æ•°æ®  receiveInfo = (msg, info) =&gt; {    this.setState({ info })  }  // ç»„ä»¶æŒ‚è½½å®Œæˆåè®¢é˜…æ¶ˆæ¯  componentDidMount() {    // è®¢é˜…å“ªä¸ªæ¶ˆæ¯ï¼Œä»¥åŠç”¨å“ªä¸ªæ–¹æ³•å¤„ç†è¯¥æ¶ˆæ¯çš„æ•°æ®ï¼Œè¿”å›toeknè¡¨ç¤ºè¯¥è®¢é˜…çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ–¹ä¾¿åæœŸå–æ¶ˆè®¢é˜…    this.token = PubSub.subscribe(\"test\", this.receiveInfo)  }  /*  æˆ–è€…è¿™ä¹ˆå†™ï¼Œç›´æ¥å†™åœ¨è®¢é˜…é‡Œ  componentDidMount() {    this.token = PubSub.subscribe(\"test\", (msg, info) =&gt; {      this.setState({ info })    })  }  */      // ç»„ä»¶å°†è¦å¸è½½æ—¶å–æ¶ˆè®¢é˜…  componentWillUnmount() {    PubSub.unsubscribe(this.token)  }  render() {    return &lt;div&gt;{this.state.info}&lt;/div&gt;  }}\nå‘å¸ƒæ¶ˆæ¯\nimport PubSub from \"pubsub-js\"import React, { Component } from \"react\"export default class Publish extends Component {  sendInfo = () =&gt; {    // å‘é€æ¶ˆæ¯ï¼Œå‚æ•°ä¸ºæ¶ˆæ¯åï¼ˆä¸»é¢˜åï¼‰å’Œå®é™…çš„æ•°æ®    PubSub.publish(\"test\", \"test PubSub\")  }  render() {    return (      &lt;div&gt;        &lt;button onClick={this.sendInfo}&gt;å‘é€æ¶ˆæ¯&lt;/button&gt;      &lt;/div&gt;    )  }}\n\n11 fetch(å¾…æ›´æ–°)\n12 React-Router 5\n12.1 åº“å®‰è£…\nreact-routeræ€»å…±åˆ†ä¸ºä¸‰ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«ç»™web\nnativeå’Œä»»æ„ç«¯ä½¿ç”¨ï¼Œè¿™é‡Œåªå®‰è£…webç«¯ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚\nnpm install react-router-dom\n12.2 ç®€å•ä½¿ç”¨\nâ—å½“å‰ç‰ˆæœ¬ä¸º5ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬ä¼šæœ‰ä¸åŒ\nApp.jsxä»£ç \nimport React, { Component } from \"react\"import { BrowserRouter as Router, Route, Link } from \"react-router-dom\"import Home from \"./components/Home\"import About from \"./components/About\"export default class App extends Component {  render() {    return (      // ä¸¤ä¸ªç»„ä»¶éƒ½éœ€è¦åŒ…åœ¨Routeræ ‡ç­¾é‡Œ      &lt;Router&gt;        &lt;div&gt;            {/* Linkç»„ä»¶æ§åˆ¶è·³è½¬åˆ°å“ªä¸ªé“¾æ¥ */}          &lt;Link to=\"/home\"&gt;home&lt;/Link&gt;&lt;br /&gt;          &lt;Link to=\"/about\"&gt;about&lt;/Link&gt;&lt;br /&gt;            {/* Routeç»„ä»¶æ§åˆ¶é“¾æ¥å¯¹åº”çš„ç»„ä»¶ã€‚å½“å‰æ˜¯5ç‰ˆæœ¬çš„è·¯ç”±ï¼Œ6ç‰ˆæœ¬çš„è·¯ç”±ä¼šå‡ºç°ä¸€äº›å˜åŒ– */}          &lt;Route path=\"/home\" component={Home} /&gt;          &lt;Route path=\"/about\" component={About} /&gt;        &lt;/div&gt;      &lt;/Router&gt;    )  }}\nHomeç»„ä»¶ä»£ç \nimport React, { Component } from \"react\"export default class Home extends Component {  render() {    return &lt;button&gt;Home&lt;/button&gt;  }}\nAboutç»„ä»¶ä»£ç \nimport React, { Component } from \"react\";export default class About extends Component {  render() {    return &lt;button&gt;About&lt;/button&gt;;  }}\n12.3 è·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶\n\nå†™æ³•ä¸åŒï¼š\nä¸€èˆ¬ç»„ä»¶ï¼š&lt;Demo /&gt;\nè·¯ç”±ç»„ä»¶ï¼š&lt;Route path=\"/demo \" component={Demo } /&gt;\nå­˜æ”¾ä½ç½®ä¸åŒ\nä¸€èˆ¬ç»„ä»¶ï¼šcomponents\nè·¯ç”±ç»„ä»¶ï¼špages\næ¥æ”¶åˆ°çš„propsä¸åŒ\nè·¯ç”±ç»„ä»¶ä¼šæ”¶åˆ°ä»¥ä¸‹å†…å®¹ï¼ˆåªåˆ—ä¸¾å‡ºå¸¸ç”¨çš„ï¼‰ï¼š\nhistory: \taction: \"PUSH\"\tblock: Æ’ block(prompt)\tcreateHref: Æ’ createHref(location)\tgo: Æ’ go(n)\tgoBack: Æ’ goBack()\tgoForward: Æ’ goForward()\tlength: 4\tlisten: Æ’ listen(listener)\tpush: Æ’ push(path, state)\treplace: Æ’ replace(path, state)location: \thash: \"\"\tkey: \"o2ti2g\"\tpathname: \"/home\"\tsearch: \"\"\tstate: undefinedmatch: \tisExact: true\tparams: {}\tpath: \"/home\"\turl: \"/home\"\n\n12.4 NavLinkç»„ä»¶\nNavLinkå¯ä»¥æŒ‡å®šé€‰ä¸­æŸä¸ªé“¾æ¥æ—¶ä½¿ç”¨å“ªä¸ªæ ·å¼\n&lt;NavLink activeClassName=\"class-name\" to=\"/home\"&gt;home&lt;/NavLink&gt;\nå°è£…NavLinkç»„ä»¶\nå¦‚æœå¤šä¸ªNavLinkç»„ä»¶å…±ç”¨æ ·å¼ï¼Œä¼šé€ æˆæ ·å¼çš„ä»£ç å†—ä½™ï¼Œå¯¹æ­¤è¿›è¡Œå°è£…ä¸ºMyNavLinkç»„ä»¶ï¼Œä»£ç ä¸ºï¼š\nimport React, { Component } from \"react\";import { NavLink } from \"react-router-dom\";export default class MyNavLink extends Component {  render() {    return &lt;NavLink activeClassName=\"\" className=\"\" {...this.props} /&gt;  }}\nåœ¨å…¶ä»–ç»„ä»¶ä½¿ç”¨æ—¶ç›´æ¥å’ŒNavLinkç»„ä»¶ä¸€æ ·ä½¿ç”¨å³å¯ï¼š\n&lt;MyNavLink to=\"/home\" otherParams={1}&gt;Home&lt;/MyNavLink&gt;\nâ—ç»„ä»¶ä½¿ç”¨propsä¼ å€¼æ—¶ï¼Œé™¤äº†å¯ä»¥è‡ªå®šä¹‰æ ‡ç­¾å±æ€§ä¼ å€¼å¦‚ï¼š&lt;Demo a={1} /&gt;ï¼Œè¿™æ ·ä¼šå°†aä¼ é€’åˆ°this.props.aä¸­ã€‚ä¹Ÿå¯ä»¥å°†æ ‡ç­¾ä½“ä¸­çš„å†…å®¹ä¼ é€’åˆ°propsä¸­ï¼Œä½¿ç”¨this.props.childrenå±æ€§ä¿å­˜æ ‡ç­¾ä½“çš„å†…å®¹ï¼Œæ ‡ç­¾ä½“å­˜å‚¨çš„keyè¿™ä¸ªæ˜¯å›ºå®šçš„åå­—æ— æ³•ä¿®æ”¹ã€‚\nè‡ªå®šä¹‰å°è£…çš„MyNavLinkç»„ä»¶ï¼Œåœ¨æ ‡ç­¾ä½“ä¸­å†™å…¥å†…å®¹ä¼šè¢«ä¼ åˆ°this.props.childrenä¸­ï¼Œè€Œchildrenä¼šä¼ é€’ç»™NavLinkä¸­çš„æ ‡ç­¾å±æ€§ä¸­çš„childrenï¼Œè¾¾åˆ°&lt;NavLink&gt;test&lt;/NavLink&gt;çš„æ•ˆæœã€‚\n12.5 Switchç»„ä»¶\nè¿›è¡Œè·¯ç”±åŒ¹é…æ—¶ï¼Œä¼šé€ä¸ªæ¯”å¯¹åŒ¹é…ï¼Œå¦‚æœæœ‰å¤šä¸ªè·¯å¾„åŒ¹é…åˆ™ä¼šå±•ç¤ºå¤šä¸ªç»„ä»¶é¡µé¢ï¼Œå½±å“æ•ˆç‡ã€‚æ­¤æ—¶åœ¨å¤–å±‚åŒ…è£¹Switchç»„ä»¶ï¼Œä¿è¯åŒ¹é…ä¸Šä¸€ä¸ªè·¯ç”±ååœæ­¢åŒ¹é…ã€‚ï¼ˆå› ä¸ºå¤šæ•°æƒ…å†µä¸‹ä¸€ä¸ªè·¯å¾„åŒ¹é…ä¸€ä¸ªç»„ä»¶ï¼‰\n&lt;Switch&gt;  &lt;Route path=\"/home\" component={Home} /&gt;  &lt;Route path=\"/about\" component={About} /&gt;&lt;/Switch&gt;\n12.6 å¤šçº§è·¯ç”±åˆ·æ–°é¡µé¢å¤®è§†ä¸¢å¤±\n\npublic/index.htmlä¸­å¼•å…¥æ ·å¼æ—¶ä¸ç”¨./ç”¨/\npublic/index.htmlä¸­å¼•å…¥æ ·å¼æ—¶ä¸ç”¨./ç”¨%PUBLIC_URL%ï¼ˆå¸¸ç”¨ï¼‰ï¼Œ%PUBLIC_URL%è„šæ‰‹æ¶æä¾›çš„ï¼Œè¡¨ç¤ºç»å¯¹è·¯å¾„\n\n12.7 è·¯ç”±æ¨¡ç³ŠåŒ¹é…ä¸ä¸¥æ ¼åŒ¹é…\nReacté»˜è®¤å¼€å§‹æ¨¡ç³ŠåŒ¹é…\n&lt;Link to=\"/home\"&gt;home&lt;/Link&gt;&lt;br /&gt;&lt;Link to=\"/about/a/b\"&gt;about&lt;/Link&gt;&lt;br /&gt;{/* Routeç»„ä»¶æ§åˆ¶é“¾æ¥å¯¹åº”çš„ç»„ä»¶ã€‚å½“å‰æ˜¯5ç‰ˆæœ¬çš„è·¯ç”±ï¼Œ6ç‰ˆæœ¬çš„è·¯ç”±ä¼šå‡ºç°ä¸€äº›å˜åŒ– */}&lt;Route path=\"/home\" component={Home} /&gt;&lt;Route path=\"/about\" component={About} /&gt;\nå¦‚ä¸Šæ‰€ç¤ºçš„ä»£ç ï¼Œé»˜è®¤æ¨¡ç³ŠåŒ¹é…æ—¶ï¼Œé“¾æ¥è®¾ç½®çš„è·¯å¾„å‰ç¼€åŒ…å«è·¯ç”±çš„è·¯å¾„ï¼Œåˆ™å¯ä»¥åŒ¹é…ä¸Šã€‚\n&lt;Route exact path=\"/about\" component={About} /&gt;\nå¦‚æœå¼€å¯ä¸¥æ ¼åŒ¹é…åˆ™ä¸èƒ½åŒ¹é…ä¸Šã€‚\nâ—é»˜è®¤æƒ…å†µä¸‹ä¸åšä¿®æ”¹ï¼Œåªç”¨æ¨¡ç³ŠåŒ¹é…å³å¯ã€‚å¦‚æœå‡ºç°ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…å¯¼è‡´é¡µé¢æœ‰é—®é¢˜ï¼Œå†å¼€å¯ä¸¥æ ¼åŒ¹é…ã€‚\n12.8 Redirecté‡å®šå‘\n&lt;Route path=\"/home\" component={Home} /&gt;&lt;Route path=\"/about\" component={About} /&gt;// ä¸€èˆ¬æŠŠRedirectç»„ä»¶å†™åœ¨æ‰€æœ‰è·¯ç”±ç»„ä»¶æœ€ä¸‹æ–¹&lt;Redirect to=\"/home\" /&gt;\n12.9 åµŒå¥—è·¯ç”±\nä¸€çº§è·¯ç”±\n&lt;Switch&gt;    &lt;Route path=\"/home\" component={Home} /&gt;    &lt;Route path=\"/about\" component={About} /&gt;&lt;/Switch&gt;\näºŒçº§è·¯ç”±\n// æ³¨å†Œå­è·¯ç”±è¦å†™ä¸Šçˆ¶è·¯ç”±çš„pathå€¼&lt;MyNavLink to=\"/home/news\"&gt;News&lt;/MyNavLink&gt;&lt;MyNavLink to=\"/home/message\"&gt;Message&lt;/MyNavLink&gt;&lt;Switch&gt;    &lt;Route path=\"/home/news\" component={News} /&gt;    &lt;Route path=\"/home/message\" component={Message} /&gt;&lt;/Switch&gt;\nç‚¹å‡»/homeï¼Œè·¯ç”±åŒ¹é…æ—¶ï¼Œä¼šæŒ‰ç…§æ³¨å†Œé¡ºåºè¿›è¡ŒåŒ¹é…ï¼Œé¦–å…ˆå±•ç¤ºä¸€çº§è·¯ç”±ï¼Œè·¯ç”±æŒ‰é¡ºåºåŒ¹é…ï¼ŒåŒ¹é…åˆ°äº†/homeè·¯å¾„å±•ç¤ºHomeç»„ä»¶ï¼Œè¯¥ç»„ä»¶ä¼šæœ‰News Messageä¸¤ä¸ªè·¯ç”±ç»„ä»¶ã€‚å½“ç‚¹å‡»/home/newsæ—¶ï¼Œæ ¹æ®è·¯ç”±çš„æ¨¡ç³ŠåŒ¹é…ï¼Œé¦–å…ˆä¼šåŒ¹é…åˆ°ä¸€çº§è·¯ç”±/homeï¼Œæ¸²æŸ“è¯¥ç»„ä»¶åˆ°é¡µé¢ä¸­ï¼Œä¼šæŠŠå­ç»„ä»¶ä¹Ÿæ¸²æŸ“ï¼Œå°±ä¼šæ³¨å†ŒäºŒçº§è·¯ç”±ï¼Œè¿›è€Œè¿›è¡Œè·¯ç”±åŒ¹é…ï¼Œä¼šåŒ¹é…åˆ°/home/newsï¼Œå±•ç¤ºNewsç»„ä»¶ã€‚\næ­¤æ—¶å¦‚æœå¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œåˆ™ä¼šå¯¼è‡´ä¸èƒ½ä½¿ç”¨äºŒçº§è·¯ç”±ï¼Œå› ä¸ºä¸€çº§è·¯ç”±æ²¡æœ‰åŒ¹é…ä¸Šï¼ŒäºŒçº§è·¯ç”±æ— æ³•æ³¨å†Œï¼Œä¹Ÿæ— æ³•åŒ¹é…ã€‚\n12.10 è·¯ç”±ä¼ å‚\n\nä¼ é€’paramså‚æ•°\n&lt;MyNavLink to=\"/home/news\"&gt;News&lt;/MyNavLink&gt;// é€šè¿‡åœ¨é“¾æ¥æœ€åæ‹¼æ¥çš„æ–¹å¼å°†å‚æ•°æºå¸¦åˆ°é“¾æ¥é‡Œ&lt;MyNavLink to={`/home/message/${infoId}`}&gt;Message&lt;/MyNavLink&gt;&lt;Switch&gt;    &lt;Route path=\"/home/news\" component={News} /&gt;    {/* æ¥æ”¶å‚æ•°æ—¶ä½¿ç”¨ :infoId çš„å½¢å¼å ä½ï¼Œè¡¨ç¤ºæ¥æ”¶å‚æ•°å¹¶æŒ‡å®šå‚æ•°çš„åå­— */}    &lt;Route path=\"/home/message/:infoId\" component={Message} /&gt;&lt;/Switch&gt;\næ¥æ”¶åˆ°çš„å‚æ•°åœ¨ç»„ä»¶é‡Œçš„this.props.match.paramså¯¹è±¡é‡Œã€‚\nä¼ é€’searchå‚æ•°\n&lt;MyNavLink to=\"/home/news\"&gt;News&lt;/MyNavLink&gt;// é€šè¿‡?åœ¨é“¾æ¥æœ€åæ‹¼æ¥key=value&amp;key=valueçš„å½¢å¼ä¼ å‚&lt;MyNavLink to={`/home/message?infoId=${infoId}`}&gt;Message&lt;/MyNavLink&gt;&lt;Switch&gt;    &lt;Route path=\"/home/news\" component={News} /&gt;    {/* æ³¨å†Œè·¯ç”±æ— éœ€æ”¹å˜ */}    &lt;Route path=\"/home/message\" component={Message} /&gt;&lt;/Switch&gt;\næ¥æ”¶åˆ°çš„å‚æ•°ä¿å­˜åœ¨ï¼šthis.props.location.searchå­—ç¬¦ä¸²é‡Œï¼Œæ˜¯ä¸€ä¸ªurlencodedç¼–ç çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æˆå­—å…¸å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“querystringç®€ç§°qsã€‚\nä¼ é€’stateå‚æ•°\n&lt;MyNavLink to=\"/home/news\"&gt;News&lt;/MyNavLink&gt;// æŠŠtoå±æ€§çš„å€¼å†™æˆä¸€ä¸ªå¯¹è±¡&lt;MyNavLink to={{pathname: \"/home/message\", state: {infoId: 1}}}&gt;Message&lt;/MyNavLink&gt;&lt;Switch&gt;    &lt;Route path=\"/home/news\" component={News} /&gt;    &lt;Route path=\"/home/message\" component={Message} /&gt;&lt;/Switch&gt;\næ¥æ”¶åˆ°çš„å‚æ•°ä¿å­˜åœ¨this.props.location.stateå¯¹è±¡ä¸­ã€‚æ­¤ç§æ–¹å¼ä¼ é€’çš„å‚æ•°ä¸ä¼šæ˜¾ç¤ºåœ¨åœ°å€æ ä¸­ï¼Œéšç§æ€§è¾ƒé«˜ã€‚åˆ·æ–°ä¹Ÿä¼šä¿ç•™ä½å‚æ•°ã€‚å¦‚æœæ¸…é™¤ç¼“å­˜ï¼Œåˆ™ä¸ä¼šä¿ç•™ä½ã€‚\n\n12.11 pushå’Œreplace\né»˜è®¤ä½¿ç”¨pushæ¨¡å¼ï¼Œåˆ‡æ¢è·¯ç”±ä¼šå‘å†å²æ ˆä¸­å‹æ ˆï¼Œå¦‚æœä½¿ç”¨replaceåˆ™ä¼šæ›¿æ¢å½“å‰é¡µé¢ï¼Œä¸ä¼šå‹æ ˆã€‚\n12.12 ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª\nç¼–ç¨‹å¼ä»£æ›¿Linkç»„ä»¶ã€‚\n// ä¼ é€’paramsthis.props.history.push(`/home/message/${id}`)this.props.history.replace(`/home/message/${id}`)// ä¼ é€’searchthis.props.history.push(`/home/message?id=1`)this.props.history.replace(`/home/message?id=1`)// ä¼ é€’statethis.props.history.push(\"/home/message\", {id: 1})this.props.history.replace(\"/home/message\", {id: 1})\n12.13 withRouter\nä¸»è¦ç”¨äºä¸€èˆ¬ç»„ä»¶ä¸­ä½¿ç”¨è·¯ç”±ç»„ä»¶ç‰¹æœ‰çš„æ–¹æ³•å¦‚ï¼špush replaceç­‰ã€‚\nimport {withRouter} from \"react-router-dom\"class Home extends Component {    }// åˆ°å¤„å‰ä½¿ç”¨withRouterå‡½æ•°åŒ…è£…ä¸€ä¸‹ï¼Œå³å¯ä½¿Homeç»„ä»¶æ‹¥æœ‰è·¯ç”±ç»„ä»¶çš„å‚æ•°ï¼Œå³å¯ä½¿ç”¨pushç­‰æ–¹æ³•export default withRouter(Home)\n13 redux(å¾…æ›´æ–°)\n14 æ‰©å±•\n14.1 setState\nsetStateæ›´æ–°çŠ¶æ€çš„2ç§å†™æ³•\n\t(1). setState(stateChange, [callback])------å¯¹è±¡å¼çš„setState            1.stateChangeä¸ºçŠ¶æ€æ”¹å˜å¯¹è±¡(è¯¥å¯¹è±¡å¯ä»¥ä½“ç°å‡ºçŠ¶æ€çš„æ›´æ”¹)            2.callbackæ˜¯å¯é€‰çš„å›è°ƒå‡½æ•°, å®ƒåœ¨çŠ¶æ€æ›´æ–°å®Œæ¯•ã€ç•Œé¢ä¹Ÿæ›´æ–°å(renderè°ƒç”¨å)æ‰è¢«è°ƒç”¨\t\t\t\t\t\t(2). setState(updater, [callback])------å‡½æ•°å¼çš„setState            1.updaterä¸ºè¿”å›stateChangeå¯¹è±¡çš„å‡½æ•°ã€‚            2.updaterå¯ä»¥æ¥æ”¶åˆ°stateå’Œpropsã€‚            4.callbackæ˜¯å¯é€‰çš„å›è°ƒå‡½æ•°, å®ƒåœ¨çŠ¶æ€æ›´æ–°ã€ç•Œé¢ä¹Ÿæ›´æ–°å(renderè°ƒç”¨å)æ‰è¢«è°ƒç”¨ã€‚æ€»ç»“:\t\t1.å¯¹è±¡å¼çš„setStateæ˜¯å‡½æ•°å¼çš„setStateçš„ç®€å†™æ–¹å¼(è¯­æ³•ç³–)\t\t2.ä½¿ç”¨åŸåˆ™ï¼š\t\t\t\t(1).å¦‚æœæ–°çŠ¶æ€ä¸ä¾èµ–äºåŸçŠ¶æ€ ===&gt; ä½¿ç”¨å¯¹è±¡æ–¹å¼\t\t\t\t(2).å¦‚æœæ–°çŠ¶æ€ä¾èµ–äºåŸçŠ¶æ€ ===&gt; ä½¿ç”¨å‡½æ•°æ–¹å¼\t\t\t\t(3).å¦‚æœéœ€è¦åœ¨setState()æ‰§è¡Œåè·å–æœ€æ–°çš„çŠ¶æ€æ•°æ®, \t\t\t\t\tè¦åœ¨ç¬¬äºŒä¸ªcallbackå‡½æ•°ä¸­è¯»å–\n14.2 lazyLoad\nè·¯ç”±ç»„ä»¶çš„lazyLoad\n//1.é€šè¿‡Reactçš„lazyå‡½æ•°é…åˆimport()å‡½æ•°åŠ¨æ€åŠ è½½è·¯ç”±ç»„ä»¶ ===&gt; è·¯ç”±ç»„ä»¶ä»£ç ä¼šè¢«åˆ†å¼€æ‰“åŒ…const Login = lazy(()=&gt;import('@/pages/Login'))//2.é€šè¿‡&lt;Suspense&gt;æŒ‡å®šåœ¨åŠ è½½å¾—åˆ°è·¯ç”±æ‰“åŒ…æ–‡ä»¶å‰æ˜¾ç¤ºä¸€ä¸ªè‡ªå®šä¹‰loadingç•Œé¢&lt;Suspense fallback={&lt;h1&gt;loading.....&lt;/h1&gt;}&gt;       &lt;Switch&gt;           &lt;Route path=\"/xxx\" component={Xxxx}/&gt;           &lt;Redirect to=\"/login\"/&gt;       &lt;/Switch&gt;   &lt;/Suspense&gt;\n14.3 Hooks\n\nReact Hook/Hooksæ˜¯ä»€ä¹ˆ?\n\n(1). Hookæ˜¯React 16.8.0ç‰ˆæœ¬å¢åŠ çš„æ–°ç‰¹æ€§/æ–°è¯­æ³•(2). å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§\n\nä¸‰ä¸ªå¸¸ç”¨çš„Hook\n\n(1). State Hook: React.useState()(2). Effect Hook: React.useEffect()(3). Ref Hook: React.useRef()\n\nState Hook\n\n(1). State Hookè®©å‡½æ•°ç»„ä»¶ä¹Ÿå¯ä»¥æœ‰stateçŠ¶æ€, å¹¶è¿›è¡ŒçŠ¶æ€æ•°æ®çš„è¯»å†™æ“ä½œ(2). è¯­æ³•: const [xxx, setXxx] = React.useState(initValue)  (3). useState()è¯´æ˜:        å‚æ•°: ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æŒ‡å®šçš„å€¼åœ¨å†…éƒ¨ä½œç¼“å­˜        è¿”å›å€¼: åŒ…å«2ä¸ªå…ƒç´ çš„æ•°ç»„, ç¬¬1ä¸ªä¸ºå†…éƒ¨å½“å‰çŠ¶æ€å€¼, ç¬¬2ä¸ªä¸ºæ›´æ–°çŠ¶æ€å€¼çš„å‡½æ•°(4). setXxx()2ç§å†™æ³•:        setXxx(newValue): å‚æ•°ä¸ºéå‡½æ•°å€¼, ç›´æ¥æŒ‡å®šæ–°çš„çŠ¶æ€å€¼, å†…éƒ¨ç”¨å…¶è¦†ç›–åŸæ¥çš„çŠ¶æ€å€¼        setXxx(value =&gt; newValue): å‚æ•°ä¸ºå‡½æ•°, æ¥æ”¶åŸæœ¬çš„çŠ¶æ€å€¼, è¿”å›æ–°çš„çŠ¶æ€å€¼, å†…éƒ¨ç”¨å…¶è¦†ç›–åŸæ¥çš„çŠ¶æ€å€¼\n\nEffect Hook\n\n(1). Effect Hook å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ(ç”¨äºæ¨¡æ‹Ÿç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­)(2). Reactä¸­çš„å‰¯ä½œç”¨æ“ä½œ:        å‘ajaxè¯·æ±‚æ•°æ®è·å–        è®¾ç½®è®¢é˜… / å¯åŠ¨å®šæ—¶å™¨        æ‰‹åŠ¨æ›´æ”¹çœŸå®DOM(3). è¯­æ³•å’Œè¯´æ˜:         useEffect(() =&gt; {           // åœ¨æ­¤å¯ä»¥æ‰§è¡Œä»»ä½•å¸¦å‰¯ä½œç”¨æ“ä½œ          return () =&gt; { // åœ¨ç»„ä»¶å¸è½½å‰æ‰§è¡Œ            // åœ¨æ­¤åšä¸€äº›æ”¶å°¾å·¥ä½œ, æ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨/å–æ¶ˆè®¢é˜…ç­‰          }        }, [stateValue]) // å¦‚æœæŒ‡å®šçš„æ˜¯[], å›è°ƒå‡½æ•°åªä¼šåœ¨ç¬¬ä¸€æ¬¡render()åæ‰§è¡Œ    (4). å¯ä»¥æŠŠ useEffect Hook çœ‹åšå¦‚ä¸‹ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ        componentDidMount()        componentDidUpdate()    \tcomponentWillUnmount() \n\nRef Hook\n\n(1). Ref Hookå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­å­˜å‚¨/æŸ¥æ‰¾ç»„ä»¶å†…çš„æ ‡ç­¾æˆ–ä»»æ„å…¶å®ƒæ•°æ®(2). è¯­æ³•: const refContainer = useRef()(3). ä½œç”¨:ä¿å­˜æ ‡ç­¾å¯¹è±¡,åŠŸèƒ½ä¸React.createRef()ä¸€æ ·\n14.4 Fragment\nä½¿ç”¨\n&lt;Fragment&gt;\n&lt;/Fragment&gt;\næˆ–è€…å†™&lt;&gt;&lt;/&gt;\nä½œç”¨\n\nå¯ä»¥ä¸ç”¨å¿…é¡»æœ‰ä¸€ä¸ªçœŸå®çš„DOMæ ¹æ ‡ç­¾äº†\n\n\n14.5 Context\nç†è§£\n\nä¸€ç§ç»„ä»¶é—´é€šä¿¡æ–¹å¼, å¸¸ç”¨äºã€ç¥–ç»„ä»¶ã€‘ä¸ã€åä»£ç»„ä»¶ã€‘é—´é€šä¿¡\n\nä½¿ç”¨\n1) åˆ›å»ºContextå®¹å™¨å¯¹è±¡ï¼š\tconst XxxContext = React.createContext()  \t2) æ¸²æŸ“å­ç»„æ—¶ï¼Œå¤–é¢åŒ…è£¹xxxContext.Provider, é€šè¿‡valueå±æ€§ç»™åä»£ç»„ä»¶ä¼ é€’æ•°æ®ï¼š\t&lt;xxxContext.Provider value={æ•°æ®}&gt;\t\tå­ç»„ä»¶    &lt;/xxxContext.Provider&gt;    3) åä»£ç»„ä»¶è¯»å–æ•°æ®ï¼š\t//ç¬¬ä¸€ç§æ–¹å¼:ä»…é€‚ç”¨äºç±»ç»„ä»¶ \t  static contextType = xxxContext  // å£°æ˜æ¥æ”¶context\t  this.context // è¯»å–contextä¸­çš„valueæ•°æ®\t  \t//ç¬¬äºŒç§æ–¹å¼: å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶éƒ½å¯ä»¥\t  &lt;xxxContext.Consumer&gt;\t    {\t      value =&gt; ( // valueå°±æ˜¯contextä¸­çš„valueæ•°æ®\t        è¦æ˜¾ç¤ºçš„å†…å®¹\t      )\t    }\t  &lt;/xxxContext.Consumer&gt;\næ³¨æ„\nåœ¨åº”ç”¨å¼€å‘ä¸­ä¸€èˆ¬ä¸ç”¨context, ä¸€èˆ¬éƒ½ç”¨å®ƒçš„å°è£…reactæ’ä»¶\n\n14.6 ç»„ä»¶ä¼˜åŒ–\nComponentçš„2ä¸ªé—®é¢˜\n\n\nåªè¦æ‰§è¡ŒsetState(),å³ä½¿ä¸æ”¹å˜çŠ¶æ€æ•°æ®,\nç»„ä»¶ä¹Ÿä¼šé‡æ–°render()\nåªå½“å‰ç»„ä»¶é‡æ–°render(), å°±ä¼šè‡ªåŠ¨é‡æ–°renderå­ç»„ä»¶ ==&gt;\næ•ˆç‡ä½\n\n\næ•ˆç‡é«˜çš„åšæ³•\n\nåªæœ‰å½“ç»„ä»¶çš„stateæˆ–propsæ•°æ®å‘ç”Ÿæ”¹å˜æ—¶æ‰é‡æ–°render()\n\nåŸå› \n\nComponentä¸­çš„shouldComponentUpdate()æ€»æ˜¯è¿”å›true\n\nè§£å†³\nåŠæ³•1: \n    é‡å†™shouldComponentUpdate()æ–¹æ³•\n    æ¯”è¾ƒæ–°æ—§stateæˆ–propsæ•°æ®, å¦‚æœæœ‰å˜åŒ–æ‰è¿”å›true, å¦‚æœæ²¡æœ‰è¿”å›false\nåŠæ³•2:  \n    ä½¿ç”¨PureComponent\n    PureComponenté‡å†™äº†shouldComponentUpdate(), åªæœ‰stateæˆ–propsæ•°æ®æœ‰å˜åŒ–æ‰è¿”å›true\n    æ³¨æ„: \n        åªæ˜¯è¿›è¡Œstateå’Œpropsæ•°æ®çš„æµ…æ¯”è¾ƒ, å¦‚æœåªæ˜¯æ•°æ®å¯¹è±¡å†…éƒ¨æ•°æ®å˜äº†, è¿”å›false  \n        ä¸è¦ç›´æ¥ä¿®æ”¹stateæ•°æ®, è€Œæ˜¯è¦äº§ç”Ÿæ–°æ•°æ®\né¡¹ç›®ä¸­ä¸€èˆ¬ä½¿ç”¨PureComponentæ¥ä¼˜åŒ–\n\n14.7 render props\nå¦‚ä½•å‘ç»„ä»¶å†…éƒ¨åŠ¨æ€ä¼ å…¥å¸¦å†…å®¹çš„ç»“æ„(æ ‡ç­¾)?\nVueä¸­: \n    ä½¿ç”¨slotæŠ€æœ¯, ä¹Ÿå°±æ˜¯é€šè¿‡ç»„ä»¶æ ‡ç­¾ä½“ä¼ å…¥ç»“æ„  &lt;AA&gt;&lt;BB/&gt;&lt;/AA&gt;\nReactä¸­:\n    ä½¿ç”¨children props: é€šè¿‡ç»„ä»¶æ ‡ç­¾ä½“ä¼ å…¥ç»“æ„\n    ä½¿ç”¨render props: é€šè¿‡ç»„ä»¶æ ‡ç­¾å±æ€§ä¼ å…¥ç»“æ„, ä¸€èˆ¬ç”¨renderå‡½æ•°å±æ€§\nchildren props\n&lt;A&gt;\n  &lt;B&gt;xxxx&lt;/B&gt;\n&lt;/A&gt;\n{this.props.children}\né—®é¢˜: å¦‚æœBç»„ä»¶éœ€è¦Aç»„ä»¶å†…çš„æ•°æ®, ==&gt; åšä¸åˆ° \nrender props\n&lt;A render={(data) =&gt; &lt;C data={data}&gt;&lt;/C&gt;}&gt;&lt;/A&gt;\nAç»„ä»¶: {this.props.render(å†…éƒ¨stateæ•°æ®)}\nCç»„ä»¶: è¯»å–Aç»„ä»¶ä¼ å…¥çš„æ•°æ®æ˜¾ç¤º {this.props.data} \n14.8 é”™è¯¯è¾¹ç•Œ\nç†è§£ï¼š\né”™è¯¯è¾¹ç•Œï¼šç”¨æ¥æ•è·åä»£ç»„ä»¶é”™è¯¯ï¼Œæ¸²æŸ“å‡ºå¤‡ç”¨é¡µé¢\nç‰¹ç‚¹ï¼š\nåªèƒ½æ•è·åä»£ç»„ä»¶ç”Ÿå‘½å‘¨æœŸäº§ç”Ÿçš„é”™è¯¯ï¼Œä¸èƒ½æ•è·è‡ªå·±ç»„ä»¶äº§ç”Ÿçš„é”™è¯¯å’Œå…¶ä»–ç»„ä»¶åœ¨åˆæˆäº‹ä»¶ã€å®šæ—¶å™¨ä¸­äº§ç”Ÿçš„é”™è¯¯\nä½¿ç”¨æ–¹å¼ï¼š\ngetDerivedStateFromErroré…åˆcomponentDidCatch\n// ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä¸€æ—¦åå°ç»„ä»¶æŠ¥é”™ï¼Œå°±ä¼šè§¦å‘static getDerivedStateFromError(error) {    console.log(error);    // åœ¨renderä¹‹å‰è§¦å‘    // è¿”å›æ–°çš„state    return {        hasError: true,    };}componentDidCatch(error, info) {    // ç»Ÿè®¡é¡µé¢çš„é”™è¯¯ã€‚å‘é€è¯·æ±‚å‘é€åˆ°åå°å»    console.log(error, info);}\n14.9 ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“\næ–¹å¼ï¼š\n    propsï¼š\n        (1).children props\n        (2).render props\n    æ¶ˆæ¯è®¢é˜…-å‘å¸ƒï¼š\n        pubs-subã€eventç­‰ç­‰\n    é›†ä¸­å¼ç®¡ç†ï¼š\n        reduxã€dvaç­‰ç­‰\n    conText:\n        ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼\nç»„ä»¶é—´çš„å…³ç³»\n    çˆ¶å­ç»„ä»¶ï¼šprops\n    å…„å¼Ÿç»„ä»¶(éåµŒå¥—ç»„ä»¶)ï¼šæ¶ˆæ¯è®¢é˜…-å‘å¸ƒã€é›†ä¸­å¼ç®¡ç†\n    ç¥–å­™ç»„ä»¶(è·¨çº§ç»„ä»¶)ï¼šæ¶ˆæ¯è®¢é˜…-å‘å¸ƒã€é›†ä¸­å¼ç®¡ç†ã€conText(ç”¨çš„å°‘)\n15 React-Router 6\n15.1 æ¦‚è¿°\n\nReact Router ä»¥ä¸‰ä¸ªä¸åŒçš„åŒ…å‘å¸ƒåˆ° npm ä¸Šï¼Œå®ƒä»¬åˆ†åˆ«ä¸ºï¼š\n\nreact-router: è·¯ç”±çš„æ ¸å¿ƒåº“ï¼Œæä¾›äº†å¾ˆå¤šçš„ï¼šç»„ä»¶ã€é’©å­ã€‚\nreact-router-dom:&lt;/strong &gt;\nåŒ…å«react-routeræ‰€æœ‰å†…å®¹ï¼Œå¹¶æ·»åŠ ä¸€äº›ä¸“é—¨ç”¨äº\nDOM çš„ç»„ä»¶ï¼Œä¾‹å¦‚ &lt;BrowserRouter&gt;ç­‰ ã€‚\nreact-router-native:\nåŒ…æ‹¬react-routeræ‰€æœ‰å†…å®¹ï¼Œå¹¶æ·»åŠ ä¸€äº›ä¸“é—¨ç”¨äºReactNativeçš„APIï¼Œä¾‹å¦‚:&lt;NativeRouter&gt;ç­‰ã€‚\n\nä¸React Router 5.x ç‰ˆæœ¬ç›¸æ¯”ï¼Œæ”¹å˜äº†ä»€ä¹ˆï¼Ÿ\n\nå†…ç½®ç»„ä»¶çš„å˜åŒ–ï¼šç§»é™¤&lt;Switch/&gt; ï¼Œæ–°å¢\n&lt;Routes/&gt;ç­‰ã€‚\nè¯­æ³•çš„å˜åŒ–ï¼šcomponent={About} å˜ä¸º\nelement={&lt;About/&gt;}ç­‰ã€‚\næ–°å¢å¤šä¸ªhookï¼šuseParamsã€useNavigateã€useMatchç­‰ã€‚\nå®˜æ–¹æ˜ç¡®æ¨èå‡½æ•°å¼ç»„ä»¶äº†ï¼ï¼ï¼\n......\n\n\n15.2 Component\n\n&lt;BrowserRouter&gt;\n\nè¯´æ˜ï¼š&lt;BrowserRouter&gt;ç”¨äºåŒ…è£¹æ•´ä¸ªåº”ç”¨ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport React from \"react\";import ReactDOM from \"react-dom\";import { BrowserRouter } from \"react-router-dom\";ReactDOM.render(  &lt;BrowserRouter&gt;    {/* æ•´ä½“ç»“æ„ï¼ˆé€šå¸¸ä¸ºAppç»„ä»¶ï¼‰ */}  &lt;/BrowserRouter&gt;,root);\n&lt;HashRouter&gt;\n\nè¯´æ˜ï¼šä½œç”¨ä¸&lt;BrowserRouter&gt;ä¸€æ ·ï¼Œä½†&lt;HashRouter&gt;ä¿®æ”¹çš„æ˜¯åœ°å€æ çš„hashå€¼ã€‚\nå¤‡æ³¨ï¼š6.xç‰ˆæœ¬ä¸­&lt;HashRouter&gt;ã€&lt;BrowserRouter&gt;\nçš„ç”¨æ³•ä¸ 5.x ç›¸åŒã€‚\n\n&lt;Routes/&gt; ä¸ &lt;Route/&gt;\n\nv6ç‰ˆæœ¬ä¸­ç§»å‡ºäº†å…ˆå‰çš„&lt;Switch&gt;ï¼Œå¼•å…¥äº†æ–°çš„æ›¿ä»£è€…ï¼š&lt;Routes&gt;ã€‚\n&lt;Routes&gt; å’Œ\n&lt;Route&gt;è¦é…åˆä½¿ç”¨ï¼Œä¸”å¿…é¡»è¦ç”¨&lt;Routes&gt;åŒ…è£¹&lt;Route&gt;ã€‚\n&lt;Route&gt; ç›¸å½“äºä¸€ä¸ª if è¯­å¥ï¼Œå¦‚æœå…¶è·¯å¾„ä¸å½“å‰ URL\nåŒ¹é…ï¼Œåˆ™å‘ˆç°å…¶å¯¹åº”çš„ç»„ä»¶ã€‚\n&lt;Route caseSensitive&gt;\nå±æ€§ç”¨äºæŒ‡å®šï¼šåŒ¹é…æ—¶æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼ˆé»˜è®¤ä¸º falseï¼‰ã€‚\nå½“URLå‘ç”Ÿå˜åŒ–æ—¶ï¼Œ&lt;Routes&gt;éƒ½ä¼šæŸ¥çœ‹å…¶æ‰€æœ‰å­&lt;Route&gt;\nå…ƒç´ ä»¥æ‰¾åˆ°æœ€ä½³åŒ¹é…å¹¶å‘ˆç°ç»„ä»¶ ã€‚\n&lt;Route&gt;\nä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œä¸”å¯é…åˆuseRoutes()é…ç½® â€œè·¯ç”±è¡¨â€\nï¼Œä½†éœ€è¦é€šè¿‡ &lt;Outlet&gt; ç»„ä»¶æ¥æ¸²æŸ“å…¶å­è·¯ç”±ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\n&lt;Routes&gt;    {/* pathå±æ€§ç”¨äºå®šä¹‰è·¯å¾„ï¼Œelementå±æ€§ç”¨äºå®šä¹‰å½“å‰è·¯å¾„æ‰€å¯¹åº”çš„ç»„ä»¶ */}    &lt;Route path=\"/login\" element={&lt;Login /&gt;}&gt;&lt;/Route&gt;    {/* ç”¨äºå®šä¹‰åµŒå¥—è·¯ç”±ï¼Œhomeæ˜¯ä¸€çº§è·¯ç”±ï¼Œå¯¹åº”çš„è·¯å¾„/home */}    &lt;Route path=\"home\" element={&lt;Home /&gt;}&gt;      {/* test1 å’Œ test2 æ˜¯äºŒçº§è·¯ç”±,å¯¹åº”çš„è·¯å¾„æ˜¯/home/test1 æˆ– /home/test2 */}      &lt;Route path=\"test1\" element={&lt;Test/&gt;}&gt;&lt;/Route&gt;      &lt;Route path=\"test2\" element={&lt;Test2/&gt;}&gt;&lt;/Route&gt;\t&lt;/Route&gt;\t    {/* Routeä¹Ÿå¯ä»¥ä¸å†™elementå±æ€§, è¿™æ—¶å°±æ˜¯ç”¨äºå±•ç¤ºåµŒå¥—çš„è·¯ç”± .æ‰€å¯¹åº”çš„è·¯å¾„æ˜¯/users/xxx */}    &lt;Route path=\"users\"&gt;       &lt;Route path=\"xxx\" element={&lt;Demo /&gt;} /&gt;    &lt;/Route&gt;&lt;/Routes&gt;\n&lt;Link&gt;\n\nä½œç”¨: ä¿®æ”¹URLï¼Œä¸”ä¸å‘é€ç½‘ç»œè¯·æ±‚ï¼ˆè·¯ç”±é“¾æ¥ï¼‰ã€‚\næ³¨æ„:\nå¤–ä¾§éœ€è¦ç”¨&lt;BrowserRouter&gt;æˆ–&lt;HashRouter&gt;åŒ…è£¹ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport { Link } from \"react-router-dom\";function Test() {  return (    &lt;div&gt;    \t&lt;Link to=\"/è·¯å¾„\"&gt;æŒ‰é’®&lt;/Link&gt;    &lt;/div&gt;  );}\n&lt;NavLink&gt;\n\nä½œç”¨:\nä¸&lt;Link&gt;ç»„ä»¶ç±»ä¼¼ï¼Œä¸”å¯å®ç°å¯¼èˆªçš„â€œé«˜äº®â€æ•ˆæœã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\n// æ³¨æ„: NavLinké»˜è®¤ç±»åæ˜¯activeï¼Œä¸‹é¢æ˜¯æŒ‡å®šè‡ªå®šä¹‰çš„class//è‡ªå®šä¹‰æ ·å¼ï¼Œå¦‚æœNavLinkè¿‡å¤šï¼Œå¯ä»¥å°†ç®­å¤´å‡½æ•°å•ç‹¬å®šä¹‰ï¼Œå‡å°‘ä»£ç é‡&lt;NavLink    to=\"login\"    className={({ isActive }) =&gt; {        console.log('home', isActive)        return isActive ? 'base one' : 'base'    }}&gt;login&lt;/NavLink&gt;/*\té»˜è®¤æƒ…å†µä¸‹ï¼Œå½“Homeçš„å­ç»„ä»¶åŒ¹é…æˆåŠŸï¼ŒHomeçš„å¯¼èˆªä¹Ÿä¼šé«˜äº®ï¼Œ\tå½“NavLinkä¸Šæ·»åŠ äº†endå±æ€§åï¼Œè‹¥Homeçš„å­ç»„ä»¶åŒ¹é…æˆåŠŸï¼Œåˆ™Homeçš„å¯¼èˆªæ²¡æœ‰é«˜äº®æ•ˆæœã€‚*/&lt;NavLink to=\"home\" end &gt;home&lt;/NavLink&gt;\n&lt;Navigate&gt;\nå¯ä»¥æŠŠè¯¥ç»„ä»¶ç†è§£ä¸ºRedirecté‡å®šå‘\n\nä½œç”¨ï¼šåªè¦&lt;Navigate&gt;ç»„ä»¶è¢«æ¸²æŸ“ï¼Œå°±ä¼šä¿®æ”¹è·¯å¾„ï¼Œåˆ‡æ¢è§†å›¾ã€‚\nreplaceå±æ€§ç”¨äºæ§åˆ¶è·³è½¬æ¨¡å¼ï¼ˆpush æˆ–\nreplaceï¼Œé»˜è®¤æ˜¯pushï¼‰ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport React,{useState} from 'react'import {Navigate} from 'react-router-dom'export default function Home() {\tconst [sum,setSum] = useState(1)\treturn (\t\t&lt;div&gt;\t\t\t&lt;h3&gt;æˆ‘æ˜¯Homeçš„å†…å®¹&lt;/h3&gt;\t\t\t{/* æ ¹æ®sumçš„å€¼å†³å®šæ˜¯å¦åˆ‡æ¢è§†å›¾ */}\t\t\t{sum === 1 ? &lt;h4&gt;sumçš„å€¼ä¸º{sum}&lt;/h4&gt; : &lt;Navigate to=\"/about\" replace={true}/&gt;}\t\t\t&lt;button onClick={()=&gt;setSum(2)}&gt;ç‚¹æˆ‘å°†sumå˜ä¸º2&lt;/button&gt;\t\t&lt;/div&gt;\t)}\n&lt;Outlet&gt;\n\nå½“&lt;Route&gt;äº§ç”ŸåµŒå¥—æ—¶ï¼Œæ¸²æŸ“å…¶å¯¹åº”çš„åç»­å­è·¯ç”±ã€‚éåµŒå¥—æ—¶ä¸ç”¨è¿™ä¸ªç»„ä»¶\nç¤ºä¾‹ä»£ç ï¼š\n\n//æ ¹æ®è·¯ç”±è¡¨ç”Ÿæˆå¯¹åº”çš„è·¯ç”±è§„åˆ™const element = useRoutes([  {    path:'/about',    element:&lt;About/&gt;  },  {    path:'/home',    element:&lt;Home/&gt;,    children:[      {        path:'news',        element:&lt;News/&gt;      },      {        path:'message',        element:&lt;Message/&gt;,      }    ]  }])//Home.jsimport React from 'react'import {NavLink,Outlet} from 'react-router-dom'export default function Home() {\treturn (\t\t&lt;div&gt;\t\t\t&lt;h2&gt;Homeç»„ä»¶å†…å®¹&lt;/h2&gt;\t\t\t&lt;div&gt;\t\t\t\t&lt;ul className=\"nav nav-tabs\"&gt;\t\t\t\t\t&lt;li&gt;                        {/* toå¯ä»¥ç›´æ¥å†™å­è·¯ç”±çš„pathï¼Œæ³¨æ„ä¸è¦åŠ /ï¼Œå¦‚æœåŠ äº†åˆ™è¡¨ç¤ºä»å¤´å¼€å§‹åŒ¹é…ï¼Œä¸åŠ åˆ™æ˜¯åœ¨å½“å‰è·¯ç”±ä¸‹åŒ¹é… */}\t\t\t\t\t\t&lt;NavLink className=\"list-group-item\" to=\"news\"&gt;News&lt;/NavLink&gt;\t\t\t\t\t&lt;/li&gt;\t\t\t\t\t&lt;li&gt;\t\t\t\t\t\t&lt;NavLink className=\"list-group-item\" to=\"message\"&gt;Message&lt;/NavLink&gt;\t\t\t\t\t&lt;/li&gt;\t\t\t\t&lt;/ul&gt;\t\t\t\t{/* æŒ‡å®šè·¯ç”±ç»„ä»¶å‘ˆç°çš„ä½ç½® */}\t\t\t\t&lt;Outlet /&gt;\t\t\t&lt;/div&gt;\t\t&lt;/div&gt;\t)}\n\n15.3 Hooks\n\nuseRoutes()\n\nä½œç”¨ï¼šæ ¹æ®è·¯ç”±è¡¨ï¼ŒåŠ¨æ€åˆ›å»º&lt;Routes&gt;å’Œ&lt;Route&gt;ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\n//è·¯ç”±è¡¨é…ç½®ï¼šsrc/routes/index.jsimport About from '../pages/About'import Home from '../pages/Home'import {Navigate} from 'react-router-dom'export default [    {        path:'/about',        element:&lt;About/&gt;    },    {        path:'/home',        element:&lt;Home/&gt;    },    {        path:'/',        element:&lt;Navigate to=\"/about\"/&gt;    }]//App.jsximport React from 'react'import {NavLink,useRoutes} from 'react-router-dom'import routes from './routes'export default function App() {    //æ ¹æ®è·¯ç”±è¡¨ç”Ÿæˆå¯¹åº”çš„è·¯ç”±è§„åˆ™    const element = useRoutes(routes)    return (        &lt;div&gt;            ......      {/* æ³¨å†Œè·¯ç”± */}      {element}          ......        &lt;/div&gt;    )}\nuseNavigate()\n\nä½œç”¨ï¼šè¿”å›ä¸€ä¸ªå‡½æ•°ç”¨æ¥å®ç°ç¼–ç¨‹å¼å¯¼èˆªã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport React from 'react'import {useNavigate} from 'react-router-dom'export default function Demo() {  const navigate = useNavigate()  const handle = () =&gt; {    //ç¬¬ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼šæŒ‡å®šå…·ä½“çš„è·¯å¾„    navigate('/login', {      replace: false,      state: {a:1, b:2}    })     //ç¬¬äºŒç§ä½¿ç”¨æ–¹å¼ï¼šä¼ å…¥æ•°å€¼è¿›è¡Œå‰è¿›æˆ–åé€€ï¼Œç±»ä¼¼äº5.xä¸­çš„ history.go()æ–¹æ³•    navigate(-1) // åé€€      // navigate(1) // å‰è¿›  }    return (    &lt;div&gt;      &lt;button onClick={handle}&gt;æŒ‰é’®&lt;/button&gt;    &lt;/div&gt;  )}\nuseParams()\n\nä½œç”¨ï¼šè¿”å›å½“å‰åŒ¹é…è·¯ç”±çš„paramså‚æ•°ï¼Œç±»ä¼¼äº5.xä¸­çš„match.paramsã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport React from 'react';import { Routes, Route, useParams } from 'react-router-dom';import User from './pages/User.jsx'function ProfilePage() {  // è·å–URLä¸­æºå¸¦è¿‡æ¥çš„paramså‚æ•°  let { id } = useParams();}function App() {  return (    &lt;Routes&gt;      &lt;Route path=\"users/:id\" element={&lt;User /&gt;}/&gt;    &lt;/Routes&gt;  );}\nuseSearchParams()\n\nä½œç”¨ï¼šç”¨äºè¯»å–å’Œä¿®æ”¹å½“å‰ä½ç½®çš„ URL ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚\nè¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå€¼çš„æ•°ç»„ï¼Œå†…å®¹åˆ†åˆ«ä¸ºï¼šå½“å‰çš„seaechå‚æ•°ã€æ›´æ–°searchçš„å‡½æ•°ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nimport React from 'react'import {useSearchParams} from 'react-router-dom'export default function Detail() {\tconst [search,setSearch] = useSearchParams()\tconst id = search.get('id')\tconst title = search.get('title')\tconst content = search.get('content')\treturn (\t\t&lt;ul&gt;\t\t\t&lt;li&gt;\t\t\t\t&lt;button onClick={()=&gt;setSearch('id=008&amp;title=å“ˆå“ˆ&amp;content=å˜»å˜»')}&gt;ç‚¹æˆ‘æ›´æ–°ä¸€ä¸‹æ”¶åˆ°çš„searchå‚æ•°&lt;/button&gt;\t\t\t&lt;/li&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯ç¼–å·ï¼š{id}&lt;/li&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯æ ‡é¢˜ï¼š{title}&lt;/li&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯å†…å®¹ï¼š{content}&lt;/li&gt;\t\t&lt;/ul&gt;\t)}\nuseLocation()\n\nä½œç”¨ï¼šè·å–å½“å‰ location\nä¿¡æ¯ï¼Œå¯¹æ ‡5.xä¸­çš„è·¯ç”±ç»„ä»¶çš„locationå±æ€§ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\n// ä¼ é€’stateå‚æ•°// &lt;Link to=\"/home\" state={{id: 1}} &gt;ä¸»é¡µ&lt;/Link&gt;// æ¥æ”¶ä½¿ç”¨useLocation()è·å–locationå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„stateå­˜å‚¨çš„æ˜¯å‚æ•°import React from 'react'import {useLocation} from 'react-router-dom'export default function Detail() {\tconst x = useLocation()\tconsole.log('@',x)  // xå°±æ˜¯locationå¯¹è±¡: \t/*\t\t{      hash: \"\",      key: \"ah9nv6sz\",      pathname: \"/login\",      search: \"?name=zs&amp;age=18\",      state: {a: 1, b: 2}    }\t*/\treturn (\t\t&lt;ul&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯ç¼–å·ï¼š{id}&lt;/li&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯æ ‡é¢˜ï¼š{title}&lt;/li&gt;\t\t\t&lt;li&gt;æ¶ˆæ¯å†…å®¹ï¼š{content}&lt;/li&gt;\t\t&lt;/ul&gt;\t)}\nuseMatch()\n\nä½œç”¨ï¼šè¿”å›å½“å‰åŒ¹é…ä¿¡æ¯ï¼Œå¯¹æ ‡5.xä¸­çš„è·¯ç”±ç»„ä»¶çš„matchå±æ€§ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\n&lt;Route path=\"/login/:page/:pageSize\" element={&lt;Login /&gt;}/&gt;&lt;NavLink to=\"/login/1/10\"&gt;ç™»å½•&lt;/NavLink&gt;export default function Login() {  const match = useMatch('/login/:x/:y')  console.log(match) //è¾“å‡ºmatchå¯¹è±¡  //matchå¯¹è±¡å†…å®¹å¦‚ä¸‹ï¼š  /*  \t{      params: {x: '1', y: '10'}      pathname: \"/LoGin/1/10\"        pathnameBase: \"/LoGin/1/10\"      pattern: {      \tpath: '/login/:x/:y',       \tcaseSensitive: false,       \tend: false      }    }  */  return (  \t&lt;div&gt;      &lt;h1&gt;Login&lt;/h1&gt;    &lt;/div&gt;  )}\nuseInRouterContext()\n\nâ€‹ ä½œç”¨ï¼šå¦‚æœç»„ä»¶åœ¨ &lt;Router&gt; çš„ä¸Šä¸‹æ–‡ä¸­å‘ˆç°ï¼Œåˆ™\nuseInRouterContext é’©å­è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚\n\nuseNavigationType()\n\nä½œç”¨ï¼šè¿”å›å½“å‰çš„å¯¼èˆªç±»å‹ï¼ˆç”¨æˆ·æ˜¯å¦‚ä½•æ¥åˆ°å½“å‰é¡µé¢çš„ï¼‰ã€‚\nè¿”å›å€¼ï¼šPOPã€PUSHã€REPLACEã€‚\nå¤‡æ³¨ï¼šPOPæ˜¯æŒ‡åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€äº†è¿™ä¸ªè·¯ç”±ç»„ä»¶ï¼ˆåˆ·æ–°é¡µé¢ï¼‰ã€‚\n\nuseOutlet()\n\nä½œç”¨ï¼šç”¨æ¥å‘ˆç°å½“å‰ç»„ä»¶ä¸­æ¸²æŸ“çš„åµŒå¥—è·¯ç”±ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n\nconst result = useOutlet()console.log(result)// å¦‚æœåµŒå¥—è·¯ç”±æ²¡æœ‰æŒ‚è½½,åˆ™resultä¸ºnull// å¦‚æœåµŒå¥—è·¯ç”±å·²ç»æŒ‚è½½,åˆ™å±•ç¤ºåµŒå¥—çš„è·¯ç”±å¯¹è±¡\nuseResolvedPath()\nä½œç”¨ï¼šç»™å®šä¸€ä¸ª URLå€¼ï¼Œè§£æå…¶ä¸­çš„ï¼špathã€searchã€hashå€¼ã€‚\n\n","categories":["æŠ€æœ¯"],"tags":["React"]},{"title":"TypeScriptåŸºç¡€å­¦ä¹ ","url":"/5dd2f1d0ec2a/typescript%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/","content":"1 TypeScriptå¼€å‘ç¯å¢ƒæ­å»º\n\nä¸‹è½½å®‰è£…Node.js\nå®˜ç½‘ï¼Œä¸‹è½½é•¿æœŸç¨³å®šç‰ˆ(LTS)\n\n\n\nå…¨å±€å®‰è£…typescript\nnpm install -g typescript\nåˆ›å»ºtsæ–‡ä»¶\nä½¿ç”¨tscå¯¹tsæ–‡ä»¶è¿›è¡Œç¼–è¯‘\ntsc xxx.ts\n\n2 ç±»å‹\n\nç±»å‹å£°æ˜\n\nç±»å‹å£°æ˜æ˜¯TSéå¸¸é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹\né€šè¿‡ç±»å‹å£°æ˜å¯ä»¥æŒ‡å®šTSä¸­å˜é‡ï¼ˆå‚æ•°ã€å½¢å‚ï¼‰çš„ç±»å‹\næŒ‡å®šç±»å‹åï¼Œå½“ä¸ºå˜é‡èµ‹å€¼æ—¶ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å€¼æ˜¯å¦ç¬¦åˆç±»å‹å£°æ˜ï¼Œç¬¦åˆåˆ™èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™\nç®€è€Œè¨€ä¹‹ï¼Œç±»å‹å£°æ˜ç»™å˜é‡è®¾ç½®äº†ç±»å‹ï¼Œä½¿å¾—å˜é‡åªèƒ½å­˜å‚¨æŸç§ç±»å‹çš„å€¼\nè¯­æ³•ï¼š\nlet å˜é‡: ç±»å‹;let å˜é‡: ç±»å‹ = å€¼;function fn(å‚æ•°: ç±»å‹, å‚æ•°: ç±»å‹): ç±»å‹{    ...}\n\nè‡ªåŠ¨ç±»å‹åˆ¤æ–­\n\nTSæ‹¥æœ‰è‡ªåŠ¨çš„ç±»å‹åˆ¤æ–­æœºåˆ¶\nå½“å¯¹å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å˜é‡çš„ç±»å‹\næ‰€ä»¥å¦‚æœä½ çš„å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ—¶åŒæ—¶è¿›è¡Œçš„ï¼Œå¯ä»¥çœç•¥æ‰ç±»å‹å£°æ˜\n\nç±»å‹ï¼š\n\n\n\n\nç±»å‹\nä¾‹å­\næè¿°\n\n\n\n\nnumber\n1, -33, 2.5\nä»»æ„æ•°å­—\n\n\nstring\n'hi', \"hi\", hi\nä»»æ„å­—ç¬¦ä¸²\n\n\nboolean\ntrueã€false\nå¸ƒå°”å€¼trueæˆ–false\n\n\nå­—é¢é‡\nå…¶æœ¬èº«\né™åˆ¶å˜é‡çš„å€¼å°±æ˜¯è¯¥å­—é¢é‡çš„å€¼\n\n\nany\n*\nä»»æ„ç±»å‹\n\n\nunknown\n*\nç±»å‹å®‰å…¨çš„any\n\n\nvoid\nç©ºå€¼ï¼ˆundefinedï¼‰\næ²¡æœ‰å€¼ï¼ˆæˆ–undefinedï¼‰\n\n\nnever\næ²¡æœ‰å€¼\nä¸èƒ½æ˜¯ä»»ä½•å€¼\n\n\nobject\n{name:'å­™æ‚Ÿç©º'}\nä»»æ„çš„JSå¯¹è±¡\n\n\narray\n[1,2,3]\nä»»æ„JSæ•°ç»„\n\n\ntuple\n[4,5]\nå…ƒç´ ï¼ŒTSæ–°å¢ç±»å‹ï¼Œå›ºå®šé•¿åº¦æ•°ç»„\n\n\nenum\nenum{A, B}\næšä¸¾ï¼ŒTSä¸­æ–°å¢ç±»å‹\n\n\n\n\nnumber\nlet decimal: number = 6;let hex: number = 0xf00d;let binary: number = 0b1010;let octal: number = 0o744;let big: bigint = 100n;\nboolean\nlet isDone: boolean = false;\nstring\nlet color: string = \"blue\";color = 'red';let fullName: string = `Bob Bobbington`;let age: number = 37;let sentence: string = `Hello, my name is ${fullName}.I'll be ${age + 1} years old next month.`;\nå­—é¢é‡\n\nä¹Ÿå¯ä»¥ä½¿ç”¨å­—é¢é‡å»æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œé€šè¿‡å­—é¢é‡å¯ä»¥ç¡®å®šå˜é‡çš„å–å€¼èŒƒå›´\nlet color: 'red' | 'blue' | 'black';let num: 1 | 2 | 3 | 4 | 5;\n\nany\nlet d: any = 4;d = 'hello';d = true;let a: boolean = true;// ä¸ä¼šæç¤ºé”™è¯¯a = d;\nunknown\nlet notSure: unknown = 4;notSure = 'hello';let a: boolean = true;// æç¤ºé”™è¯¯a = notSure;// å¦‚æœç¡®å®šç±»å‹ç›¸åŒæƒ³èµ‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æˆ–è€…å…ˆè¿›è¡Œç±»å‹æ£€æŸ¥// if (typeof notSure === \"boolean\")\nvoid\nlet unusable: void = undefined;\nnever\nfunction error(message: string): never {  throw new Error(message);}\nobjectï¼ˆæ²¡å•¥ç”¨ï¼‰\nlet obj: object = {};\narray\nlet list: number[] = [1, 2, 3];let list: Array&lt;number&gt; = [1, 2, 3];\ntuple\nlet x: [string, number];x = [\"hello\", 10]; \nenum\nenum Color {  Red,  Green,  Blue,}let c: Color = Color.Green;enum Color {  Red = 1,  Green,  Blue,}let c: Color = Color.Green;enum Color {  Red = 1,  Green = 2,  Blue = 4,}let c: Color = Color.Green;\nç±»å‹æ–­è¨€\n\næœ‰äº›æƒ…å†µä¸‹ï¼Œå˜é‡çš„ç±»å‹å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯TSç¼–è¯‘å™¨å´å¹¶ä¸æ¸…æ¥šï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹ï¼Œæ–­è¨€æœ‰ä¸¤ç§å½¢å¼ï¼š\n\nç¬¬ä¸€ç§\nlet someValue: unknown = \"this is a string\";let strLength: number = (someValue as string).length;\nç¬¬äºŒç§\nlet someValue: unknown = \"this is a string\";let strLength: number = (&lt;string&gt;someValue).length;\n\n\ntype\n// å®šä¹‰açš„å¯¹è±¡ç»“æ„ç±»å‹ï¼Œå…¶ä¸­nameå±æ€§å¿…é¡»åŒ…å«ï¼Œageå±æ€§å¯é€‰let a: {name: string, age?: number}// å®šä¹‰bçš„å¯¹è±¡ç»“æ„ç±»å‹ï¼Œnameå±æ€§å¿…é¡»åŒ…å«ï¼ŒåŒæ—¶å¯ä»¥æ·»åŠ å…¶ä»–çš„å±æ€§ï¼Œå±æ€§åä¸ºstringç±»å‹ï¼Œå€¼ä¸ºnumberç±»å‹let b: {name: string, [propName: string]: number}// å®šä¹‰å‡½æ•°çš„ç±»å‹ï¼Œå‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹let dFn: (a: number, b: number) =&gt; numbertype testType = {    name: string,    [prop: string]: number}\n\n3 ç¼–è¯‘é€‰é¡¹\n\nè‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶\n\nç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ -w\næŒ‡ä»¤åï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶åœ¨æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶å¯¹æ–‡ä»¶è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚\nç¤ºä¾‹ï¼š\ntsc xxx.ts -w\n\nè‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®\n\nå¦‚æœç›´æ¥ä½¿ç”¨tscæŒ‡ä»¤ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨å°†å½“å‰é¡¹ç›®ä¸‹çš„æ‰€æœ‰tsæ–‡ä»¶ç¼–è¯‘ä¸ºjsæ–‡ä»¶ã€‚\nä½†æ˜¯èƒ½ç›´æ¥ä½¿ç”¨tscå‘½ä»¤çš„å‰ææ—¶ï¼Œè¦å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtsçš„é…ç½®æ–‡ä»¶\ntsconfig.json\ntsconfig.jsonæ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶åï¼Œåªéœ€åªéœ€ tsc\nå‘½ä»¤å³å¯å®Œæˆå¯¹æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘\né…ç½®é€‰é¡¹ï¼š\n\ninclude\n\nå®šä¹‰å¸Œæœ›è¢«ç¼–è¯‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•\né»˜è®¤å€¼ï¼š[\"**/*\"]\nç¤ºä¾‹ï¼š\n\"include\":[\"src/**/*\", \"tests/**/*\"]\n\nä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰srcç›®å½•å’Œtestsç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘\n\n\nexclude\n\nå®šä¹‰éœ€è¦æ’é™¤åœ¨å¤–çš„ç›®å½•\né»˜è®¤å€¼ï¼š[\"node_modules\", \"bower_components\",\n\"jspm_packages\"]\nç¤ºä¾‹ï¼š\n\"exclude\": [\"./src/hello/**/*\"]\n\nä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œsrcä¸‹helloç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¸ä¼šè¢«ç¼–è¯‘\n\n\nextends\n\nå®šä¹‰è¢«ç»§æ‰¿çš„é…ç½®æ–‡ä»¶\nç¤ºä¾‹ï¼š\n\"extends\": \"./configs/base\"\n\nä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå½“å‰é…ç½®æ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨åŒ…å«configç›®å½•ä¸‹base.jsonä¸­çš„æ‰€æœ‰é…ç½®ä¿¡æ¯\n\n\nfiles\n\næŒ‡å®šè¢«ç¼–è¯‘æ–‡ä»¶çš„åˆ—è¡¨ï¼Œåªæœ‰éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶å°‘æ—¶æ‰ä¼šç”¨åˆ°\nç¤ºä¾‹ï¼š\n\"files\": [    \"core.ts\",    \"sys.ts\",    \"types.ts\",    \"scanner.ts\",    \"parser.ts\",    \"utilities.ts\",    \"binder.ts\",    \"checker.ts\",    \"tsc.ts\"  ]\n\nåˆ—è¡¨ä¸­çš„æ–‡ä»¶éƒ½ä¼šè¢«TSç¼–è¯‘å™¨æ‰€ç¼–è¯‘\n\ncompilerOptions\n\nç¼–è¯‘é€‰é¡¹æ˜¯é…ç½®æ–‡ä»¶ä¸­éå¸¸é‡è¦ä¹Ÿæ¯”è¾ƒå¤æ‚çš„é…ç½®é€‰é¡¹\nåœ¨compilerOptionsä¸­åŒ…å«å¤šä¸ªå­é€‰é¡¹ï¼Œç”¨æ¥å®Œæˆå¯¹ç¼–è¯‘çš„é…ç½®\n\né¡¹ç›®é€‰é¡¹\n\ntarget\n\nè®¾ç½®tsä»£ç ç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬\nå¯é€‰å€¼ï¼š\n\nES3ï¼ˆé»˜è®¤ï¼‰ã€ES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNext\n\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"target\": \"ES6\"}\n\nå¦‚ä¸Šè®¾ç½®ï¼Œæˆ‘ä»¬æ‰€ç¼–å†™çš„tsä»£ç å°†ä¼šè¢«ç¼–è¯‘ä¸ºES6ç‰ˆæœ¬çš„jsä»£ç \n\n\nlib\n\næŒ‡å®šä»£ç è¿è¡Œæ—¶æ‰€åŒ…å«çš„åº“ï¼ˆå®¿ä¸»ç¯å¢ƒï¼‰\nå¯é€‰å€¼ï¼š\n\nES5ã€ES6/ES2015ã€ES7/ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNextã€DOMã€WebWorkerã€ScriptHost\n......\n\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"target\": \"ES6\",    \"lib\": [\"ES6\", \"DOM\"],    \"outDir\": \"dist\",    \"outFile\": \"dist/aa.js\"}\n\nmodule\n\nè®¾ç½®ç¼–è¯‘åä»£ç ä½¿ç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿ\nå¯é€‰å€¼ï¼š\n\nCommonJSã€UMDã€AMDã€Systemã€ES2020ã€ESNextã€None\n\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"module\": \"CommonJS\"}\n\noutDir\n\nç¼–è¯‘åæ–‡ä»¶çš„æ‰€åœ¨ç›®å½•\né»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘åçš„jsæ–‡ä»¶ä¼šå’Œtsæ–‡ä»¶ä½äºç›¸åŒçš„ç›®å½•ï¼Œè®¾ç½®outDiråå¯ä»¥æ”¹å˜ç¼–è¯‘åæ–‡ä»¶çš„ä½ç½®\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"outDir\": \"dist\"}\n\nè®¾ç½®åç¼–è¯‘åçš„jsæ–‡ä»¶å°†ä¼šç”Ÿæˆåˆ°distç›®å½•\n\n\noutFile\n\nå°†æ‰€æœ‰çš„æ–‡ä»¶ç¼–è¯‘ä¸ºä¸€ä¸ªjsæ–‡ä»¶\né»˜è®¤ä¼šå°†æ‰€æœ‰çš„ç¼–å†™åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„ä»£ç åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¦‚æœmoduleåˆ¶å®šäº†Noneã€Systemæˆ–AMDåˆ™ä¼šå°†æ¨¡å—ä¸€èµ·åˆå¹¶åˆ°æ–‡ä»¶ä¹‹ä¸­\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"outFile\": \"dist/app.js\"}\n\nrootDir\n\næŒ‡å®šä»£ç çš„æ ¹ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘åæ–‡ä»¶çš„ç›®å½•ç»“æ„ä¼šä»¥æœ€é•¿çš„å…¬å…±ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œé€šè¿‡rootDirå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæ ¹ç›®å½•\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"rootDir\": \"./src\"}\n\nallowJs\n\næ˜¯å¦å¯¹jsæ–‡ä»¶ç¼–è¯‘\n\ncheckJs\n\næ˜¯å¦å¯¹jsæ–‡ä»¶è¿›è¡Œæ£€æŸ¥\nç¤ºä¾‹ï¼š\n\"compilerOptions\": {    \"allowJs\": true,    \"checkJs\": true}\n\nremoveComments\n\næ˜¯å¦åˆ é™¤æ³¨é‡Š\né»˜è®¤å€¼ï¼šfalse\n\nnoEmit\n\nä¸å¯¹ä»£ç è¿›è¡Œç¼–è¯‘\né»˜è®¤å€¼ï¼šfalse\n\nsourceMap\n\næ˜¯å¦ç”ŸæˆsourceMap\né»˜è®¤å€¼ï¼šfalse\n\n\nä¸¥æ ¼æ£€æŸ¥\n\nstrict\n\nå¯ç”¨æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œè®¾ç½®åç›¸å½“äºå¼€å¯äº†æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥\n\nalwaysStrict\n\næ€»æ˜¯ä»¥ä¸¥æ ¼æ¨¡å¼å¯¹ä»£ç è¿›è¡Œç¼–è¯‘\n\nnoImplicitAny\n\nç¦æ­¢éšå¼çš„anyç±»å‹\n\nnoImplicitThis\n\nç¦æ­¢ç±»å‹ä¸æ˜ç¡®çš„this\n\nstrictBindCallApply\n\nä¸¥æ ¼æ£€æŸ¥bindã€callå’Œapplyçš„å‚æ•°åˆ—è¡¨\n\nstrictFunctionTypes\n\nä¸¥æ ¼æ£€æŸ¥å‡½æ•°çš„ç±»å‹\n\nstrictNullChecks\n\nä¸¥æ ¼çš„ç©ºå€¼æ£€æŸ¥\n\nstrictPropertyInitialization\n\nä¸¥æ ¼æ£€æŸ¥å±æ€§æ˜¯å¦åˆå§‹åŒ–\n\n\né¢å¤–æ£€æŸ¥\n\nnoFallthroughCasesInSwitch\n\næ£€æŸ¥switchè¯­å¥åŒ…å«æ­£ç¡®çš„break\n\nnoImplicitReturns\n\næ£€æŸ¥å‡½æ•°æ²¡æœ‰éšå¼çš„è¿”å›å€¼\n\nnoUnusedLocals\n\næ£€æŸ¥æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡\n\nnoUnusedParameters\n\næ£€æŸ¥æœªä½¿ç”¨çš„å‚æ•°\n\n\né«˜çº§\n\nallowUnreachableCode\n\næ£€æŸ¥ä¸å¯è¾¾ä»£ç \nå¯é€‰å€¼ï¼š\n\ntrueï¼Œå¿½ç•¥ä¸å¯è¾¾ä»£ç \nfalseï¼Œä¸å¯è¾¾ä»£ç å°†å¼•èµ·é”™è¯¯\n\n\nnoEmitOnError\n\næœ‰é”™è¯¯çš„æƒ…å†µä¸‹ä¸è¿›è¡Œç¼–è¯‘\né»˜è®¤å€¼ï¼šfalse\n\n\n\n\n\n\n\n\n4 webpack\n\né€šå¸¸æƒ…å†µä¸‹ï¼Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨æ„å»ºå·¥å…·å¯¹ä»£ç è¿›è¡Œæ‰“åŒ…ï¼ŒTSåŒæ ·ä¹Ÿå¯ä»¥ç»“åˆæ„å»ºå·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œä¸‹è¾¹ä»¥webpackä¸ºä¾‹ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç»“åˆæ„å»ºå·¥å…·ä½¿ç”¨TSã€‚\næ­¥éª¤ï¼š\n\nåˆå§‹åŒ–é¡¹ç›®\n\nè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ npm init -y\n\nä¸»è¦ä½œç”¨ï¼šåˆ›å»ºpackage.jsonæ–‡ä»¶\n\n\nä¸‹è½½æ„å»ºå·¥å…·\n\nnpm i -D webpack webpack-cli webpack-dev-server typescript ts-loader clean-webpack-plugin\n\nå…±å®‰è£…äº†7ä¸ªåŒ…\n\nwebpack\n\næ„å»ºå·¥å…·webpack\n\nwebpack-cli\n\nwebpackçš„å‘½ä»¤è¡Œå·¥å…·\n\nwebpack-dev-server\n\nwebpackçš„å¼€å‘æœåŠ¡å™¨\n\ntypescript\n\ntsç¼–è¯‘å™¨\n\nts-loader\n\ntsåŠ è½½å™¨ï¼Œç”¨äºåœ¨webpackä¸­ç¼–è¯‘tsæ–‡ä»¶\n\nhtml-webpack-plugin\n\nwebpackä¸­htmlæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶\n\nclean-webpack-plugin\n\nwebpackä¸­çš„æ¸…é™¤æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½ä¼šå…ˆæ¸…é™¤ç›®å½•\n\n\n\n\næ ¹ç›®å½•ä¸‹åˆ›å»ºwebpackçš„é…ç½®æ–‡ä»¶webpack.config.js\nconst path = require(\"path\");const HtmlWebpackPlugin = require(\"html-webpack-plugin\");const { CleanWebpackPlugin } = require(\"clean-webpack-plugin\");module.exports = {    optimization:{        minimize: false // å…³é—­ä»£ç å‹ç¼©ï¼Œå¯é€‰    },    entry: \"./src/index.ts\",        devtool: \"inline-source-map\",        devServer: {        contentBase: './dist'    },    output: {        path: path.resolve(__dirname, \"dist\"),        filename: \"bundle.js\",        environment: {            arrowFunction: false // å…³é—­webpackçš„ç®­å¤´å‡½æ•°ï¼Œå¯é€‰        }    },    resolve: {        extensions: [\".ts\", \".js\"]    },        module: {        rules: [            {                test: /\\.ts$/,                use: {                   loader: \"ts-loader\"                     },                exclude: /node_modules/            }        ]    },    plugins: [        new CleanWebpackPlugin(),        new HtmlWebpackPlugin({            title:'TSæµ‹è¯•'        }),    ]}\næ ¹ç›®å½•ä¸‹åˆ›å»ºtsconfig.jsonï¼Œé…ç½®å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦\n{    \"compilerOptions\": {        \"target\": \"ES2015\",        \"module\": \"ES2015\",        \"strict\": true    }}\nä¿®æ”¹package.jsonæ·»åŠ å¦‚ä¸‹é…ç½®\n{  ...ç•¥...  \"scripts\": {    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",    \"build\": \"webpack\",    \"start\": \"webpack serve --open chrome.exe\"  },  ...ç•¥...}\nåœ¨srcä¸‹åˆ›å»ºtsæ–‡ä»¶ï¼Œå¹¶åœ¨å¹¶å‘½ä»¤è¡Œæ‰§è¡Œnpm run buildå¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæˆ–è€…æ‰§è¡Œnpm startæ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨\n\n\n5 Babel\n\nç»è¿‡ä¸€ç³»åˆ—çš„é…ç½®ï¼Œä½¿å¾—TSå’Œwebpackå·²ç»ç»“åˆåˆ°äº†ä¸€èµ·ï¼Œé™¤äº†webpackï¼Œå¼€å‘ä¸­è¿˜ç»å¸¸éœ€è¦ç»“åˆbabelæ¥å¯¹ä»£ç è¿›è¡Œè½¬æ¢ä»¥ä½¿å…¶å¯ä»¥å…¼å®¹åˆ°æ›´å¤šçš„æµè§ˆå™¨ï¼Œåœ¨ä¸Šè¿°æ­¥éª¤çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å†å°†babelå¼•å…¥åˆ°é¡¹ç›®ä¸­ã€‚\n\nå®‰è£…ä¾èµ–åŒ…ï¼š\n\nnpm i -D @babel/core @babel/preset-env babel-loader core-js\nå…±å®‰è£…äº†4ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯ï¼š\n\n@babel/core\n\nbabelçš„æ ¸å¿ƒå·¥å…·\n\n@babel/preset-env\n\nbabelçš„é¢„å®šä¹‰ç¯å¢ƒ\n\n@babel-loader\n\nbabelåœ¨webpackä¸­çš„åŠ è½½å™¨\n\ncore-js\n\ncore-jsç”¨æ¥ä½¿è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒæ–°ç‰ˆESè¯­æ³•\n\n\n\nä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶\n...ç•¥...module: {    rules: [        {            test: /\\.ts$/,            use: [                {                    loader: \"babel-loader\",                    options:{                        presets: [                            [                                \"@babel/preset-env\",                                {                                    \"targets\":{                                        \"chrome\": \"58\",                                        \"ie\": \"11\"                                    },                                    \"corejs\":\"3\",                                    \"useBuiltIns\": \"usage\"                                }                            ]                        ]                    }                },                {                    loader: \"ts-loader\",                }            ],            exclude: /node_modules/        }    ]}...ç•¥...\n\nå¦‚æ­¤ä¸€æ¥ï¼Œä½¿ç”¨tsç¼–è¯‘åçš„æ–‡ä»¶å°†ä¼šå†æ¬¡è¢«babelå¤„ç†ï¼Œä½¿å¾—ä»£ç å¯ä»¥åœ¨å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥åœ¨é…ç½®é€‰é¡¹çš„targetsä¸­æŒ‡å®šè¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ã€‚\n\n\n\n6 é¢å‘å¯¹è±¡\n6.1 ç±»ï¼ˆclassï¼‰\nè¦æƒ³é¢å‘å¯¹è±¡ï¼Œæ“ä½œå¯¹è±¡ï¼Œé¦–å…ˆä¾¿è¦æ‹¥æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•åˆ›å»ºå¯¹è±¡ã€‚è¦åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»è¦å…ˆå®šä¹‰ç±»ï¼Œæ‰€è°“çš„ç±»å¯ä»¥ç†è§£ä¸ºå¯¹è±¡çš„æ¨¡å‹ï¼Œç¨‹åºä¸­å¯ä»¥æ ¹æ®ç±»åˆ›å»ºæŒ‡å®šç±»å‹çš„å¯¹è±¡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼šå¯ä»¥é€šè¿‡Personç±»æ¥åˆ›å»ºäººçš„å¯¹è±¡ï¼Œé€šè¿‡Dogç±»åˆ›å»ºç‹—çš„å¯¹è±¡ï¼Œé€šè¿‡Carç±»æ¥åˆ›å»ºæ±½è½¦çš„å¯¹è±¡ï¼Œä¸åŒçš„ç±»å¯ä»¥ç”¨æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ã€‚\n\nå®šä¹‰ç±»ï¼š\nclass ç±»å {\tå±æ€§å: ç±»å‹;\t\tconstructor(å‚æ•°: ç±»å‹){\t\tthis.å±æ€§å = å‚æ•°;\t}\t\tæ–¹æ³•å(){\t\t....\t}}\nç¤ºä¾‹ï¼š\nclass Person{    name: string;    age: number;    constructor(name: string, age: number){        this.name = name;        this.age = age;    }    sayHello(){        console.log(`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯${this.name}`);    }}\nä½¿ç”¨ç±»ï¼š\nconst p = new Person('å­™æ‚Ÿç©º', 18);p.sayHello();\n\n6.2 é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹\n\nå°è£…\n\nå¯¹è±¡å®è´¨ä¸Šå°±æ˜¯å±æ€§å’Œæ–¹æ³•çš„å®¹å™¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯å­˜å‚¨å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å°è£…\né»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä»»æ„çš„ä¿®æ”¹çš„ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨TSä¸­å¯ä»¥å¯¹å±æ€§çš„æƒé™è¿›è¡Œè®¾ç½®\nåªè¯»å±æ€§ï¼ˆreadonlyï¼‰ï¼š\n\nå¦‚æœåœ¨å£°æ˜å±æ€§æ—¶æ·»åŠ ä¸€ä¸ªreadonlyï¼Œåˆ™å±æ€§ä¾¿æˆäº†åªè¯»å±æ€§æ— æ³•ä¿®æ”¹\n\nTSä¸­å±æ€§å…·æœ‰ä¸‰ç§ä¿®é¥°ç¬¦ï¼š\n\npublicï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»å’Œå¯¹è±¡ä¸­ä¿®æ”¹\nprotected ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»ä¸­ä¿®æ”¹\nprivate ï¼Œå¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹\n\nç¤ºä¾‹ï¼š\n\npublic\nclass Person{    public name: string; // å†™æˆ–ä»€ä¹ˆéƒ½ä¸å†™éƒ½æ˜¯public    public age: number;    constructor(name: string, age: number){        this.name = name; // å¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹        this.age = age;    }    sayHello(){        console.log(`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯${this.name}`);    }}class Employee extends Person{    constructor(name: string, age: number){        super(name, age);        this.name = name; //å­ç±»ä¸­å¯ä»¥ä¿®æ”¹    }}const p = new Person('å­™æ‚Ÿç©º', 18);p.name = 'çŒªå…«æˆ’';// å¯ä»¥é€šè¿‡å¯¹è±¡ä¿®æ”¹\nprotected\nclass Person{    protected name: string;    protected age: number;    constructor(name: string, age: number){        this.name = name; // å¯ä»¥ä¿®æ”¹        this.age = age;    }    sayHello(){        console.log(`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯${this.name}`);    }}class Employee extends Person{    constructor(name: string, age: number){        super(name, age);        this.name = name; //å­ç±»ä¸­å¯ä»¥ä¿®æ”¹    }}const p = new Person('å­™æ‚Ÿç©º', 18);p.name = 'çŒªå…«æˆ’';// ä¸èƒ½ä¿®æ”¹\nprivate\nclass Person{    private name: string;    private age: number;    constructor(name: string, age: number){        this.name = name; // å¯ä»¥ä¿®æ”¹        this.age = age;    }    sayHello(){        console.log(`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯${this.name}`);    }}class Employee extends Person{    constructor(name: string, age: number){        super(name, age);        this.name = name; //å­ç±»ä¸­ä¸èƒ½ä¿®æ”¹    }}const p = new Person('å­™æ‚Ÿç©º', 18);p.name = 'çŒªå…«æˆ’';// ä¸èƒ½ä¿®æ”¹\n\nå±æ€§å­˜å–å™¨\n\nå¯¹äºä¸€äº›ä¸å¸Œæœ›è¢«ä»»æ„ä¿®æ”¹çš„å±æ€§ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºprivate\nç›´æ¥å°†å…¶è®¾ç½®ä¸ºprivateå°†å¯¼è‡´æ— æ³•å†é€šè¿‡å¯¹è±¡ä¿®æ”¹å…¶ä¸­çš„å±æ€§\næˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ä¸€ç»„è¯»å–ã€è®¾ç½®å±æ€§çš„æ–¹æ³•ï¼Œè¿™ç§å¯¹å±æ€§è¯»å–æˆ–è®¾ç½®çš„å±æ€§è¢«ç§°ä¸ºå±æ€§çš„å­˜å–å™¨\nè¯»å–å±æ€§çš„æ–¹æ³•å«åšsetteræ–¹æ³•ï¼Œè®¾ç½®å±æ€§çš„æ–¹æ³•å«åšgetteræ–¹æ³•\nç¤ºä¾‹ï¼š\nclass Person{    private _name: string;    constructor(name: string){        this._name = name;    }    get name(){        return this._name;    }    set name(name: string){        this._name = name;    }}const p1 = new Person('å­™æ‚Ÿç©º');console.log(p1.name); // é€šè¿‡getterè¯»å–nameå±æ€§p1.name = 'çŒªå…«æˆ’'; // é€šè¿‡setterä¿®æ”¹nameå±æ€§\n\né™æ€å±æ€§\n\né™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¹Ÿç§°ä¸ºç±»å±æ€§ã€‚ä½¿ç”¨é™æ€å±æ€§æ— éœ€åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡ç±»å³å¯ç›´æ¥ä½¿ç”¨\né™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä½¿ç”¨staticå¼€å¤´\nç¤ºä¾‹ï¼š\nclass Tools{    static PI = 3.1415926;        static sum(num1: number, num2: number){        return num1 + num2    }}console.log(Tools.PI);console.log(Tools.sum(123, 456));\n\nthis\n\nåœ¨ç±»ä¸­ï¼Œä½¿ç”¨thisè¡¨ç¤ºå½“å‰å¯¹è±¡\n\n\nç»§æ‰¿\n\nç»§æ‰¿æ—¶é¢å‘å¯¹è±¡ä¸­çš„åˆä¸€ä¸ªç‰¹æ€§\né€šè¿‡ç»§æ‰¿å¯ä»¥å°†å…¶ä»–ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•å¼•å…¥åˆ°å½“å‰ç±»ä¸­\n\nç¤ºä¾‹ï¼š\nclass Animal{    name: string;    age: number;    constructor(name: string, age: number){        this.name = name;        this.age = age;    }}class Dog extends Animal{    bark(){        console.log(`${this.name}åœ¨æ±ªæ±ªå«ï¼`);    }}const dog = new Dog('æ—ºè´¢', 4);dog.bark();\n\né€šè¿‡ç»§æ‰¿å¯ä»¥åœ¨ä¸ä¿®æ”¹ç±»çš„æƒ…å†µä¸‹å®Œæˆå¯¹ç±»çš„æ‰©å±•\né‡å†™\n\nå‘ç”Ÿç»§æ‰¿æ—¶ï¼Œå¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¼šæ›¿æ¢æ‰çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œè¿™å°±ç§°ä¸ºæ–¹æ³•çš„é‡å†™\nç¤ºä¾‹ï¼š\nclass Animal{    name: string;    age: number;    constructor(name: string, age: number){        this.name = name;        this.age = age;    }    run(){        console.log(`çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`);    }}class Dog extends Animal{    bark(){        console.log(`${this.name}åœ¨æ±ªæ±ªå«ï¼`);    }    run(){        console.log(`å­ç±»ä¸­çš„runæ–¹æ³•ï¼Œä¼šé‡å†™çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`);    }}const dog = new Dog('æ—ºè´¢', 4);dog.bark();\n\nåœ¨å­ç±»ä¸­å¯ä»¥ä½¿ç”¨superæ¥å®Œæˆå¯¹çˆ¶ç±»çš„å¼•ç”¨\n\n\næŠ½è±¡ç±»ï¼ˆabstract classï¼‰\n\næŠ½è±¡ç±»æ˜¯ä¸“é—¨ç”¨æ¥è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿çš„ç±»ï¼Œå®ƒåªèƒ½è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹\nabstract class Animal{    abstract run(): void;    bark(){        console.log('åŠ¨ç‰©åœ¨å«~');    }}class Dog extends Animals{    run(){        console.log('ç‹—åœ¨è·‘~');    }}\nä½¿ç”¨abstractå¼€å¤´çš„æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼Œç»§æ‰¿æŠ½è±¡ç±»æ—¶æŠ½è±¡æ–¹æ³•å¿…é¡»è¦å®ç°\n\n\n\n6.3 æ¥å£ï¼ˆInterfaceï¼‰\næ¥å£çš„ä½œç”¨ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä¸åŒç‚¹åœ¨äºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§éƒ½æ˜¯æ²¡æœ‰å®å€¼çš„ï¼Œæ¢å¥è¯è¯´æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚æ¥å£ä¸»è¦è´Ÿè´£å®šä¹‰ä¸€ä¸ªç±»çš„ç»“æ„ï¼Œæ¥å£å¯ä»¥å»é™åˆ¶ä¸€ä¸ªå¯¹è±¡çš„æ¥å£ï¼Œå¯¹è±¡åªæœ‰åŒ…å«æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•æ—¶æ‰èƒ½åŒ¹é…æ¥å£ã€‚åŒæ—¶ï¼Œå¯ä»¥è®©ä¸€ä¸ªç±»å»å®ç°æ¥å£ï¼Œå®ç°æ¥å£æ—¶ç±»ä¸­è¦ä¿æŠ¤æ¥å£ä¸­çš„æ‰€æœ‰å±æ€§ã€‚\n\nç¤ºä¾‹ï¼ˆæ£€æŸ¥å¯¹è±¡ç±»å‹ï¼‰ï¼š\ninterface Person{    name: string;    sayHello():void;}function fn(per: Person){    per.sayHello();}fn({name:'å­™æ‚Ÿç©º', sayHello() {console.log(`Hello, æˆ‘æ˜¯ ${this.name}`)}});\nç¤ºä¾‹ï¼ˆå®ç°ï¼‰\ninterface Person{    name: string;    sayHello():void;}class Student implements Person{    constructor(public name: string) {    }    sayHello() {        console.log('å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯'+this.name);    }}\n\n6.4 æ³›å‹ï¼ˆGenericï¼‰\nå®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»æ—¶ï¼Œæœ‰äº›æƒ…å†µä¸‹æ— æ³•ç¡®å®šå…¶ä¸­è¦ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼ˆè¿”å›å€¼ã€å‚æ•°ã€å±æ€§çš„ç±»å‹ä¸èƒ½ç¡®å®šï¼‰ï¼Œæ­¤æ—¶æ³›å‹ä¾¿èƒ½å¤Ÿå‘æŒ¥ä½œç”¨ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼š\nfunction test(arg: any): any{\treturn arg;}\n\nä¸Šä¾‹ä¸­ï¼Œtestå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ç±»å‹ä¸ç¡®å®šï¼Œä½†æ˜¯èƒ½ç¡®å®šçš„æ—¶å…¶è¿”å›å€¼çš„ç±»å‹å’Œå‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ï¼Œç”±äºç±»å‹ä¸ç¡®å®šæ‰€ä»¥å‚æ•°å’Œè¿”å›å€¼å‡ä½¿ç”¨äº†anyï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·åšæ˜¯ä¸åˆé€‚çš„ï¼Œé¦–å…ˆä½¿ç”¨anyä¼šå…³é—­TSçš„ç±»å‹æ£€æŸ¥ï¼Œå…¶æ¬¡è¿™æ ·è®¾ç½®ä¹Ÿä¸èƒ½ä½“ç°å‡ºå‚æ•°å’Œè¿”å›å€¼æ˜¯ç›¸åŒçš„ç±»å‹\nä½¿ç”¨æ³›å‹ï¼š\nfunction test&lt;T&gt;(arg: T): T{\treturn arg;}\nè¿™é‡Œçš„&lt;T&gt;å°±æ˜¯æ³›å‹ï¼ŒTæ˜¯æˆ‘ä»¬ç»™è¿™ä¸ªç±»å‹èµ·çš„åå­—ï¼ˆä¸ä¸€å®šéå«Tï¼‰ï¼Œè®¾ç½®æ³›å‹åå³å¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨Tæ¥è¡¨ç¤ºè¯¥ç±»å‹ã€‚æ‰€ä»¥æ³›å‹å…¶å®å¾ˆå¥½ç†è§£ï¼Œå°±è¡¨ç¤ºæŸä¸ªç±»å‹ã€‚\né‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ä¸Šè¾¹çš„å‡½æ•°å‘¢ï¼Ÿ\n\næ–¹å¼ä¸€ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰ï¼š\ntest(10)\n\nä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥ä¼ é€’å‚æ•°ä½¿ç”¨ï¼Œç±»å‹ä¼šç”±TSè‡ªåŠ¨æ¨æ–­å‡ºæ¥ï¼Œä½†æœ‰æ—¶ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­æ—¶è¿˜éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼\n\næ–¹å¼äºŒï¼ˆæŒ‡å®šç±»å‹ï¼‰ï¼š\ntest&lt;number&gt;(10)\n\nä¹Ÿå¯ä»¥åœ¨å‡½æ•°åæ‰‹åŠ¨æŒ‡å®šæ³›å‹\n\n\nå¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ³›å‹ï¼Œæ³›å‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼š\nfunction test&lt;T, K&gt;(a: T, b: K): K{    return b;}test&lt;number, string&gt;(10, \"hello\");\n\nä½¿ç”¨æ³›å‹æ—¶ï¼Œå®Œå…¨å¯ä»¥å°†æ³›å‹å½“æˆæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»å»ä½¿ç”¨\n\nç±»ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š\nclass MyClass&lt;T&gt;{    prop: T;    constructor(prop: T){        this.prop = prop;    }}\né™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å¯¹æ³›å‹çš„èŒƒå›´è¿›è¡Œçº¦æŸ\ninterface MyInter{    length: number;}function test&lt;T extends MyInter&gt;(arg: T): number{    return arg.length;}\n\nä½¿ç”¨T extends\nMyInterè¡¨ç¤ºæ³›å‹Tå¿…é¡»æ˜¯MyInterçš„å­ç±»ï¼Œä¸ä¸€å®šéè¦ä½¿ç”¨æ¥å£ç±»å’ŒæŠ½è±¡ç±»åŒæ ·é€‚ç”¨ã€‚\n\n\n\n","categories":["æŠ€æœ¯"],"tags":["TypeScript"]},{"title":"å‰ç«¯åŸºç¡€","url":"/dca56ee05d72/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/","content":"\næµè§ˆå™¨\n\nurl çš„ç»„æˆéƒ¨åˆ†\n\nåè®®ï¼ˆProtocolï¼‰ï¼šè¡¨ç¤ºè®¿é—®ç½‘é¡µæ—¶ä½¿ç”¨çš„é€šä¿¡åè®®ï¼Œå¸¸è§çš„æœ‰\nHTTPã€HTTPSã€FTP ç­‰ã€‚\nåŸŸåï¼ˆDomain\nNameï¼‰ï¼šè¡¨ç¤ºç½‘ç«™çš„åç§°ï¼Œæ˜¯ç½‘ç«™åœ¨äº’è”ç½‘ä¸Šçš„å”¯ä¸€æ ‡è¯†ã€‚åŸŸåç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼ŒåŒ…æ‹¬ä¸»åŸŸåå’Œå­åŸŸåï¼Œä¾‹å¦‚www.example.comä¸­çš„\"www\"æ˜¯å­åŸŸåï¼Œ\"example\"æ˜¯ä¸»åŸŸåï¼Œ\".com\"æ˜¯é¡¶çº§åŸŸåã€‚é¡¶çº§åŸŸåï¼šä¹Ÿå°±æ˜¯åç¼€ï¼Œä¾‹å¦‚.comã€.cnç­‰ã€‚ï¼ˆå¤‡æ³¨ï¼šåŸŸåå¯ä»¥è¯´æ˜¯ä¸€ä¸ªIPåœ°å€çš„ä»£ç§°ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¾¿äºè®°å¿†åè€…ã€‚\nç«¯å£å·ï¼ˆPortï¼‰ï¼šè¡¨ç¤ºç”¨äºè®¿é—®ç½‘ç«™çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º\n80ã€‚ä¾‹å¦‚ï¼Œhttp://www.example.com:8080ä¸­çš„\"8080\"å°±æ˜¯ç«¯å£å·ã€‚ç«¯å£å·çš„èŒƒå›´æ˜¯ï¼š0~65535\nè·¯å¾„ï¼ˆPathï¼‰ï¼šè¡¨ç¤ºç½‘ç«™ä¸Šå…·ä½“çš„æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œhttp://www.example.com/path/to/fileä¸­çš„\"/path/to/file\"å°±æ˜¯è·¯å¾„ï¼ˆç½‘å€å¯ä»¥æ²¡æœ‰ç«¯å£å·ï¼‰ã€‚\næŸ¥è¯¢å‚æ•°ï¼ˆQuery\nParametersï¼‰ï¼šè¡¨ç¤ºå‘æœåŠ¡å™¨ä¼ é€’çš„å‚æ•°ï¼Œç”¨äºå®šåˆ¶è¯·æ±‚çš„å†…å®¹ã€‚æŸ¥è¯¢å‚æ•°ä»¥\"?\"å¼€å¤´ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨\"&amp;\"åˆ†éš”ã€‚ä¾‹å¦‚ï¼Œhttp://www.example.com/path/to/file?param1=value1&amp;param2=value2ä¸­çš„param1=value1&amp;param2=value2å°±æ˜¯æŸ¥è¯¢å‚æ•°ï¼Œè¿™ç§å¸¸è§äºé¡¹ç›®ä¸­è·¯ç”±è·³è½¬çš„ä¼ å‚ã€getè¯·æ±‚ç­‰ã€‚\né”šç‚¹ï¼ˆAnchorï¼‰ï¼šè¡¨ç¤ºç½‘é¡µå†…éƒ¨çš„å®šä½ç‚¹ã€‚é”šç‚¹ä»¥\"#\"å¼€å¤´ï¼Œç”¨äºè·³è½¬åˆ°ç½‘é¡µçš„ç‰¹å®šä½ç½®ã€‚ä¾‹å¦‚ï¼Œhttp://www.example.com/path/to/file#section1ä¸­çš„\"#section1\"å°±æ˜¯é”šç‚¹ï¼Œå¸¸è§äºaæ ‡ç­¾çš„è¶…é“¾æ¥ã€‚\n\nè¾“å…¥ url æ•²å›è½¦åå‘ç”Ÿäº†ä»€ä¹ˆ\nå¤§å‚å¸¸é—®ï¼šè¾“å…¥\nURL åˆ°æ˜¾ç¤ºé¡µé¢çš„å…¨è¿‡ç¨‹\n\nåœ¨æµè§ˆå™¨åœ°å€æ è¾“â¼ŠURL\næµè§ˆå™¨æŸ¥çœ‹ç¼“å­˜ï¼Œå¦‚æœè¯·æ±‚èµ„æºåœ¨ç¼“å­˜ä¸­å¹¶ä¸”æ–°é²œï¼Œè·³è½¬åˆ°è§£ç æ­¥éª¤\n\nå¦‚æœèµ„æºæœªç¼“å­˜ï¼Œå‘èµ·æ–°è¯·æ±‚\nå¦‚æœå·²ç¼“å­˜ï¼Œæ£€éªŒæ˜¯å¦â¾œå¤Ÿæ–°é²œï¼Œâ¾œå¤Ÿæ–°é²œç›´æ¥æä¾›ç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™ä¸æœåŠ¡å™¨è¿›â¾éªŒè¯ã€‚\næ£€éªŒæ–°é²œé€šå¸¸æœ‰ä¸¤ä¸ª HTTP å¤´è¿›â¾æ§åˆ¶ Expires å’Œ Cache-Controlï¼š\nHTTP1.0 æä¾› Expiresï¼Œå€¼ä¸ºâ¼€ä¸ªç»å¯¹æ—¶é—´è¡¨ç¤ºç¼“å­˜æ–°é²œâ½‡æœŸ HTTP1.1 å¢åŠ äº†\nCache-Control: max-age=timeï¼Œå€¼ä¸ºä»¥ç§’ä¸ºå•ä½çš„æœ€â¼¤æ–°é²œæ—¶é—´\n\næµè§ˆå™¨è§£æ\nURLè·å–åè®®ï¼Œä¸»æœºï¼Œç«¯â¼ï¼Œè·¯å¾„ç­‰ä¿¡æ¯\næµè§ˆå™¨ç»„è£…â¼€ä¸ª HTTPï¼ˆGETï¼‰è¯·æ±‚æŠ¥â½‚\næµè§ˆå™¨è·å–ä¸»æœº ip\nåœ°å€ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š\n\næµè§ˆå™¨ç¼“å­˜\næœ¬æœºç¼“å­˜\nhostsâ½‚ä»¶\nè·¯ç”±å™¨ç¼“å­˜\nISP DNSç¼“å­˜\nDNSé€’å½’æŸ¥è¯¢ï¼ˆå¯èƒ½å­˜åœ¨è´Ÿè½½å‡è¡¡å¯¼è‡´æ¯æ¬¡IPä¸â¼€æ ·ï¼‰\n\nå¼€å¯ä¸€ä¸ªsocketä¸ç›®æ ‡ IP åœ°å€ç«¯å£å»ºç«‹ TCP è¿æ¥\n\nä¸‰æ¬¡æ¡æ‰‹\n\nå»ºç«‹ TCP åå‘é€ HTTPè¯·æ±‚\næœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶è§£æï¼Œå°†è¯·æ±‚è½¬å‘åˆ°æœåŠ¡ç¨‹åº\næœåŠ¡å™¨æ£€æŸ¥HTTPè¯·æ±‚å¤´æ˜¯å¦åŒ…å«ç¼“å­˜éªŒè¯ä¿¡æ¯ï¼Œå¦‚æœéªŒè¯ç¼“å­˜æ–°é²œï¼Œè¿”å›\n304 ç­‰å¯¹åº”çŠ¶æ€ç \nå¤„ç†ç¨‹åºè¯»å–å®Œæ•´è¯·æ±‚å¹¶å‡†å¤‡HTTPå“åº”\næœåŠ¡å™¨å°†å“åº”æŠ¥â½‚é€šè¿‡TCPè¿æ¥å‘é€å›æµè§ˆå™¨\næµè§ˆå™¨æ¥æ”¶HTTPå“åº”ï¼Œç„¶åæ ¹æ®æƒ…å†µé€‰æ‹©å…³é—­TCPè¿æ¥æˆ–è€…ä¿ç•™é‡â½¤\n\nå››æ¬¡æŒ¥æ‰‹\n\næµè§ˆå™¨æ£€æŸ¥å“åº”çŠ¶æ€ç \nå¦‚æœèµ„æºå¯ç¼“å­˜ï¼Œç¼“å­˜èµ„æº\nå¯¹å“åº”è¿›è¡Œè§£ç \næ ¹æ®èµ„æºç±»å‹ç¡®å®šå¦‚ä½•å¤„ç†\nè§£æ HTMLæ„å»º DOM æ ‘ï¼Œä¸‹è½½ CSSã€JS èµ„æºç­‰ï¼Œæ„é€ \nCSS è§„åˆ™æ ‘ï¼Œæ‰§è¡Œ JS è„šæœ¬\n\næµè§ˆå™¨æ¸²æŸ“æ—¶æœ‰å“ªäº›çº¿ç¨‹\nchrome\næµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹é‡Œæœ‰å“ªäº›çº¿ç¨‹\n\nGUI æ¸²æŸ“çº¿ç¨‹\nJS å¼•æ“çº¿ç¨‹\näº‹ä»¶è§¦å‘çº¿ç¨‹\nå®šæ—¶è§¦å‘å™¨çº¿ç¨‹\nå¼‚æ­¥ http è¯·æ±‚çº¿ç¨‹\nåˆæˆçº¿ç¨‹\nIO çº¿ç¨‹\n\ndefer å’Œ async çš„åŒºåˆ«\ndefer å’Œ async\nçš„åŒºåˆ«\n\ndefer è„šæœ¬åœ¨åå°åŠ è½½ï¼Œç­‰å¾… dom å‡†å¤‡å¥½æ—¶æ‰åŠ è½½è„šæœ¬\nè€Œä¸”è„šæœ¬çš„è¿è¡Œæœ‰ä¸¥æ ¼çš„é¡ºåº\nasync è„šæœ¬åå°åŠ è½½ï¼ŒåŠ è½½å®Œç«‹å³æ‰§è¡Œï¼Œæ²¡æœ‰ä¸¥æ ¼é¡ºåº\n\ncookie å’Œ localStorage\nçš„åŒºåˆ«\né¢è¯•å®˜ï¼šJavascript\næœ¬åœ°å­˜å‚¨çš„æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åŠåº”ç”¨åœºæ™¯ï¼Ÿ | web å‰ç«¯é¢è¯• -\né¢è¯•å®˜ç³»åˆ—\né¢è¯•å®˜: æ—¢ç„¶æœ‰äº†\ncookie ä¸ºä»€ä¹ˆè¿˜è¦ localStorage?ğŸ˜•ğŸ˜•ğŸ˜•Cookie é€‚åˆç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ -\næ˜é‡‘\nCookieã€LocalStorage\nå’Œ SessionStorageï¼šä¸€æ¬¡éå¸¸è¯¦ç»†çš„å¯¹æ¯”!_cookie localstorage\nsessionstorage-CSDN åšå®¢\nç®€å•è¯·æ±‚ã€å¤æ‚è¯·æ±‚ã€é¢„æ£€è¯·æ±‚\nå®˜æ–¹æ–‡æ¡£\né¢„æ£€è¯·æ±‚\nä»€ä¹ˆæ˜¯è·¨åŸŸ\nä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿè·¨åŸŸè§£å†³æ–¹æ³•-CSDN\nåšå®¢\nè·¨åŸŸï¼ˆCross-Origin Resource Sharingï¼Œç®€ç§°\nCORSï¼‰æ˜¯ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œç”¨äºé™åˆ¶ä¸€ä¸ªåŸŸçš„ç½‘é¡µå¦‚ä½•ä¸å¦ä¸€ä¸ªåŸŸçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯æµè§ˆå™¨å®ç°çš„åŒæºç­–ç•¥ï¼ˆSame-Origin\nPolicyï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨é˜²æ­¢æ¶æ„ç½‘ç«™é€šè¿‡ä¸€ä¸ªåŸŸçš„ç½‘é¡µè®¿é—®å¦ä¸€ä¸ªåŸŸçš„æ•æ„Ÿæ•°æ®ã€‚\næ‰€è°“åŒæºï¼ŒæŒ‡çš„æ˜¯ä¸¤ä¸ªé¡µé¢å¿…é¡»å…·æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ã€åŸŸåï¼ˆhostï¼‰å’Œç«¯å£å·ï¼ˆportï¼‰ã€‚\n\nè®¾ç½® document.domain è§£å†³æ— æ³•è¯»å–éåŒæºç½‘é¡µçš„ Cookie\né—®é¢˜\nè¦æ±‚ä¸»åŸŸåç›¸åŒ\nè·¨æ–‡æ¡£é€šä¿¡ APIï¼šwindow.postMessage()\nJSONP\n\nJSONP æ˜¯æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯è·¨æºé€šä¿¡çš„å¸¸ç”¨æ–¹æ³•\næ ¸å¿ƒæ€æƒ³ï¼šç½‘é¡µé€šè¿‡æ·»åŠ ä¸€ä¸ª&lt;script&gt;å…ƒç´ ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚\nJSON\næ•°æ®ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå°†æ•°æ®æ”¾åœ¨ä¸€ä¸ªæŒ‡å®šåå­—çš„å›è°ƒå‡½æ•°çš„å‚æ•°ä½ç½®ä¼ å›æ¥ã€‚\n\nCORS\n\næ™®é€šè·¨åŸŸè¯·æ±‚ï¼šåªéœ€æœåŠ¡å™¨ç«¯è®¾ç½®\nAccess-Control-Allow-Origin\nå¸¦ cookie è·¨åŸŸè¯·æ±‚ï¼šå‰åç«¯éƒ½éœ€è¦è¿›è¡Œè®¾ç½®\n\nAccess-Control-Allow-Credentials\nè®¾ç½®ä¸ºtrue\n\n\nWebpack æœ¬åœ°ä»£ç†ï¼ˆæœ¬åœ°è°ƒè¯•ï¼‰\n\nçº¿ä¸Šç¯å¢ƒè·¨åŸŸå¦‚ä½•è§£å†³\né¢è¯•å®˜ï¼šèŠèŠä½ çŸ¥é“çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆè·¨åŸŸæ˜¯å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ä¸€ä¸ªåœºæ™¯ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­ç»å¸¸ä¼šè®¨è®ºçš„ä¸€ä¸ªé—®é¢˜ã€‚æŒæ¡å¸¸è§çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ\n- æ˜é‡‘\n\né€šè¿‡è®¾ç½® CORS\nJSONP\nnginx åå‘ä»£ç†\n\né‡æ’ï¼ˆå›æµï¼‰ã€é‡ç»˜ã€å¦‚ä½•é¿å…\né¢è¯•å®˜ï¼šæ€ä¹ˆç†è§£å›æµè·Ÿé‡ç»˜ï¼Ÿä»€ä¹ˆåœºæ™¯ä¸‹ä¼šè§¦å‘ï¼Ÿ\n| web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\näº‹ä»¶å¾ªç¯ã€å®å¾®ä»»åŠ¡éƒ½æœ‰å“ªäº›\né¢è¯•å®˜ï¼šè¯´è¯´ä½ å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£\n| web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\nJS\næ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœéœ€è¦å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼Œä¸èƒ½åœ¨å¼‚æ­¥ä»»åŠ¡é‚£é‡Œé˜»å¡ä½ï¼Œå› æ­¤æœ‰äº†äº‹ä»¶å¾ªç¯ã€‚\né¦–å…ˆå°†ä»»åŠ¡åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¦‚æœæ˜¯åŒæ­¥ä»»åŠ¡åˆ™ç›´æ¥æ¨å…¥ä¸»çº¿ç¨‹å»æ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡åˆ™ä¼šåŠ å…¥åˆ°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ã€‚å½“ä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸåï¼Œä¼šä»ä»»åŠ¡é˜Ÿåˆ—ä¸­è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹é‡å¤æ‰§è¡Œå°±æ„æˆäº†äº‹ä»¶å¾ªç¯ã€‚\nè€Œä»»åŠ¡é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œæ—¶ä¼šä¼˜å…ˆæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ç›´è‡³æ¸…ç©ºï¼Œç„¶åå–ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œï¼Œå®ä»»åŠ¡ç»“æŸåå†æ¬¡æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå¾ªç¯å¾€å¤ã€‚\næµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯å’Œ\nNodeJS çš„äº‹ä»¶å¾ªç¯çš„åŒºåˆ«\né¢è¯•å®˜ï¼šè¯´è¯´å¯¹\nNodejs ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ç†è§£? | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\nåœ¨æµè§ˆå™¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ˜¯æ ¹æ®HTML5å®šä¹‰çš„è§„èŒƒæ¥å®ç°ã€‚è€ŒNodeJSçš„äº‹ä»¶å¾ªç¯æ˜¯åŸºäºlibuvå®ç°çš„ï¼Œlibuvæ˜¯ä¸€ä¸ªå¤šå¹³å°çš„å¼‚æ­¥\nIO åº“ã€‚\nNodejs äº‹ä»¶å¾ªç¯åˆ†ä¸ºå…­ä¸ªé˜¶æ®µ\n\n\nå®šæ—¶å™¨æ£€æµ‹é˜¶æ®µ(timers)ï¼šæœ¬é˜¶æ®µæ‰§è¡Œ timer çš„å›è°ƒï¼Œå³\nsetTimeoutã€setInterval é‡Œé¢çš„å›è°ƒå‡½æ•°\nI/O äº‹ä»¶å›è°ƒé˜¶æ®µ(I/O callbacks)ï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I/O\nå›è°ƒï¼Œå³ä¸Šä¸€è½®å¾ªç¯ä¸­æœªè¢«æ‰§è¡Œçš„ä¸€äº› I/O å›è°ƒ\né—²ç½®é˜¶æ®µ(idle, prepare)ï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨\nè½®è¯¢é˜¶æ®µ(poll)ï¼šæ£€ç´¢æ–°çš„ I/O äº‹ä»¶;æ‰§è¡Œä¸ I/O\nç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œé‚£äº›ç”±è®¡æ—¶å™¨å’Œ\nsetImmediate() è°ƒåº¦çš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨é€‚å½“çš„æ—¶å€™åœ¨æ­¤é˜»å¡\næ£€æŸ¥é˜¶æ®µ(check)ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œ\nå…³é—­äº‹ä»¶å›è°ƒé˜¶æ®µ(close\ncallback)ï¼šä¸€äº›å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on('close', ...)\n\næ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½“äº‹ä»¶å¾ªç¯è¿›å…¥æŸä¸ªé˜¶æ®µæ—¶,\nå°†ä¼šåœ¨è¯¥é˜¶æ®µå†…æ‰§è¡Œå›è°ƒï¼Œç›´åˆ°é˜Ÿåˆ—è€—å°½æˆ–è€…å›è°ƒçš„æœ€å¤§æ•°é‡å·²æ‰§è¡Œ,\né‚£ä¹ˆå°†è¿›å…¥ä¸‹ä¸€ä¸ªå¤„ç†é˜¶æ®µï¼Œç›´è§‚è¡¨ç°æ˜¯ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—å…¨éƒ¨æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œè€Œæµè§ˆå™¨æ˜¯å®ä»»åŠ¡æ‰§è¡Œä¸€ä¸ªå°±å»æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚\né™¤äº†ä¸Šè¿° 6\nä¸ªé˜¶æ®µï¼Œè¿˜å­˜åœ¨process.nextTickï¼Œå…¶ä¸å±äºäº‹ä»¶å¾ªç¯çš„ä»»ä½•ä¸€ä¸ªé˜¶æ®µï¼Œå®ƒå±äºè¯¥é˜¶æ®µä¸ä¸‹é˜¶æ®µä¹‹é—´çš„è¿‡æ¸¡,\nå³æœ¬é˜¶æ®µæ‰§è¡Œç»“æŸ, è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µå‰, æ‰€è¦æ‰§è¡Œçš„å›è°ƒï¼Œç±»ä¼¼æ’é˜Ÿ\næµè§ˆå™¨ç¼“å­˜\næµè§ˆå™¨ç¼“å­˜æœºåˆ¶\nHTTP å’Œ HTTPS çš„åŒºåˆ«\né¢è¯•å®˜ï¼šä»€ä¹ˆæ˜¯\nHTTP? HTTP å’Œ HTTPS çš„åŒºåˆ«? | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\nhttp2.0 å’Œ http3.0\næœ‰ä»€ä¹ˆåŒºåˆ«\nhttp2.0 å’Œ\nhttp3.0 çš„åŒºåˆ«\nReact\nReact Fiber æ˜¯ä»€ä¹ˆ\nä¸€é—®è¯»æ‡‚ React\nFiber\nReact ç½‘ç»œè¯·æ±‚æ”¾åœ¨å“ªé‡Œåˆé€‚\nç½‘ç»œè¯·æ±‚æ”¾åœ¨å“ªé‡Œæœ€åˆé€‚\n\næ”¾åœ¨componentDidMountå’ŒcomponentWillMountæœ‰ä»€ä¹ˆåŒºåˆ«\n\næ¨èæ”¾åœ¨componentDidMountä¸­\nåŸå› ï¼š\n\ncomponentWillMountç”Ÿå‘½å‘¨æœŸåœ¨æ–°ç‰ˆä¸­å·²ç»è¿‡æ—¶æˆ–è€…è¢«åºŸå¼ƒ\nReact å®˜æ–¹æ¨èåœ¨componentDidMountä¸­å‘é€ç½‘ç»œè¯·æ±‚\nå¦‚æœä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒcomponentWillMountè¿™ä¸ªç”Ÿå‘½å‘¨æœŸçš„ç½‘ç»œè¯·æ±‚ä¼šå‘é€ä¸¤æ¬¡ï¼Œä¸€æ¬¡åœ¨æœåŠ¡ç«¯ï¼Œä¸€æ¬¡åœ¨å®¢æˆ·ç«¯ï¼Œè€ŒcomponentDidMountæ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œåªä¼šåœ¨å®¢æˆ·ç«¯è¯·æ±‚\nå¦‚æœç»„ä»¶ render\næ—¶å‘ç”Ÿäº†å¼‚å¸¸å¯¼è‡´ä¸èƒ½æ­£å¸¸æŒ‚è½½ï¼ŒcomponentDidMountåˆ™ä¸ä¼šå‘é€è¯·æ±‚ï¼Œè€ŒcomponentWillMountä¼šå‘é€è¯·æ±‚ï¼Œè¯·æ±‚åˆ°çš„æ•°æ®æ— æ³•è¢«ä½¿ç”¨ï¼Œæµªè´¹èµ„æº\n\nä½¿ç”¨ Hooks\nç›¸æ¯”äºç±»ç»„ä»¶çš„ä¼˜åŠ¿\n\nç®€åŒ–ä»£ç \n\nç±»ç»„ä»¶éœ€è¦å®šä¹‰æ„é€ å‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ç­‰ï¼Œè€Œå‡½æ•°å¼ç»„ä»¶åªéœ€è¦å‡½æ•°æœ¬èº«ï¼Œå‡å°‘äº†å¾ˆå¤šæ ·æ¿ä»£ç \n\næ˜“äºç»„åˆå’Œé‡ç”¨é€»è¾‘\n\nä½¿ç”¨ Hooks å¯ä»¥å®¹æ˜“åœ°æå–å’Œå¤ç”¨ç»„ä»¶ä¸­çš„é€»è¾‘\n\né¿å…äº† this\n\nå‡å°‘äº† this çš„å¤æ‚æ€§ï¼Œä»£ç æ›´æ¸…æ™°\n\n\nJSX å¦‚ä½•ç¼–è¯‘æ¸²æŸ“åˆ°é¡µé¢ä¸­\n\næµè§ˆå™¨ä¸èƒ½è¯†åˆ« jsx ä»£ç ï¼Œéœ€è¦è½¬æˆ js ä»£ç ã€‚\né¦–å…ˆé€šè¿‡ Babel è½¬æ¢å·¥å…·å°† jsx è½¬æ¢ä¸º js ä»£ç \nconst element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;// è½¬æ¢åï¼Œåˆ†åˆ«æ˜¯ æ ‡ç­¾çš„ç±»å‹ã€æ ‡ç­¾çš„å±æ€§å€¼å¯¹è±¡ã€æ ‡ç­¾çš„å†…å®¹ï¼ˆå­å…ƒç´ ï¼‰const element = React.createElement('h1', null, 'Hello, world!');\nReact.createElementåˆ›å»ºçš„å¯¹è±¡ä¹Ÿå«åšè™šæ‹Ÿ DOM\nå°†è™šæ‹Ÿ DOM è½¬ä¸ºçœŸå® DOM\nä½¿ç”¨React.createRootåˆ›å»ºæ ¹å¯¹è±¡ï¼Œç„¶åå°†è™šæ‹Ÿ DOM æ¸²æŸ“åˆ° id\nä¸º root çš„ DOM èŠ‚ç‚¹ä¸­ã€‚\n\nBabel æ˜¯ä»€ä¹ˆï¼Ÿè½¬æ¢åŸç†ï¼Ÿ\nBabel\nçš„åŸç†-CSDN åšå®¢\nBabel æ˜¯ JavaScript ç¼–è¯‘å™¨ï¼Œå¯ä»¥å°†\nTSã€JSXã€TSX ç­‰è½¬æˆéœ€è¦çš„ä»£ç ã€‚\nBabel å†…éƒ¨åŸç†æ˜¯å°† JS ä»£ç è½¬æ¢ä¸º ASTï¼Œå¯¹ AST\nåº”ç”¨å„ç§æ’ä»¶è¿›è¡Œå¤„ç†ï¼Œæœ€ç»ˆè¾“å‡ºç¼–è¯‘åçš„ JS ä»£ç ã€‚\nReact Hooks\nä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨ if else ä¸­\nè®²æ¸…æ¥šä¸ºä»€ä¹ˆ\nReact Hooks ä¸èƒ½æ”¾åœ¨æ¡ä»¶è¯­å¥ä¸­\nå¤šä¸ª Hooks åœ¨ React\nä¸­æ˜¯ä»¥é“¾è¡¨çš„å½¢å¼å­˜åœ¨çš„ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä¼šå½¢æˆä¸€ä¸ªé“¾è¡¨ï¼Œå­˜å‚¨ç€æ‰€æœ‰çš„ Hook\nçš„ä¿¡æ¯ï¼Œåè¾¹æ¸²æŸ“æ—¶éƒ½ä¼šæŒ‰ç…§è¿™ä¸ªé“¾è¡¨çš„ä¿¡æ¯æ›´æ–°\nHookï¼Œå¦‚æœæœ‰åˆ¤æ–­æ¡ä»¶ï¼Œä¼šå¯¼è‡´é‡æ–°æ¸²æŸ“å‰åçš„é“¾è¡¨ä¸ä¸€è‡´ï¼Œå¯¼è‡´çŠ¶æ€æ··ä¹±ã€‚\nuseEffect å’Œ\nuseLayoutEffect çš„åŒºåˆ«\nã€ŒReactã€useEffect\nä¸ useLayoutEffect ä½¿ç”¨ä¸åŒºåˆ«_useeffect å’Œ uselayouteffect ä½¿ç”¨åœºæ™¯-CSDN\nåšå®¢\n\nuseEffect\n\nç»„ä»¶æ¸²æŸ“åˆ°å±å¹•åå¼‚æ­¥æ‰§è¡Œ\nå…¨éƒ¨ dom æ›´æ–°å®Œæˆã€æµè§ˆå™¨ç»˜åˆ¶ä¹‹åå¼‚æ­¥æ‰§è¡Œ\nä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“\n\nuseLayoutEffect å’Œ useEffect ç±»ä¼¼ï¼Œä½†ä¹Ÿæœ‰åŒºåˆ«\n\nå…¨éƒ¨ dom\næ›´æ–°å®ŒæˆååŒæ­¥æ‰§è¡Œï¼Œåœ¨æµè§ˆå™¨ç»˜åˆ¶å‰æ‰§è¡Œ\nä¼šé˜»å¡æµè§ˆå™¨æ¸²æŸ“\n\nä¸€èˆ¬æ¨èé»˜è®¤ä½¿ç”¨\nuseEffectï¼Œåªæœ‰åœ¨æ¶‰åŠåˆ°éœ€è¦åœ¨å¸ƒå±€æ¸²æŸ“é˜¶æ®µåŒæ­¥æ‰§è¡Œçš„ DOM\næ“ä½œæˆ–æœ‰ä¸¥æ ¼çš„é¡ºåºè¦æ±‚æ—¶ï¼Œæ‰ä½¿ç”¨ useLayoutEffectã€‚\n\nç»„ä»¶ä¸­çš„ key å±æ€§æœ‰ä»€ä¹ˆä½œç”¨\nReact å­˜åœ¨\nDiffç®—æ³•ï¼Œè€Œå…ƒç´ keyå±æ€§çš„ä½œç”¨æ˜¯ç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯æ–°åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ æ¸²æŸ“ã€‚\nå› æ­¤keyçš„å€¼éœ€è¦ä¸ºæ¯ä¸€ä¸ªå…ƒç´ èµ‹äºˆä¸€ä¸ªç¡®å®šçš„æ ‡è¯†\nçˆ¶å­ç»„ä»¶çš„å­ç»„ä»¶æœ‰ä¸ª\nkeyï¼Œæ¯æ¬¡æ¸²æŸ“å key å€¼+1 åä¼šå‘ç”Ÿä»€ä¹ˆ\nç»„ä»¶è¢«å¸è½½å¹¶é‡æ–°æŒ‚è½½\n\nReact ä½¿ç”¨ key æ¥å”¯ä¸€æ ‡è¯†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå­ç»„ä»¶ã€‚\nå½“ key æ”¹å˜æ—¶ï¼ŒReact ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç»„ä»¶ã€‚\nç»“æœæ˜¯ï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¸è½½ï¼Œæ–°çš„ç»„ä»¶å®ä¾‹ä¼šè¢«æŒ‚è½½ã€‚\n\nç»„ä»¶çš„çŠ¶æ€ä¸¢å¤±\n\nå¦‚æœå­ç»„ä»¶å†…éƒ¨æœ‰æœ¬åœ°çŠ¶æ€ï¼ˆuseState æˆ–ç±»ç»„ä»¶çš„\nstateï¼‰ï¼ŒçŠ¶æ€ä¼šåœ¨æ¯æ¬¡ key æ”¹å˜æ—¶è¢«é‡ç½®ã€‚\nè¿™æ˜¯å› ä¸º React è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªæ–°ç»„ä»¶å®ä¾‹ï¼Œæ—§çš„çŠ¶æ€æ— æ³•ä¿ç•™ã€‚\n\næ€§èƒ½å½±å“\n\næ¯æ¬¡ key æ”¹å˜ï¼ŒReact\nä¼šå¸è½½å’Œé‡æ–°æŒ‚è½½å­ç»„ä»¶ï¼Œè€Œä¸æ˜¯é‡ç”¨ç°æœ‰çš„ DOM å’Œç»„ä»¶å®ä¾‹ã€‚\nè¿™ä¼šå¢åŠ ä¸å¿…è¦çš„æ¸²æŸ“å’Œè®¡ç®—è´Ÿæ‹…ï¼Œä»è€Œå½±å“æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å½“å­ç»„ä»¶åŒ…å«å¤æ‚é€»è¾‘æˆ–æœ‰è¾ƒå¤š\nDOM å…ƒç´ æ—¶ã€‚\n\nReact æ€§èƒ½ä¼˜åŒ–\né¢è¯•å®˜ï¼šè¯´è¯´ä½ æ˜¯å¦‚ä½•æé«˜ç»„ä»¶çš„æ¸²æŸ“æ•ˆç‡çš„ï¼Ÿåœ¨\nReact ä¸­å¦‚ä½•é¿å…ä¸å¿…è¦çš„ renderï¼Ÿ | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\nshouldComponentUpdateï¼Œæ›´æ–°å‰æ‰‹åŠ¨æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼ï¼Œå¦‚æœç›¸åŒåˆ™è¿”å›falseä¸è¿›è¡Œæ›´æ–°ï¼Œå¦åˆ™è¿”å›trueæ›´æ–°\nPureComponent\nReact.memoï¼Œç¼“å­˜ç»„ä»¶ï¼Œç»™ç»„ä»¶çš„propså‚æ•°æ›´æ–°æ—¶ï¼Œæ‰ä¼šæ›´æ–°ç»„ä»¶ï¼Œåªé€‚ç”¨äºå‡½æ•°å¼ç»„ä»¶\n\né¿å…ä½¿ç”¨å†…è”å‡½æ•°\n\næ¯”å¦‚äº‹ä»¶å›è°ƒæ—¶ï¼Œé¿å…åœ¨å›è°ƒæ—¶è®¾ç½®ç±»ä¼¼äºç®­å¤´å‡½æ•°ï¼Œè€Œæ˜¯åœ¨å¤–å±‚å®šä¹‰å¥½ï¼Œç›´æ¥ç”¨å‡½æ•°åä»£æ›¿ï¼Œé¿å…é‡å¤ç”Ÿæˆå‡½æ•°ã€‚\n\nä½¿ç”¨ React.Fragments é¿å…é¢å¤–æ ‡è®°\n\nç©ºæ ‡ç­¾æˆ–è€… fragment\næ ‡ç­¾å¯ä»¥ä½œä¸ºé¡¶çº§æ ‡ç­¾ä½¿ç”¨ï¼Œä¸ä¼šåƒç»„ä»¶å¼•å…¥ä»»ä½•é¢å¤–æ ‡è®°\n\nä½¿ç”¨ Immutable\n\nä½¿ç”¨ Immutableå¯ä»¥ç»™ React\nåº”ç”¨å¸¦æ¥æ€§èƒ½çš„ä¼˜åŒ–ï¼Œä¸»è¦ä½“ç°åœ¨å‡å°‘æ¸²æŸ“çš„æ¬¡æ•°\nåœ¨åšreactæ€§èƒ½ä¼˜åŒ–çš„æ—¶å€™ï¼Œä¸ºäº†é¿å…é‡å¤æ¸²æŸ“ï¼Œæˆ‘ä»¬ä¼šåœ¨shouldComponentUpdate()ä¸­åšå¯¹æ¯”ï¼Œå½“è¿”å›trueæ‰§è¡Œrenderæ–¹æ³•\nImmutableé€šè¿‡isæ–¹æ³•åˆ™å¯ä»¥å®Œæˆå¯¹æ¯”ï¼Œè€Œæ— éœ€åƒä¸€æ ·é€šè¿‡æ·±åº¦æ¯”è¾ƒçš„æ–¹å¼æ¯”è¾ƒ\n\nä½¿ç”¨ lazy ç»„ä»¶æ‡’åŠ è½½\n\nContext å’Œ Redux çš„åŒºåˆ«\nã€reactã€‘context\nVS redux å‰è¨€ è‡ªä»æ–°çš„ context API å’Œ hook ç‰¹æ€§ç›¸ç»§å‡ºæ¥åï¼Œæ±Ÿæ¹–ä¸Šç±»ä¼¼äº\n- æ˜é‡‘\n\nContext\nä¸»è¦ç”¨äºè§£å†³è·¨ç»„ä»¶æ•°æ®ä¼ é€’å’Œå…±äº«é—®é¢˜ï¼Œç¥–å…ˆç»„ä»¶é€šè¿‡Context.Providerç»„ä»¶å‘å¸ƒæ•°æ®ï¼Œåä»£ç»„ä»¶å¯ä»¥é€šè¿‡Context.Consumeræˆ–è€…useContexté’©å­è®¢é˜…æ•°æ®è¿›è¡Œæ¶ˆè´¹\nContext + useReducer\né€šè¿‡Contextç®¡ç†çŠ¶æ€ï¼ŒuseReduceræ”¹å˜çŠ¶æ€ï¼Œå¯ä»¥ç®€å•å®ç°çŠ¶æ€ç®¡ç†çš„åŠŸèƒ½ã€‚\nä½†æ˜¯è®¢é˜…äº† context\nå®ä¾‹çš„ç»„ä»¶ï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œå³ä½¿è¿™ä¸ªç»„ä»¶æ²¡æœ‰æ¶ˆè´¹æ›´æ–°çš„æ•°æ®ï¼Œè¯¥ç»„ä»¶ä»ç„¶ä¼šé‡æ–°æ¸²æŸ“ã€‚\nRedux\nå®Œæ•´çš„çŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚é€šè¿‡React-Reduxç®¡ç†çŠ¶æ€ï¼Œå½“ç»„ä»¶æ¶ˆè´¹æ•°æ®æ—¶ï¼Œå…¶ä»–æ•°æ®æ›´æ–°ä¸ä¼šå½±å“åˆ°è¯¥ç»„ä»¶ï¼Œåªæœ‰æ¶ˆè´¹çš„æ•°æ®æ›´æ–°äº†ï¼Œæ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚\nè°ƒè¯•å·¥å…·\nReduxè°ƒè¯•å·¥å…·å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°çŠ¶æ€ä»€ä¹ˆæ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œè€ŒContextä¸èƒ½çœ‹åˆ°ï¼Œåªèƒ½çœ‹åˆ°å½“å‰çš„çŠ¶æ€\n\nReactContext\nReact\nç»„ä»¶é€šä¿¡æ–¹å¼\nçˆ¶ç»„ä»¶å‘åä»£ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œ\nçˆ¶ç»„ä»¶é€šè¿‡React.createContextåˆ›å»ºä¸€ä¸ªcontext\nconst testContext = React.createContext('test');\né€šè¿‡testContext.Providerç»„ä»¶åŒ…è£¹åä»£ç»„ä»¶ï¼Œå°†è¦ä¼ é€’çš„æ•°æ®æ”¾åœ¨Providerç»„ä»¶ä¸­ã€‚\n&lt;testContext.Provider value={100}&gt;&lt;/testContext.Provider&gt;\nåä»£ç»„ä»¶è·å–è¿™ä¸ªæ•°æ®å¯ä»¥ä½¿ç”¨testContext.Consumerç»„ä»¶\n&lt;testContext.Consumer&gt;  {/* å¿…é¡»å†™ä¸€ä¸ªå‡½æ•°ï¼Œè·å–çš„æ•°æ®æ”¾åœ¨äº†å‡½æ•°å…¥å‚é‡Œ */}  {(value) =&gt; &lt;div&gt;{value}&lt;/div&gt;}&lt;/testContext.Consumer&gt;\næˆ–è€…åœ¨ç±»ç»„ä»¶ä¸­è®¾ç½®contextTypeå±æ€§æ¥æ”¶\nclass MyClass extend React.Component {    static contextType = testContext;    render() {        // è·å–æ•°æ®äº†        let value = this.context;    }}\nReact çš„å‘å¸ƒè®¢é˜…æ¨¡å¼\nReact è™šæ‹Ÿ dom diff æ“ä½œ\né¢è¯•å®˜ï¼šè¯´è¯´\nReact diff çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\n\ntree diffï¼Œå±‚çº§æ¯”è¾ƒï¼Œæ ‘ä¸­åŒä¸€ä¸ªå±‚çº§çš„æ¯”è¾ƒï¼Œåªæœ‰æ·»åŠ ã€åˆ é™¤æ“ä½œ\ncomponent\ndiffï¼Œç»„ä»¶æ¯”è¾ƒï¼Œç»„ä»¶æ¯”è¾ƒç±»å‹ï¼Œç±»å‹ä¸åŒåˆ™ç›´æ¥åˆ é™¤æ—§çš„ï¼Œæ·»åŠ æ–°çš„ï¼ˆè¿åŒå­ç»„ä»¶ä¸€å¹¶åˆ é™¤ã€æ·»åŠ ï¼‰\nelement diffï¼Œå…ƒç´ æ¯”è¾ƒï¼Œæœ‰åˆ é™¤ã€æ·»åŠ ã€ç§»åŠ¨æ“ä½œã€‚\n\næœ‰keyçš„æƒ…å†µä¸‹å¯ä»¥æ¯”è¾ƒå¿«çš„ç§»åŠ¨å®Œæˆ\nä¸»è¦æ˜¯index, oldIndex, maxIndexï¼Œé€šè¿‡è¿™ä¸‰ä¸ªå€¼æ¯”è¾ƒï¼Œç„¶åè¿›è¡Œç§»åŠ¨æ“ä½œ\næŒ‰ç…§æ–°é›†åˆçš„é¡ºåºè¿›è¡Œæ’åˆ—ï¼Œå³indexçš„å€¼ä¸º0, 1, 2, ..., nï¼Œç„¶åå¯¹æ¯”æ—§é›†åˆä¸­keyï¼Œä¾æ¬¡å°†æ—§é›†åˆçš„ä½ç½®ç´¢å¼•èµ‹å€¼ç»™oldIndexï¼Œæ‰€ä»¥oldIndexå¯èƒ½ä¸º2, 0, 1, 3, ..., nï¼Œåˆå§‹å€¼maxIndexè®¾ç½®ä¸º\n0\næŒ‰ç…§å¦‚ä¸‹è§„åˆ™å¯¹indexè¿›è¡Œéå†\n\noldIndex &gt; maxIndexæ—¶ï¼Œä»¤maxIndex = oldIndex\noldIndex === maxIndexæ—¶ï¼Œä¸æ“ä½œ\noldIndex &lt; maxIndexæ—¶ï¼Œå°†oldIndexä½ç½®çš„å…ƒç´ ç§»åŠ¨åˆ°indexçš„ä½ç½®ã€‚\n\n\n\nReact render å‡½æ•°ç†è§£\né¢è¯•å®˜ï¼šè¯´è¯´\nReact render æ–¹æ³•çš„åŸç†ï¼Ÿåœ¨ä»€ä¹ˆæ—¶å€™ä¼šè¢«è§¦å‘ï¼Ÿ | web å‰ç«¯é¢è¯• -\né¢è¯•å®˜ç³»åˆ—\nrenderå‡½æ•°é‡Œé¢å¯ä»¥ç¼–å†™JSXï¼Œè½¬åŒ–æˆcreateElementè¿™ç§å½¢å¼ï¼Œç”¨äºç”Ÿæˆè™šæ‹ŸDOMï¼Œæœ€ç»ˆè½¬åŒ–æˆçœŸå®\nDOM\nåœ¨React ä¸­ï¼Œç±»ç»„ä»¶åªè¦æ‰§è¡Œäº†\nsetState æ–¹æ³•ï¼Œå°±ä¸€å®šä¼šè§¦å‘ render\nå‡½æ•°æ‰§è¡Œï¼Œå‡½æ•°ç»„ä»¶ä½¿ç”¨useStateæ›´æ”¹çŠ¶æ€ä¸ä¸€å®šå¯¼è‡´é‡æ–°render\nç»„ä»¶çš„props æ”¹å˜äº†ï¼Œä¸ä¸€å®šè§¦å‘ render\nå‡½æ•°çš„æ‰§è¡Œï¼ˆçˆ¶ç»„ä»¶ä½¿ç”¨useRefä¼ å‚ï¼Œçˆ¶ç»„ä»¶æ›´æ–° ref\nå¯¹è±¡ï¼Œä½†æ˜¯å­ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼‰ï¼Œä½†æ˜¯å¦‚æœ props\nçš„å€¼æ¥è‡ªäºçˆ¶ç»„ä»¶æˆ–è€…ç¥–å…ˆç»„ä»¶çš„\nstateï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçˆ¶ç»„ä»¶æˆ–è€…ç¥–å…ˆç»„ä»¶çš„\nstate å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¼šå¯¼è‡´å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“\næ‰€ä»¥ï¼Œç±»ç»„ä»¶ä¸€æ—¦æ‰§è¡Œäº†setStateå°±ä¼šæ‰§è¡Œrenderæ–¹æ³•ï¼Œå‡½æ•°å¼ç»„ä»¶useState\nä¼šåˆ¤æ–­å½“å‰å€¼æœ‰æ— å‘ç”Ÿæ”¹å˜ç¡®å®šæ˜¯å¦æ‰§è¡Œrenderæ–¹æ³•ï¼Œä¸€æ—¦çˆ¶ç»„ä»¶å‘ç”Ÿæ¸²æŸ“ï¼Œå­ç»„ä»¶ä¹Ÿä¼šæ¸²æŸ“\n\nåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæˆ– React åˆæˆäº‹ä»¶ä¸­ï¼ŒsetState æ˜¯å¼‚æ­¥\nåœ¨ setTimeout æˆ–è€…åŸç”Ÿ dom äº‹ä»¶ä¸­ï¼ŒsetState æ˜¯åŒæ­¥\n\nReact ç”Ÿå‘½å‘¨æœŸ\nreact\nç”Ÿå‘½å‘¨æœŸæ€»ç»“ï¼ˆæ—§ã€æ–°ç”Ÿå‘½å‘¨æœŸåŠ Hookï¼‰-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘\nshouldComponentUpdate\nå‘¨æœŸæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\nCSS\nå¯¹äº CSS é¢„ç¼–è¯‘è¯­è¨€çš„ç†è§£\né¢è¯•å®˜ï¼šè¯´è¯´å¯¹\nCss é¢„ç¼–è¯­è¨€çš„ç†è§£ï¼Ÿæœ‰å“ªäº›åŒºåˆ«? | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\næ‰©å……äº† CSSï¼Œå¢åŠ äº†å˜é‡ã€å‡½æ•°ç­‰åŠŸèƒ½ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ CSS\nçš„è¶…é›†ã€‚ä¸åŒçš„é¢„ç¼–è¯‘è¯­è¨€æœ‰ä¸åŒçš„è§£æå™¨ï¼Œæœ€ç»ˆè¿™äº›éƒ½ä¼šè¢«ç¼–è¯‘æˆå¯¹åº”çš„ CSS\næ–‡ä»¶ã€‚\nä¸»è¦æœ‰ sass, less, stylusï¼Œä¸‰ç§ã€‚\næ‰©å……äº†ä¸€äº›åŠŸèƒ½ï¼Œå¦‚\n\nå˜é‡\n\nsassï¼š$red: #abcä½¿ç”¨$å¼€å¤´ï¼Œå†’å·åˆ†éš”\nless: @red: #abcä½¿ç”¨@å¼€å¤´ï¼Œå†’å·åˆ†éš”\nstylus: red = #abcç›´æ¥å®šä¹‰ï¼Œç­‰å·åˆ†éš”\n\nä½œç”¨åŸŸ\næ··å…¥\n\nå°†ä¸€éƒ¨åˆ†æ ·å¼æŠ½ç¦»å‡ºæ¥ï¼Œç„¶åè¢«é‡å¤ä½¿ç”¨\n\nä»£ç æ¨¡å—åŒ–\n\nå®ç°ä¸‰æ å¸ƒå±€\n7\nç§æ–¹å¼å®ç°ä¸‰æ å¸ƒå±€\nposition æ¯ä¸ªå±æ€§å’Œä½œç”¨\nJavaScript\nç«æ€é—®é¢˜\næ€ä¹ˆè§£å†³ç«æ€é—®é¢˜\n\né€šå¸¸åšæ³•æ˜¯å–æ¶ˆç½‘ç»œè¯·æ±‚\n\nå¯¹äº Promise çš„ç†è§£\nPromise\nçš„ç†è§£\nPromiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆï¼ˆå›è°ƒå‡½æ•°ï¼‰æ›´åŠ åˆç†å’Œæ›´åŠ å¼ºå¤§\n\né“¾å¼æ“ä½œå‡ä½äº†ç¼–ç éš¾åº¦\nä»£ç å¯è¯»æ€§æ˜æ˜¾å¢å¼º\n\næœ‰ä¸‰ç§çŠ¶æ€ï¼š\n\npending(ç­‰å¾…ä¸­)\nfulfilled(æˆåŠŸ)\nrejected(å¤±è´¥)\n\nä»pendingå˜ä¸ºfulfilledæˆ–è€…rejectedåï¼Œå°±ä¸ä¼šå†æ”¹å˜\nasync å¼‚æ­¥å‡½æ•°å¦‚ä½•æ•è·å¼‚å¸¸\nasync function fn() {  await fetchData();}fn();\nå½“æ‰§è¡Œfnå‡½æ•°æ—¶fetchDataå¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚ä½•æ•è·å¼‚å¸¸ï¼Ÿ\n1. try-catch\nasync function fn() {  try {    await fetchData();  } catch (error) {    console.log(error);  }}fn();\n2. å†…éƒ¨catch\nasync function fn() {  const data = await fetchData().catch((e) =&gt; console.log(e));  // å¦‚æœæœ‰å¼‚å¸¸ï¼Œåˆ™dataæ— æ•°æ®  if (!data) return;}fn();\n3. å¤–éƒ¨catch\nasync function fn() {  await fetchData();}fn().catch((err) =&gt; console.log(err));\né—­åŒ…æ˜¯ä»€ä¹ˆ\né—­åŒ…çš„ç†è§£\nä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼Œè¿™ä¸ªç»„åˆå°±å½¢æˆäº†é—­åŒ…ï¼Œæ¢å¥è¯è¯´ï¼Œé—­åŒ…å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è®¿é—®åˆ°å‡½æ•°å¤–éƒ¨çš„ä½œç”¨åŸŸã€‚\né—­åŒ…å¯ä»¥ï¼š\n\nåˆ›å»ºç§æœ‰å˜é‡\nå»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ\n\né€šå¸¸çš„ä½¿ç”¨åœºæ™¯ï¼š\n\nè®¡æ•°å™¨\nå‡½æ•°æŸ¯é‡ŒåŒ–\né˜²æŠ–\n\næœ‰å“ªäº›æ¨¡å—è§„èŒƒ\næ·±å…¥å¯¹æ¯”\nesModule å’Œ commonjs æ¨¡å—åŒ–çš„åŒºåˆ«å‰è¨€ commonjs 2009 å¹´ï¼ŒRyan Dahl\nåŸºäºå¼€æºçš„ V - æ˜é‡‘\nä¸»è¦æœ‰commonJS, AMD, CMD, ESModuleï¼Œç°åœ¨ä¸»è¦ä½¿ç”¨çš„æ˜¯commonJS, ESModuleã€‚\nä¸¤è€…çš„åŒºåˆ«ï¼š\n\nå¼•å…¥æ–¹å¼\n\ncommonJSæ˜¯åŠ¨æ€å¯¼å…¥ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•å…¥\nESModuleæ¨¡å—æ˜¯é™æ€å¯¼å…¥ï¼ˆåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œå¯¼å…¥ï¼‰ï¼Œä¸èƒ½åŠ¨æ€åŠ è½½è¯­å¥ï¼Œæ‰€ä»¥\nimport ä¸èƒ½å†™åœ¨å—çº§ä½œç”¨åŸŸå’Œåˆ¤æ–­æ¡ä»¶å†…\n\nä½¿ç”¨è¯­æ³•\n\ncommonJSæ˜¯é€šè¿‡module.exports,\nrequireå¯¼å‡ºå’Œå¯¼å…¥\nesModuleé€šè¿‡import, exportå¯¼å…¥å¯¼å‡º\n\næ¨¡å—å¯¼å…¥æ–¹å¼\n\ncommonJSæ˜¯è¿è¡Œä¸€éä»£ç ï¼Œå°†module.exportsçš„å€¼èµ‹å€¼ç»™å˜é‡\nesModuleæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„å¼•ç”¨,\nä½¿ç”¨çš„æ˜¯åŠ¨æ€ç»‘å®šï¼ŒesModule\nå¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿç€å¯¼å‡ºå€¼å‘ç”Ÿå˜åŒ–\n\nåŠ è½½æ¨¡å¼\n\ncommonJSæ˜¯åŒæ­¥åŠ è½½\nesModuleæ˜¯å¼‚æ­¥åŠ è½½\n\n\nåŒºåˆ«åŸå› ï¼š\n\nåŒæ­¥åŠ è½½ä¼šå¯¼è‡´æµè§ˆå™¨å‡ºç°å¡é¡¿çš„æƒ…å†µã€‚è€Œ node\nå¤§å¤šè¿è¡Œåœ¨æœåŠ¡ç«¯ï¼ŒåŒæ­¥åŠ è½½æœ¬åœ°æ–‡ä»¶é€Ÿåº¦å¾ˆå¿«ã€‚æµè§ˆå™¨åŠ è½½æ¨¡å—é€šå¸¸æ˜¯ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ­¥çš„è¯ä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µã€‚\n\nJS çš„æœ‰å“ªäº›æ•°æ®ç±»å‹\n\nåŸºæœ¬ç±»å‹\nNumber, String, Boolean,\nUndefined, null, Symbol\nå¤æ‚ç±»å‹\nç»Ÿç§°ä¸º object ç±»å‹ï¼Œå¸¸è§çš„æœ‰Object, Array,\nFunction\n\né¢è¯•å®˜ï¼šè¯´è¯´\nJavaScript ä¸­çš„æ•°æ®ç±»å‹ï¼Ÿå­˜å‚¨ä¸Šçš„å·®åˆ«ï¼Ÿ | web å‰ç«¯é¢è¯• -\né¢è¯•å®˜ç³»åˆ—\nå®ç°ä¸€ä¸ª\nrequestï¼Œå¤±è´¥åé—´éš” interval é‡è¯•ï¼Œè®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°\nasync function request(url, options, interval, maxCount) {  // é‡è¯•æ¬¡æ•°  let retries = 0;  while (retries &lt; maxCount) {    try {      // awaitä¼šé˜»å¡ï¼Œç›´åˆ°è¿”å›      const response = await fetch(url, options);      return response;    } catch (error) {      // å¦‚æœæœ‰é”™è¯¯ï¼Œè¯´æ˜è¯·æ±‚å¤±è´¥ï¼Œé‡è¯•      retries++;      // è¿™é‡Œä½¿ç”¨awaité˜»å¡ï¼Œè¡¨ç¤ºé—´éš”æ—¶é—´      await new Promise((resolve) =&gt; setTimeout(resolve, interval));    }  }}\nå­—ç¬¦ä¸² slice, substring,\nsubstr çš„åŒºåˆ«\nslice, substring,\nsubstr çš„åŒºåˆ«\nnew å…³é”®å­—çš„æ‰§è¡Œè¿‡ç¨‹\né¢è¯•å®˜ï¼šè¯´è¯´\nnew æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆï¼Ÿ | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\n\nåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡\næ–°å¯¹è±¡åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡\nå°†æ–°å¯¹è±¡è®¾ç½®ä¸ºæ„é€ å‡½æ•°çš„thisï¼Œæ‰§è¡Œæ„é€ å‡½æ•°\nå‡½æ•°è¿”å›å€¼ä¸ä¸ºå¯¹è±¡æˆ–è€…æ˜¯nullï¼Œåˆ™è¿”å›æ–°å¯¹è±¡ï¼Œå¦åˆ™è¿”å›å‡½æ•°çš„è¿”å›å€¼\n\nJS çš„åƒåœ¾å›æ”¶\næ·±å…¥äº†è§£\nJavaScript åƒåœ¾å›æ”¶æœºåˆ¶_javascript çš„åƒåœ¾å›æ”¶æœºåˆ¶è®²ä¸€ä¸‹-CSDN\nåšå®¢\nES6 å¸¸ç”¨ api\nasync, await å®ç°åŸç†\nasync è¡¨ç¤ºå£°æ˜ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ª Promise\nå¯¹è±¡ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯ Promise ç±»å‹ï¼Œåˆ™ä¼šå°†è¿”å›å€¼åŒ…è£…æˆ Promise\nç±»å‹ã€‚ç­‰åŒäº Promise.resolve(x)ã€‚\nawait è¡¨ç¤ºç­‰å¾…çš„æ„æ€ï¼Œå¯ä»¥ç­‰å¾…å¼‚æ­¥å‡½æ•°ä¹Ÿå°±æ˜¯ Promise\nå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç­‰å¾…æ™®é€šçš„å˜é‡å€¼ã€‚å¹¶ä¸”åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨ã€‚\nä½¿ç”¨ yield å®ç° asyncï¼Œæ ¸å¿ƒåŸç†æ˜¯é€’å½’è¿­ä»£æ‰§è¡Œ next\nfunction myAsync(gen) {  return function (...args) {    return new Promise((resolve, reject) =&gt; {      const iter = gen(...args);      const step = (arg) =&gt; {        const { value, done } = iter.next(arg);        if (done) {          return resolve(value);        }        Promise.resolve(value).then((val) =&gt; step(val));      };      step();    });  };}\nasync/await å¯ä»¥çœ‹ä½œæ˜¯ç”Ÿæˆå™¨çš„è¯­æ³•ç³–ã€‚\nå°†ç”Ÿæˆå‡½æ•°çš„ * æ›¿æ¢æˆ asyncï¼Œå°† yield æ›¿æ¢æˆ await\nvar, let, const ä¹‹é—´çš„åŒºåˆ«\né¢è¯•å®˜ï¼šè¯´è¯´\nvarã€letã€const ä¹‹é—´çš„åŒºåˆ« | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\n\nå˜é‡æå‡\nvaræœ‰å˜é‡æå‡ï¼Œlet, constæ²¡æœ‰\næš‚æ—¶æ€§æ­»åŒº\nvaræ²¡æœ‰æš‚æ—¶æ€§æ­»åŒºï¼Œlet, constæœ‰ï¼Œåªæœ‰æ‰§è¡Œåˆ°let, consté‚£è¡Œä»¥åæ‰å¯ä»¥ä½¿ç”¨å˜é‡ã€‚\nå—çº§ä½œç”¨åŸŸ\nvaræ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œåœ¨ä½œç”¨åŸŸå†…å£°æ˜çš„ï¼Œä½œç”¨åŸŸå¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚let, conståœ¨ä½œç”¨åŸŸå†…å£°æ˜çš„ä¸èƒ½åœ¨ä½œç”¨åŸŸå¤–ä½¿ç”¨ã€‚\né‡å¤å£°æ˜\nvarå¯ä»¥é‡å¤å£°æ˜ï¼Œlet, conståœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ä¸å¯é‡å¤å£°æ˜\nä¿®æ”¹å£°æ˜çš„å˜é‡\nvar, letå¯ä»¥ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼Œconstå£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”åè¾¹ä¸å¯ä¿®æ”¹ã€‚\n\näº‹ä»¶æµ\näº‹ä»¶ä¸äº‹ä»¶æµ\näº‹ä»¶ï¼šé€šå¸¸æ˜¯ä½¿ç”¨ js ä¸æµè§ˆå™¨ HTML\næ–‡æ¡£è¿›è¡Œäº¤äº’çš„æ“ä½œï¼Œå¦‚ç‚¹å‡»äº‹ä»¶ç­‰ã€‚\näº‹ä»¶æµä¸‰ä¸ªé˜¶æ®µï¼š\n\näº‹ä»¶æ•è·é˜¶æ®µ\näº‹ä»¶å¤„ç†é˜¶æ®µ\näº‹ä»¶å†’æ³¡é˜¶æ®µ\n\n\nåŸå§‹äº‹ä»¶æ¨¡å‹\n\nç»‘å®šæ–¹å¼ç®€å•ï¼Œå¯ä»¥åœ¨ HTML ä»£ç ä¸­ç›´æ¥ç»‘å®šï¼Œä¹Ÿå¯ä»¥é€šè¿‡ js ä»£ç ç»‘å®š\n&lt;input type=\"button\" onclick=\"func()\" /&gt;\nconst rootEl = document.getElementById('root');rootEl.onclick = func;\n\nåªæ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œä¸æ”¯æŒæ•è·\nåŒä¸€ä¸ªç±»å‹äº‹ä»¶åªèƒ½ç»‘å®šä¸€æ¬¡ï¼Œåè¾¹çš„ä¼šè¦†ç›–å‰è¾¹çš„\nç»‘å®šé€Ÿåº¦å¿«\n\n\næ ‡å‡†äº‹ä»¶æ¨¡å‹\n\né€šè¿‡addEventListenerå’ŒremoveEventListeneræ·»åŠ å’Œåˆ é™¤äº‹ä»¶ç›‘å¬ï¼Œå‚æ•°åˆ†åˆ«ä¸ºeventType, handler, useCaptureï¼Œè¡¨ç¤ºäº‹ä»¶ç±»å‹ã€å›è°ƒå‡½æ•°ã€æ˜¯å¦æ•è·ï¼ˆtrueè¡¨ç¤ºåœ¨æ•è·é˜¶æ®µæ‰§è¡Œï¼Œfalseè¡¨ç¤ºåœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œï¼‰ã€‚\nconst rootEl = document.getElementById('root');// å†’æ³¡é˜¶æ®µæ‰§è¡ŒrootEl.addEventListener('click', handleClick, false);// æ•è·é˜¶æ®µæ‰§è¡ŒrootEl.addEventListener('click', handleClick, true);\n\næ”¯æŒäº‹ä»¶æ•è·ã€äº‹ä»¶å¤„ç†ã€äº‹ä»¶å†’æ³¡ä¸‰ä¸ªé˜¶æ®µ\næ”¯æŒç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œä¸å†²çª\n\n\nIE äº‹ä»¶æ¨¡å‹ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰\n\nåˆ†ä¸ºäº‹ä»¶å¤„ç†é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µ\näº‹ä»¶å†’æ³¡\nçˆ¶å­å…ƒç´ ï¼Œå­å…ƒç´ çš„äº‹ä»¶ä¼šå°†è¯¥äº‹ä»¶å±‚å±‚ä¸ŠæŠ¥ï¼Œä½¿å¾—çˆ¶å…ƒç´ ä¹Ÿå‘ç”Ÿè¯¥äº‹ä»¶\näº‹ä»¶å§”æ‰˜\né¢è¯•å®˜ï¼šè§£é‡Šä¸‹ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ\n| web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—\nJS\nä¸­çš„äº‹ä»¶å†’æ³¡ã€äº‹ä»¶æ•è·ã€äº‹ä»¶å§”æ‰˜ DOM äº‹ä»¶æµï¼ˆevent flow\nï¼‰å­˜åœ¨ä¸‰ä¸ªé˜¶æ®µï¼šäº‹ä»¶æ•è·é˜¶æ®µã€å¤„äºç›®æ ‡é˜¶æ®µã€äº‹ä»¶ - æ˜é‡‘\nJS å¦‚ä½•å®ç°å¼‚æ­¥æ“ä½œ\nè¯¦è§£\nJS\nçš„å››ç§å¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼šå›è°ƒå‡½æ•°ã€Promiseã€Generatorã€async/awaitï¼ˆå¹²è´§æ»¡æ»¡ï¼‰...-CSDN\nåšå®¢\n\næœ€å¼€å§‹é€šè¿‡è®¾ç½®å›è°ƒå‡½æ•°çš„å½¢å¼\nPromise\nasyncã€await\n\nåˆ¤æ–­å¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„\nJS\nåˆ¤æ–­æ˜¯å¦ä¸ºå¯¹è±¡æˆ–æ•°ç»„çš„å‡ ç§æ–¹æ³•_js åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡-CSDN åšå®¢\n\nArrays.isArray()\nval instanceof Array\nval?.constructor === Array\nisPrototypeOfï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Š\nArray.prototype.isPrototypeof(val)\n\nsourcemap\nblog.csdn.net/weixin_40599109/article/details/107845431\nä¸»è¦æ˜¯æ˜ å°„è½¬æ¢åçš„ä»£ç å’Œæºç çš„å…³ç³»ï¼Œæ–¹ä¾¿åšè°ƒè¯•ã€‚\næ“ä½œç³»ç»Ÿ\nè¿›ç¨‹å’Œçº¿ç¨‹å’Œåç¨‹çš„åŒºåˆ«\nè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼\nç®—æ³•å’Œæ•°æ®ç»“æ„\nDFS å’Œ BFS\nåŒºåˆ«ã€æ—¶é—´ç©ºé—´å¤æ‚åº¦ã€åº”ç”¨åœºæ™¯\nDFSã€BFS\nç©ºé—´æ—¶é—´å¤æ‚åº¦åˆ†æ - wkfxm - åšå®¢å›­\n","categories":["å‰ç«¯"],"tags":["å‰ç«¯","å…«è‚¡"]},{"title":"Hiveå­¦ä¹ ","url":"/279f403133fc/hive%E5%AD%A6%E4%B9%A0/","content":"æŸ¥è¯¢\næ¯ä¸ªReduceå†…éƒ¨æ’åº(sort by)\nSort Byï¼šå¯¹äºå¤§è§„æ¨¡çš„æ•°æ®é›†order\nbyçš„æ•ˆç‡éå¸¸ä½ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¹¶ä¸éœ€è¦å…¨å±€ æ’åºï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨Sort\nbyã€‚\n\nSort\nbyä¸ºæ¯ä¸ªreduceäº§ç”Ÿä¸€ä¸ªæ’åºæ–‡ä»¶ã€‚æ¯ä¸ªReduceå†…éƒ¨è¿›è¡Œæ’åºï¼Œå¯¹å…¨å±€ç»“æœé›†\næ¥è¯´ä¸æ˜¯æ’åºã€‚\n1ï¼‰è®¾ç½®reduceä¸ªæ•°\nhive (default)&gt; set mapreduce.job.reduces=3;\n2ï¼‰æŸ¥çœ‹è®¾ç½®reduceä¸ªæ•°\nhive (default)&gt; set mapreduce.job.reduces;\n3ï¼‰æ ¹æ®éƒ¨é—¨ç¼–å·é™åºæŸ¥çœ‹å‘˜å·¥ä¿¡æ¯\nhive (default)&gt;   select   *   from emp   sort by deptno desc;\n4ï¼‰å°†æŸ¥è¯¢ç»“æœå¯¼å…¥åˆ°æ–‡ä»¶ä¸­ï¼ˆæŒ‰ç…§éƒ¨é—¨ç¼–å·é™åºæ’åºï¼‰\nhive (default)&gt; insert overwrite local directory  '/opt/module/hive/datas/sortby-result'  select * from emp sort by deptno desc;\nåˆ†åŒº\nDistribute Byï¼šåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ§åˆ¶æŸä¸ªç‰¹å®šè¡Œåº”è¯¥åˆ°å“ªä¸ª\nReducerï¼Œé€šå¸¸æ˜¯ ä¸ºäº†è¿›è¡Œåç»­çš„èšé›†æ“ä½œã€‚distribute\nbyå­å¥å¯ä»¥åšè¿™ä»¶äº‹ã€‚distribute byç±»ä¼¼MapReduce\nä¸­partitionï¼ˆè‡ªå®šä¹‰åˆ†åŒºï¼‰ï¼Œè¿›è¡Œåˆ†åŒºï¼Œç»“åˆsort byä½¿ç”¨ã€‚\nå¯¹äºdistribute by è¿›è¡Œæµ‹è¯•ï¼Œä¸€å®šè¦åˆ†é…å¤šreduce\nè¿›è¡Œå¤„ç†ï¼Œå¦åˆ™æ— æ³•çœ‹åˆ°distribute by çš„æ•ˆæœã€‚\nï¼ˆ1ï¼‰å…ˆæŒ‰ç…§éƒ¨é—¨ç¼–å·åˆ†åŒºï¼Œå†æŒ‰ç…§å‘˜å·¥ç¼–å·è–ªèµ„æ’åº\nhive (default)&gt; set mapreduce.job.reduces=3;\nhive (default)&gt;   insert overwrite local directory   '/opt/module/hive/datas/distribute-result'  select      *   from emp   distribute by deptno   sort by sal desc;\næ³¨æ„ï¼š\nâ¢ distribute\nbyçš„åˆ†åŒºè§„åˆ™æ˜¯æ ¹æ®åˆ†åŒºå­—æ®µçš„hashç ä¸reduceçš„ä¸ªæ•°è¿›è¡Œç›¸é™¤åï¼Œ\nä½™æ•°ç›¸åŒçš„åˆ†åˆ°ä¸€ä¸ªåŒºã€‚\nâ¢ Hiveè¦æ±‚distribute byè¯­å¥è¦å†™åœ¨sort byè¯­å¥ä¹‹å‰ã€‚\nâ¢\næ¼”ç¤ºå®Œä»¥åmapreduce.job.reducesçš„å€¼è¦è®¾ç½®å›-1ï¼Œå¦åˆ™ä¸‹é¢åˆ†åŒºoråˆ†æ¡¶è¡¨load\nè·‘MapReduceçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚\ngrouping sets\ncube\næ•°æ®ç«‹æ–¹ä½“-Hive\nCube-CSDNåšå®¢\nHiveä¸­with\ncubeã€with rollupã€grouping setsç”¨æ³•_hive sum with\nrollup-CSDNåšå®¢\nå‡½æ•°\nå•è¡Œå‡½æ•°\nnvlï¼šæ›¿æ¢nullå€¼\nnvl(A, B)è‹¥Aä¸ºnullåˆ™è¿”å›Bï¼Œå¦åˆ™è¿”å›A\nconcat_wsï¼šä»¥æŒ‡å®šåˆ†éš”ç¬¦æ‹¼æ¥å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²æ•°ç»„\nè¯­æ³•ï¼šconcat_ws(string A, stringâ€¦| array(string))\nè¿”å›å€¼ï¼šstring\nè¯´æ˜ï¼šä½¿ç”¨åˆ†éš”ç¬¦Aæ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ã€‚\nget_json_objectï¼šè§£æ json\nå­—ç¬¦ä¸²\nè¯­æ³•ï¼šget_json_object(string json_string, string path)\nè¿”å›å€¼ï¼šstring\nè¯´æ˜ï¼šè§£æjsonçš„å­—ç¬¦ä¸²json_stringï¼Œè¿”å›pathæŒ‡å®šçš„å†…å®¹ã€‚å¦‚æœè¾“å…¥çš„jsonå­—ç¬¦ä¸²\næ— æ•ˆï¼Œé‚£ä¹ˆè¿”å›NULLã€‚\nhive&gt; select get_json_object('[{\"name\":\"å¤§æµ·æµ·\",\"sex\":\"ç”·\",\"age\":\"25\"},{\"name\":\"å°å®‹å®‹\",\"sex\":\"ç”·\",\"age\":\"47\"}]','$.[0].name'); hive&gt; å¤§æµ·æµ·\nhive&gt; select get_json_object('[{\"name\":\"å¤§æµ·æµ·\",\"sex\":\"ç”·\",\"age\":\"25\"},{\"name\":\"å°å®‹å®‹\",\"sex\":\"ç”·\",\"age\":\"47\"}]','$.[0]');hive&gt; {\"name\":\"å¤§æµ·æµ·\",\"sex\":\"ç”·\",\"age\":\"25\"}\nunix_timestampï¼šè¿”å›å½“å‰æˆ–æŒ‡å®šæ—¶é—´çš„æ—¶é—´æˆ³\nè¯­æ³•ï¼šunix_timestamp()\nè¿”å›å€¼ï¼šbigint\nhive&gt; select unix_timestamp('2022/08/08 08-08-08','yyyy/MM/dd HH-mm-ss'); hive&gt; 1659946088\nfrom_unixtimeï¼šè½¬åŒ– UNIX\næ—¶é—´æˆ³\nï¼ˆä» 1970-01-01 00:00:00 UTC\nåˆ°æŒ‡å®šæ—¶é—´çš„ç§’æ•°ï¼‰åˆ°å½“å‰æ—¶åŒºçš„æ—¶é—´æ ¼å¼\nè¯­æ³•ï¼šfrom_unixtime(bigint unixtime[, string format])\nè¿”å›å€¼ï¼šstring\ncurrent_dateï¼šå½“å‰æ—¥æœŸ\ncurrent_timestampï¼šå½“å‰çš„æ—¥æœŸåŠ æ—¶é—´ï¼Œå¹¶ä¸”ç²¾ç¡®çš„æ¯«ç§’\ndate_addï¼šæ—¥æœŸåŠ å¤©æ•°\nè¯­æ³•ï¼šdate_add(string startdate, int days)\nè¿”å›å€¼ï¼šstring\nè¯´æ˜ï¼šè¿”å›å¼€å§‹æ—¥æœŸ startdate å¢åŠ  days å¤©åçš„æ—¥æœŸ\ndate_subï¼šæ—¥æœŸå‡å¤©æ•°\nè¯­æ³•ï¼šdate_sub (string startdate, int days)\nè¿”å›å€¼ï¼šstring\nè¯´æ˜ï¼šè¿”å›å¼€å§‹æ—¥æœŸstartdateå‡å°‘dayså¤©åçš„æ—¥æœŸã€‚\nsizeï¼šé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°\nhive&gt; select size(friends) from test;  --2/2  æ¯ä¸€è¡Œæ•°æ®ä¸­çš„friendsé›†åˆé‡Œçš„ä¸ªæ•° \nmapï¼šåˆ›å»ºmapé›†åˆ\nè¯­æ³•ï¼šmap (key1, value1, key2, value2, â€¦)\nè¯´æ˜ï¼šæ ¹æ®è¾“å…¥çš„keyå’Œvalueå¯¹æ„å»ºmapç±»å‹\nhive&gt; select map('xiaohai',1,'dahai',2);   hive&gt; {\"xiaohai\":1,\"dahai\":2}\nmap_keysï¼š è¿”å›mapä¸­çš„key\nhive&gt; select map_keys(map('xiaohai',1,'dahai',2));hive&gt;[\"xiaohai\",\"dahai\"] \nmap_values: è¿”å› map\nä¸­çš„value\nhive&gt; select map_values(map('xiaohai',1,'dahai',2));hive&gt;[1,2] \narray å£°æ˜ array é›†åˆ\nè¯­æ³•ï¼šarray(val1, val2, â€¦)\nè¯´æ˜ï¼šæ ¹æ®è¾“å…¥çš„å‚æ•°æ„å»ºæ•°ç»„arrayç±»\narray_contains:\nåˆ¤æ–­ array ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ \nhive&gt; select array_contains(array('a','b','c','d'),'a'); hive&gt; true\nsort_arrayï¼šå°† array\nä¸­çš„å…ƒç´ æ’åº\nhive&gt; select sort_array(array('a','d','c'));hive&gt; [\"a\",\"c\",\"d\"]\nstruct å£°æ˜ struct\nä¸­çš„å„å±æ€§\nè¯­æ³•ï¼šstruct(val1, val2, val3, â€¦)\nè¯´æ˜ï¼šæ ¹æ®è¾“å…¥çš„å‚æ•°æ„å»ºç»“æ„ä½“structç±»\nhive&gt; select struct('name','age','weight');hive&gt; {\"col1\":\"name\",\"col2\":\"age\",\"col3\":\"weight\"} \nnamed_struct å£°æ˜ struct\nçš„å±æ€§å’Œå€¼\nhive&gt; select named_struct('name','xiaosong','age',18,'weight',80);hive&gt; {\"name\":\"xiaosong\",\"age\":18,\"weight\":80} \né«˜çº§èšåˆå‡½æ•°\ncollect_list\næ”¶é›†å¹¶å½¢æˆlisté›†åˆï¼Œç»“æœä¸å»é‡\nhive&gt; select  sex, collect_list(job) from employee group by sex å¥³ [\"è¡Œæ”¿\",\"ç ”å‘\",\"è¡Œæ”¿\",\"å‰å°\"] ç”· [\"é”€å”®\",\"ç ”å‘\",\"é”€å”®\",\"å‰å°\"]\ncollect_set\næ”¶é›†å¹¶å½¢æˆseté›†åˆï¼Œç»“æœå»é‡\nhive&gt; select  sex, collect_set(job) from employee group by sex å¥³ [\"è¡Œæ”¿\",\"ç ”å‘\",\"å‰å°\"] ç”· [\"é”€å”®\",\"ç ”å‘\",\"å‰å°\"]\nçˆ†ç‚¸å‡½æ•°\nexplodeæ˜¯å°†hiveä¸€è¡Œä¸­å¤æ‚çš„arrayæˆ–è€…mapç»“æ„æ‹†åˆ†æˆå¤šè¡Œã€‚\nlateral viewç”¨äºå’Œsplit,\nexplodeç­‰UDTFä¸€èµ·ä½¿ç”¨ï¼Œå®ƒèƒ½å¤Ÿå°†ä¸€è¡Œæ•°æ®æ‹†æˆå¤šè¡Œæ•°æ®ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¯ä»¥å¯¹æ‹†åˆ†åçš„æ•°æ®è¿›è¡Œèšåˆã€‚lateral\nviewé¦–å…ˆä¸ºåŸå§‹è¡¨çš„æ¯è¡Œè°ƒç”¨UDTFï¼ŒUDTFä¼šæŠŠä¸€è¡Œæ‹†åˆ†æˆä¸€æˆ–è€…å¤šè¡Œï¼Œlateral\nviewå†æŠŠç»“æœç»„åˆï¼Œäº§ç”Ÿä¸€ä¸ªæ”¯æŒåˆ«åè¡¨çš„è™šæ‹Ÿè¡¨ã€‚\nexplodeå°†å¤æ‚ç»“æ„ä¸€è¡Œæ‹†æˆå¤šè¡Œï¼Œç„¶åå†ç”¨lateral viewåšå„ç§èšåˆã€‚\n\nSELECT\tcate, COUNT(*) cntFROM movie_infoLATERAL VIEW EXPLODE(SPLIT(category, ',')) t1 AS cateGROUP BY cate;\n\nçª—å£å‡½æ•°\nlagå’Œlead\nåŠŸèƒ½ï¼šè·å–å½“å‰è¡Œçš„ä¸Š/ä¸‹è¾¹æŸè¡Œçš„å­—æ®µçš„å€¼ã€‚\n\nfirst_valueå’Œlast_value\nåŠŸèƒ½ï¼šè·å–çª—å£å†…ç¬¬ä¸€ä¸ªå€¼å’Œæœ€åä¸€ä¸ªå€¼\n\nåˆ†åŒºè¡¨\ncreate table dept_partition ( deptno int,    --éƒ¨é—¨ç¼–å· dname  string, --éƒ¨é—¨åç§° loc    string  --éƒ¨é—¨ä½ç½® ) partitioned by (day string) row format delimited fields terminated by '\\t'; \nè£…è½½æ•°æ®\nload data local inpath '/opt/module/hive/datas/dept_20220401.log'  into table dept_partition  partition(day='20220401'); \næ’å…¥æ•°æ®\ninsert overwrite table dept_partition partition (day = '20220402') select deptno, dname, loc from dept_partition where day = '2020-04-01'; \næŸ¥è¯¢æ•°æ®\nselect deptno, dname, loc ,day from dept_partition where day = '2020-04-01'; \nåˆ›å»ºå•ä¸ªåˆ†åŒº\nalter table dept_partition  add partition(day='20220403'); \nåˆ›å»ºå¤šä¸ªåˆ†åŒºï¼ˆä¸èƒ½æœ‰é€—å·ï¼‰\nalter table dept_partition  add partition(day='20220404') partition(day='20220405');\nåˆ é™¤ä¸€ä¸ªåˆ†åŒº\nalter table dept_partition  drop partition (day='20220403'); \nåˆ é™¤å¤šä¸ªåˆ†åŒºï¼ˆå¿…é¡»æœ‰é€—å·ï¼‰\nalter table dept_partition  drop partition (day='20220404'), partition(day='20220405');\näºŒçº§åˆ†åŒº\ncreate table dept_partition2( deptno int,    -- éƒ¨é—¨ç¼–å· dname string, -- éƒ¨é—¨åç§° loc string     -- éƒ¨é—¨ä½ç½® ) partitioned by (day string, hour string) row format delimited fields terminated by '\\t';\nåŠ¨æ€åˆ†åŒº\ninsert into table dept_partition_dynamic  partition(loc)  select  deptno,  dname,  loc  from dept;\næ— éœ€æŒ‡å®šåˆ†åŒºçš„å€¼ï¼Œè‡ªåŠ¨åˆ†åŒºã€‚\nåˆ†æ¡¶è¡¨\ncreate table stu_buck( id int,  name string ) clustered by(id)  into 4 buckets row format delimited fields terminated by '\\t'; \nåˆ†æ¡¶æ’åºè¡¨\ncreate table stu_buck_sort(     id int,      name string ) clustered by(id) sorted by(id)into 4 buckets row format delimited fields terminated by '\\t';\nHiveæ–‡ä»¶æ ¼å¼\nä¸ºHive\nè¡¨ä¸­çš„æ•°æ®é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ–‡ä»¶æ ¼å¼ï¼Œå¯¹æé«˜æŸ¥è¯¢æ€§èƒ½çš„æé«˜æ˜¯ååˆ†æœ‰ç›Šçš„ã€‚\nHive è¡¨æ•°æ®çš„å­˜å‚¨æ ¼å¼ï¼Œå¯ä»¥é€‰æ‹©text fileã€orcã€parquetã€sequence file\nç­‰ã€‚\nORCæ–‡ä»¶æ ¼å¼\nORCï¼ˆOptimized Row Columnarï¼‰file format æ˜¯ Hive 0.11\nç‰ˆé‡Œå¼•å…¥çš„ä¸€ç§åˆ—å¼å­˜å‚¨çš„æ–‡\nä»¶æ ¼å¼ã€‚ORCæ–‡ä»¶èƒ½å¤Ÿæé«˜Hiveè¯»å†™æ•°æ®å’Œå¤„ç†æ•°æ®çš„æ€§èƒ½ã€‚\n\nï¼ˆ1ï¼‰è¡Œå­˜å‚¨çš„ç‰¹ç‚¹\næŸ¥è¯¢æ»¡è¶³æ¡ä»¶çš„ä¸€æ•´è¡Œæ•°æ®çš„æ—¶å€™ï¼Œåˆ—å­˜å‚¨åˆ™éœ€è¦å»æ¯ä¸ªèšé›†çš„å­—æ®µæ‰¾åˆ°å¯¹åº”çš„æ¯ä¸ªåˆ—çš„å€¼ï¼Œè¡Œå­˜å‚¨åªéœ€è¦æ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªå€¼ï¼Œå…¶ä½™çš„å€¼éƒ½åœ¨ç›¸é‚»åœ°æ–¹ï¼Œæ‰€ä»¥æ­¤æ—¶è¡Œå­˜å‚¨æŸ¥è¯¢çš„\né€Ÿåº¦æ›´å¿«\nï¼ˆ2ï¼‰åˆ—å­˜å‚¨çš„ç‰¹ç‚¹\nå› ä¸ºæ¯ä¸ªå­—æ®µçš„æ•°æ®èšé›†å­˜å‚¨ï¼Œåœ¨æŸ¥è¯¢åªéœ€è¦å°‘æ•°å‡ ä¸ªå­—æ®µçš„æ—¶å€™ï¼Œèƒ½å¤§å¤§å‡å°‘è¯»å–\nçš„æ•°æ®é‡ï¼›æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œåˆ—å¼å­˜å‚¨å¯ä»¥é’ˆå¯¹æ€§çš„è®¾è®¡æ›´å¥½çš„è®¾è®¡å‹\nç¼©ç®—æ³•ã€‚\nå‰æ–‡æåˆ°çš„text file å’Œsequence file éƒ½æ˜¯åŸºäºè¡Œå­˜å‚¨çš„ï¼Œorc å’Œparquet\næ˜¯åŸºäºåˆ—å¼å­˜ å‚¨çš„ã€‚\n\ncreate table orc_table (column_specs) stored as orc tblproperties (property_name=property_value, ...); \n\nParquetæ–‡ä»¶æ ¼å¼\n\n","categories":["å¤§æ•°æ®"],"tags":["Hive"]},{"title":"å¤§æ•°æ®ç¯å¢ƒæ­å»º","url":"/73233cd329a1/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","content":"1. Hadoopæ­å»º\n1.1 è™šæ‹Ÿæœºå‡†å¤‡\nåœ¨æœ¬åœ°VMwareè½¯ä»¶ä¸­å®‰è£…ä¸‰å°CentOS 7çš„è™šæ‹Ÿæœºï¼Œå……å½“é›†ç¾¤ã€‚å®‰è£…å®Œæˆååˆ†åˆ«é…ç½®ä¸»æœºåå’ŒIPä¸ºå¦‚ä¸‹ï¼š\n192.168.10.100 cluster100192.168.10.101 cluster101192.168.10.102 cluster102\nåŒæ—¶å…³é—­æ‰€æœ‰æœåŠ¡å™¨çš„é˜²ç«å¢™ã€‚\n\n1.2 Javaå®‰è£…\nä¸‹è½½jdk1.8ç‰ˆæœ¬çš„Javaç¯å¢ƒï¼Œè§£å‹åˆ°/opt/moduleç›®å½•ä¸­ã€‚åŒæ—¶é…ç½®ç¯å¢ƒå˜é‡ã€‚\nåœ¨/etc/profile.d/my_env.shä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\nexport JAVA_HOME=/opt/module/jdk1.8export PATH=$PATH:$JAVA_HOME/bin\nåˆ·æ–°ç¯å¢ƒå˜é‡ã€‚ç„¶åæ‰§è¡Œjava -versionå‘½ä»¤ï¼Œæ˜¾ç¤ºJavaç‰ˆæœ¬è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚\n\n1.3 Hadoopå®‰è£…\nä¸‹è½½hadoop3.1.3ç‰ˆæœ¬çš„Hadoopå‹ç¼©åŒ…ï¼Œè§£å‹åˆ°/opt/moduleç›®å½•ä¸­ã€‚åŒæ—¶é…ç½®ç¯å¢ƒå˜é‡ã€‚\nåœ¨/etc/prodile.d/my_env.shä¸­æ·»åŠ ä¸€ä¸‹å†…å®¹ï¼š\nexport HADOOP_HOME=/opt/module/hadoop3.1.3export PATH=$PATH:$HADOOP_HOME/binexport PATH=$PATH:$HADOOP_HOME/sbin\nåˆ·æ–°ç¯å¢ƒå˜é‡ã€‚ç„¶åæ‰§è¡Œhadoop versionå‘½ä»¤ï¼Œæ˜¾ç¤ºç‰ˆæœ¬è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚\n.mdtsegcjsjij{zoom: 67%;}\n\n1.4 Hadoopåˆ†å¸ƒå¼è¿è¡Œæ¨¡å¼\né¦–å…ˆå°†ä¸Šè¾¹å®‰è£…çš„Javaç¯å¢ƒã€Hadoopç¯å¢ƒå’Œç¯å¢ƒå˜é‡æ–‡ä»¶åŒæ­¥åˆ°å¦å¤–ä¸¤å°æœåŠ¡å™¨ä¸­ã€‚å¯ä»¥ä½¿ç”¨scpå‘½ä»¤å‘é€æ–‡ä»¶å’Œç›®å½•ã€‚\n1.4.1 é›†ç¾¤è§„åˆ’\n\n\n\n\n\n\n\n\n\n\ncluster100\ncluster101\ncluster102\n\n\n\n\nHDFS\nNameNodeDataNode\nDataNode\nSecondaryNameNodeDataNode\n\n\nYARN\nNodeManager\nResourceManagerNodeManager\nNodeManager\n\n\n\n1.4.2 é›†ç¾¤é…ç½®\né›†ç¾¤é…ç½®ä¸»è¦æœ‰4ä¸ªé…ç½®æ–‡ä»¶ï¼Œéƒ½å­˜å‚¨åœ¨$HADOOP_HOME/etc/hadoopç›®å½•ä¸­ï¼Œåˆ†åˆ«æ˜¯core-site.xmlã€hdfs-site.xmlã€yarn-site.xmlå’Œmapred-site.xmlï¼Œè¿™å››ä¸ªé…ç½®æ–‡ä»¶åˆ†åˆ«å¯¹åº”hadoopæ ¸å¿ƒé…ç½®ã€hdfsé…ç½®ã€yarné…ç½®å’Œmap\nreduceé…ç½®ã€‚\n1.4.2.1 æ ¸å¿ƒé…ç½®\nç¼–è¾‘core-site.xmlï¼Œåœ¨&lt;configuration&gt;&lt;/configuration&gt;æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&lt;!-- æŒ‡å®šNameNodeçš„åœ°å€ --&gt;&lt;property&gt;    &lt;name&gt;fs.defaultFS&lt;/name&gt;    &lt;value&gt;hdfs://cluster100:8020&lt;/value&gt;&lt;/property&gt; &lt;!-- æŒ‡å®šhadoopæ•°æ®çš„å­˜å‚¨ç›®å½• --&gt;&lt;property&gt;     &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;    &lt;value&gt;/opt/module/hadoop3.1.3/data&lt;/value&gt; &lt;/property&gt; &lt;!-- é…ç½®HDFSç½‘é¡µç™»å½•ä½¿ç”¨çš„é™æ€ç”¨æˆ·ä¸ºlishan --&gt;&lt;property&gt;     &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;     &lt;value&gt;lishan&lt;/value&gt;&lt;/property&gt;\n1.4.2.2 HDFSé…ç½®\nç¼–è¾‘hdfs-site.xmlï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&lt;!-- NameNode webç«¯è®¿é—®åœ°å€--&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;    &lt;value&gt;cluster100:9870&lt;/value&gt;&lt;/property&gt;&lt;!-- SecondaryNameNode webç«¯è®¿é—®åœ°å€--&gt;&lt;property&gt;    &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;    &lt;value&gt;cluster102:9868&lt;/value&gt;&lt;/property&gt;\n1.4.2.3 YARNé…ç½®\nç¼–è¾‘yarn-site.xmlï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&lt;!-- æŒ‡å®šMRèµ°shuffle --&gt;&lt;property&gt;    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;    &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt; &lt;!-- æŒ‡å®šResourceManagerçš„åœ°å€--&gt; &lt;property&gt;     &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;     &lt;value&gt;cluster101&lt;/value&gt;&lt;/property&gt; &lt;!-- ç¯å¢ƒå˜é‡çš„ç»§æ‰¿ --&gt; &lt;property&gt;     &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;&lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;&lt;/property&gt;\n1.4.2.4 MapReduceé…ç½®\nç¼–è¾‘mapred-site.xmlï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&lt;!-- æŒ‡å®šMapReduceç¨‹åºè¿è¡Œåœ¨Yarnä¸Š --&gt;&lt;property&gt;    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;    &lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;\n1.4.2.5 èŠ‚ç‚¹é…ç½®\nç¼–è¾‘$HADOOP_HOME/etc/hadoopç›®å½•ä¸‹çš„workersæ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰èŠ‚ç‚¹æ·»åŠ è‡³æ–‡ä»¶ä¸­ï¼š\ncluster100cluster101cluster102\næ³¨æ„ï¼šè¯¥æ–‡ä»¶ä¸­ä¸å¾—æœ‰ç©ºè¡Œï¼Œæ¯è¡Œæœ«å°¾ä¸å…è®¸æœ‰ç©ºæ ¼\n1.4.2.6 åˆ†å‘é…ç½®\nå°†é…ç½®å¥½çš„æ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨ï¼ˆcluster101 cluster102ï¼‰ã€‚\n1.4.3 é›†ç¾¤å¯åŠ¨\nå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œéœ€è¦åœ¨NameNodeæ‰€åœ¨èŠ‚ç‚¹(cluster100)æ ¼å¼åŒ–NameNodeã€‚æ‰§è¡Œå‘½ä»¤hdfs namenode -formatæ ¼å¼åŒ–ã€‚\n\næ‰“å°è¯¥æ—¥å¿—ä¿¡æ¯è¡¨ç¤ºæ ¼å¼åŒ–æˆåŠŸã€‚\n\nhdfså¯åŠ¨\nä½¿ç”¨$HADOOP_HOME/sbin/start-dfs.shå¯åŠ¨hdfsï¼Œç”±äºé…ç½®äº†ç¯å¢ƒå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨start-dfs.shå‘½ä»¤ã€‚\næ‰“å°å‡ºä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸã€‚\n\nç„¶åè¾“å…¥jpsï¼ŒæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚\n\nå¯ä»¥çœ‹åˆ°DataNodeå’ŒNameNodeéƒ½å¯åŠ¨äº†ã€‚\nåœ¨cluster102ä¸­ä¹ŸæŸ¥çœ‹è¿›ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°SecondNameNodeä¹Ÿå¯åŠ¨äº†ï¼Œç¬¦åˆæœ€å¼€å§‹çš„è§„åˆ’ã€‚\n\nå¯åŠ¨Yarn\nè®¾è®¡çš„Yarnéœ€è¦é…ç½®åœ¨cluster101ä¸­ï¼Œæ‰€ä»¥éœ€è¦åœ¨cluster101ä¸­å¯åŠ¨yarnã€‚ä½¿ç”¨å‘½ä»¤start-yarn.shå¯åŠ¨ã€‚\nå¯åŠ¨åä½¿ç”¨jpsæŸ¥çœ‹è¿›ç¨‹ã€‚\n\nå¯ä»¥çœ‹åˆ°ResourceManagerå¯åŠ¨äº†ã€‚\næŸ¥çœ‹ä¿¡æ¯\nè¿›å…¥192.168.10.100:9870æŸ¥çœ‹HDFSçš„ç›¸å…³ä¿¡æ¯ã€‚\n.zgjvoxysnegg{zoom: 33%;}\nè¿›å…¥192.168.10.101:8088æŸ¥çœ‹Yarnç›¸å…³ä¿¡æ¯ã€‚\n.rzwaogdedflk{zoom: 33%;}\nå±•ç¤ºä»¥ä¸Šé¡µé¢è¡¨æ˜å®‰è£…æˆåŠŸï¼Œhdfså’Œyarnå·²ç»æˆåŠŸå¯åŠ¨ã€‚\n\n1.4.4 é…ç½®å†å²æœåŠ¡å™¨\nè¯¥æœåŠ¡å™¨å¯ä»¥æŸ¥çœ‹ç¨‹åºçš„å†å²è¿è¡Œæƒ…å†µã€‚\nç¼–è¾‘mapred-site.xmlæ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸‹å†…å®¹ï¼š\n&lt;!-- å†å²æœåŠ¡å™¨ç«¯åœ°å€ --&gt; &lt;property&gt;     &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;     &lt;value&gt;cluster100:10020&lt;/value&gt; &lt;/property&gt; &lt;!-- å†å²æœåŠ¡å™¨webç«¯åœ°å€ --&gt; &lt;property&gt;     &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;     &lt;value&gt;cluster100:19888&lt;/value&gt; &lt;/property&gt; \né…ç½®å¥½åå°†è¯¥é…ç½®æ–‡ä»¶åˆ†å‘åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚ç„¶åä½¿ç”¨å‘½ä»¤mapred --daemon start historyserverå¯åŠ¨å†å²æœåŠ¡å™¨ã€‚\né€šè¿‡é…ç½®çš„ç«¯å£è®¿é—®Webé¡µé¢ï¼Œæ­£å¸¸æ˜¾ç¤ºé¡µé¢ï¼Œè¯æ˜å†å²æœåŠ¡å™¨å·²ç»å¯åŠ¨ã€‚\n.xxjpphfeuojj{zoom: 33%;}\n\n1.4.5 é…ç½®æ—¥å¿—èšé›†åŠŸèƒ½\né…ç½®æ—¥å¿—èšé›†å¯ä»¥å°†æ‰€æœ‰æœåŠ¡å™¨çš„è¿è¡Œæ—¥å¿—èšé›†åˆ°HDFSä¸­ï¼Œæ–¹ä¾¿ç»Ÿä¸€æŸ¥çœ‹ã€‚\né…ç½®yarn-site.xmlï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&lt;!-- å¼€å¯æ—¥å¿—èšé›†åŠŸèƒ½ --&gt; &lt;property&gt;     &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;     &lt;value&gt;true&lt;/value&gt; &lt;/property&gt; &lt;!-- è®¾ç½®æ—¥å¿—èšé›†æœåŠ¡å™¨åœ°å€ --&gt; &lt;property&gt;       &lt;name&gt;yarn.log.server.url&lt;/name&gt;       &lt;value&gt;http://cluster10:19888/jobhistory/logs&lt;/value&gt; &lt;/property&gt; &lt;!-- è®¾ç½®æ—¥å¿—ä¿ç•™æ—¶é—´ä¸º7å¤© --&gt; &lt;property&gt;     &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;     &lt;value&gt;604800&lt;/value&gt; &lt;/property&gt; \nå°†é…ç½®åˆ†å‘åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚\næ³¨æ„ï¼šé…ç½®æ—¥å¿—èšé›†åŠŸèƒ½ï¼Œéœ€è¦é‡æ–°å¯åŠ¨NodeManagerã€ResourceManagerå’ŒHistoryServerã€‚\néœ€è¦åœ¨cluster101ä¸­ä½¿ç”¨stop-yarn.shå…³é—­yarnï¼Œç„¶åä½¿ç”¨mapred --daemon stop historyserverå…³é—­å†å²æœåŠ¡å™¨ã€‚\n2. Zookeeperå®‰è£…\n2.1 ä¸‹è½½\nå»å®˜ç½‘(https://zookeeper.apache.org/)ä¸‹è½½Zookeeperçš„taråŒ…ï¼Œè¿™é‡Œé€‰æ‹©3.5.7çš„ç‰ˆæœ¬ã€‚\né‡‡ç”¨é›†ç¾¤éƒ¨ç½²æ–¹å¼å®‰è£…Zookeeperï¼Œè§„åˆ’åœ¨ä¸‰å°èŠ‚ç‚¹éƒ½å®‰è£…ä¸ŠZookeeperã€‚\né¦–å…ˆå°†ä¸‹è½½å¥½çš„taråŒ…è§£å‹åˆ°/opt/moduleç›®å½•ä¸­ã€‚\ntar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/\n2.2 å®‰è£…\n\né…ç½®æœåŠ¡å™¨ç¼–å·\nåœ¨/opt/module/zookeeper3.5.7ç›®å½•ä¸­åˆ›å»ºç›®å½•zkDataï¼Œå¹¶åœ¨è¿™ä¸ªç›®å½•æ–°å»ºmyidæ–‡ä»¶ã€‚\nå†™å…¥å†…å®¹ä¸ºï¼š\n0\næ³¨æ„ï¼šä¸èƒ½ç©ºè¡Œï¼Œæœ«å°¾ä¸èƒ½æœ‰ç©ºæ ¼ã€‚\nåˆ†å‘zookeeperåˆ°å…¶ä»–æœåŠ¡å™¨ã€‚ç„¶ååˆ†åˆ«åœ¨cluster101ä¿®æ”¹myidå†…å®¹ä¸º1ï¼Œcluster102ä¿®æ”¹ä¸º2ã€‚\né…ç½®zoo.cfgæ–‡ä»¶\né‡å‘½åzookeeper3.5.7/conf\nç›®å½•ä¸‹çš„zoo_sample.cfgä¸ºzoo.cfgã€‚ä¿®æ”¹æ•°æ®å­˜å‚¨ä½ç½®ï¼š\ndataDir=/opt/module/zookeeper3.5.7/zkData\nå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n#######################cluster########################## server.0=cluster100:2888:3888 server.1=cluster101:2888:3888 server.2=cluster102:2888:3888 \nserver.A=B:C:Dè¡¨ç¤ºAå·æœåŠ¡å™¨çš„åœ°å€æ˜¯Bï¼ŒFlloweræœåŠ¡å™¨ä¸é›†ç¾¤ä¸­çš„LeaderæœåŠ¡å™¨ä½¿ç”¨Cç«¯å£äº¤æ¢ä¿¡æ¯ï¼Œå¦‚æœé›†ç¾¤ä¸­çš„LeaderæœåŠ¡å™¨å´©æºƒï¼Œä½¿ç”¨Då·ç«¯å£é‡æ–°é€‰ä¸¾Leaderã€‚å…¶ä¸­Aå³ä¸ºmyidä¸­å†™å…¥çš„ç¼–å·ã€‚\nåŒæ­¥è¯¥é…ç½®æ–‡ä»¶åˆ°å…¶ä»–æœåŠ¡å™¨ã€‚\né›†ç¾¤å¯åŠ¨\nåˆ†åˆ«åœ¨ä¸‰å°èŠ‚ç‚¹æ‰§è¡Œbin/zkServer.sh startã€‚\næ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸã€‚\n.iqeiqnbhhuwu{}\n\n.qzuqqtfmnxqh{}\n\n\n3. Hbaseå®‰è£…\n3.1 ä¸‹è½½\né¦–å…ˆå»å®˜ç½‘ä¸‹è½½HBaseå®‰è£…åŒ…ï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯2.4.11çš„ç‰ˆæœ¬ã€‚\nè§£å‹åˆ°/opt/moduleç›®å½•ä¸­ï¼Œå¹¶ä¿®æ”¹åå­—ä¸ºï¼šhbase2.4.11ã€‚\nå¹¶åœ¨/etc/profile.d/my_env.shæ·»åŠ ç¯å¢ƒå˜é‡\nexport HBASE_HOME=/opt/module/hbase2.4.11export PATH=$PATH:$HBASE_HOME/bin\n3.2 å®‰è£…\n3.2.1 é…ç½®\n\né…ç½®hbase-env.sh\nä¿®æ”¹conf/hbase-env.shä¸­çš„å†…å®¹export HBASE_MANAGES_ZK=false\nä¿®æ”¹hbase-site.xml\n &lt;property&gt;      &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;      &lt;value&gt;clister100,cluster101,cluster102&lt;/value&gt;      &lt;description&gt;The directory shared by RegionServers.      &lt;/description&gt; &lt;/property&gt;  &lt;property&gt;     &lt;name&gt;hbase.rootdir&lt;/name&gt;     &lt;value&gt;hdfs://clister100:8020/hbase&lt;/value&gt;     &lt;description&gt;The directory shared by RegionServers.     &lt;/description&gt; &lt;/property&gt; &lt;property&gt;     &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;     &lt;value&gt;true&lt;/value&gt; &lt;/property&gt; \nä¿®æ”¹regionservers\nä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š\ncluster100cluster101cluster102\nè§£å†³å…¼å®¹æ€§é—®é¢˜\nè§£å†³hbaseå’Œhadoopçš„log4jå…¼å®¹æ€§é—®é¢˜ï¼Œä¿®æ”¹hbaseçš„jaråŒ…ä½¿ç”¨hadoopçš„jaråŒ…ã€‚\nmv /opt/module/hbase2.4.11/lib/client-facing-thirdparty/slf4j-reload4j-1.7.33.jar /opt/module/hbase2.4.11/lib/client-facing-thirdparty/slf4j-reload4j-1.7.33.jar.bak \n\nå°†ä¿®æ”¹å¥½çš„hbaseåˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨ã€‚\n3.2.2 å¯åŠ¨\næ‰§è¡Œå‘½ä»¤start-hbase.shã€‚æ˜¾ç¤ºä¸€ä¸‹ä¿¡æ¯å¯åŠ¨æˆåŠŸã€‚\nè®¿é—®192.168.10.100:16010å‡ºç°hbaseçš„é¡µé¢ï¼Œå¯åŠ¨æˆåŠŸã€‚\n\n.uvdrfrgyyemf{zoom:50%;}\n\n4. MySQLå®‰è£…\nä¸‹è½½mysql-xxx.tarå®‰è£…åŒ…å’Œmysqlé©±åŠ¨jaråŒ…ã€‚\n4.1 å®‰è£…\n\nè§£å‹å®‰è£…åŒ…\nå¸è½½è‡ªå¸¦çš„mariadb\nsudo rpm -qa | grep mariadb | xargs sudo rpm -e --nodeps\nå®‰è£…MySQLä¾èµ–\nsudo rpm -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpmsudo rpm -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpmsudo rpm -ivh mysql-community-libs-compat-5.7.28-1.el7.x86_64.rpm\nå®‰è£…clientå’Œserver\nsudo rpm -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpmsudo rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm\nå¯åŠ¨\nsystemctl start mysqld\næŸ¥çœ‹msyqlå¯†ç \nsudo cat /var/log/mysqld.log | grep password\n\n4.2 é…ç½®\n\nå¯†ç é…ç½®\nä¸ªäººå­¦ä¹ å¯ä»¥é…ç½®ä¸€ä¸ªç®€å•çš„å¯†ç ã€‚\nset global validate_password_policy=0;set global validate_password_length=4;\nè®¾ç½®å¯†ç éªŒè¯ç­–ç•¥ä¸ºæœ€ä½ã€‚\nè®¾ç½®å¯†ç \nset password=password(\"123456\");\nä¿®æ”¹ç™»å½•æƒé™\nupdate user set host=\"%\" where user=\"root\";\nåˆ·æ–°æƒé™\nflush privileges;\n\n5. Hiveå®‰è£…\nåœ¨å®˜ç½‘ä¸‹è½½hvie 3.1.3ç‰ˆæœ¬taråŒ…ã€‚\n5.1 è§£å‹\nè§£å‹taråŒ…åˆ°/opt/moduleä¸­å¹¶ä¿®æ”¹åå­—ä¸ºhive3.1.3\ntar -zxvf apache-hive-3.1.3-bin.tar.gz -C /opt/module/\næ·»åŠ ç¯å¢ƒå˜é‡\nexport HIVE_HOME=/opt/module/hive3.1.3export PATH=$PATH:$HIVE_HOME/bin\n5.2 é…ç½®å…ƒæ•°æ®å­˜å‚¨åˆ°Mysqlä¸­\n\nç™»å½•MySQLæ–°å»ºå…ƒæ•°æ®åº“\ncreate database metastore;\nè®¾ç½®jdbcé©±åŠ¨\nå°†MySQLçš„jdbcé©±åŠ¨æ‹·è´åˆ°hiveçš„libç›®å½•ä¸‹\ncp /opt/software/mysql-connector-java-5.1.37-bin.jar /opt/module/hive3.1.3/lib/\né…ç½®hvie-site.xml\nåœ¨confç›®å½•ä¸‹æ–°å»ºhive-site.xmlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š\n&lt;?xml version=\"1.0\"?&gt;&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;&lt;configuration&gt;    &lt;!-- jdbcè¿æ¥çš„URL --&gt;    &lt;property&gt;        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;        &lt;value&gt;jdbc:mysql://cluster100:3306/metastore?useSSL=false&lt;/value&gt;    &lt;/property&gt;        &lt;!-- jdbcè¿æ¥çš„Driver--&gt;    &lt;property&gt;        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;        &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;    &lt;/property&gt;    \t&lt;!-- jdbcè¿æ¥çš„username--&gt;    &lt;property&gt;        &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;        &lt;value&gt;root&lt;/value&gt;    &lt;/property&gt;    &lt;!-- jdbcè¿æ¥çš„password --&gt;    &lt;property&gt;        &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;        &lt;value&gt;123456&lt;/value&gt;    &lt;/property&gt;    &lt;!-- Hiveé»˜è®¤åœ¨HDFSçš„å·¥ä½œç›®å½• --&gt;    &lt;property&gt;        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;        &lt;value&gt;/user/hive/warehouse&lt;/value&gt;    &lt;/property&gt;&lt;/configuration&gt;\nåˆå§‹åŒ–\nåˆå§‹åŒ–hiveæºæ•°æ®åº“ã€‚\nschematool -dbType mysql -initSchema -verbose\nå¦‚æœå‡ºç°æŠ¥é”™ï¼š.weoiyvrikbex{zoom:\n50%;}\næ˜¯åŒ…ç‰ˆæœ¬çš„é—®é¢˜ï¼Œå°†hadoopä¸­ç›¸å…³çš„guavaå¤åˆ¶åˆ°hiveä¸­å³å¯ã€‚\nrm hive3.1.3/lib/guava-19.0.jar cp hadoop3.1.3/share/hadoop/common/lib/guava-27.0-jre.jar hive3.1.3/lib/\n\næ‰“å°ä»¥ä¸Šä¿¡æ¯è¡¨ç¤ºåˆå§‹åŒ–æˆåŠŸã€‚\nç™»å½•MySQLæ•°æ®åº“ï¼ŒæŸ¥çœ‹metastoreæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ã€‚\n.jnwdqfphtjyf{zoom: 50%;}\nå¯ä»¥çœ‹åˆ°æœ‰äº†å…ƒæ•°æ®ä¿¡æ¯ã€‚\n\n5.3 HiveæœåŠ¡éƒ¨ç½²\n5.3.1 hiveserver2éƒ¨ç½²\nä¿®æ”¹hadoopä¸‹çš„core-site.xmlé…ç½®æ–‡ä»¶ã€‚å¢åŠ å¦‚ä¸‹é…ç½®\n&lt;!--é…ç½®æ‰€æœ‰èŠ‚ç‚¹çš„lishanç”¨æˆ·éƒ½å¯ä½œä¸ºä»£ç†ç”¨æˆ·--&gt;&lt;property&gt;    &lt;name&gt;hadoop.proxyuser.lishan.hosts&lt;/name&gt;    &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;&lt;!--é…ç½®lishanç”¨æˆ·èƒ½å¤Ÿä»£ç†çš„ç”¨æˆ·ç»„ä¸ºä»»æ„ç»„--&gt;&lt;property&gt;    &lt;name&gt;hadoop.proxyuser.lishan.groups&lt;/name&gt;    &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;&lt;!--é…ç½®lishanç”¨æˆ·èƒ½å¤Ÿä»£ç†çš„ç”¨æˆ·ä¸ºä»»æ„ç”¨æˆ·--&gt;&lt;property&gt;    &lt;name&gt;hadoop.proxyuser.lishan.users&lt;/name&gt;    &lt;value&gt;*&lt;/value&gt;&lt;/property&gt;\nä¿®æ”¹hiveä¸‹çš„hive-site.xmlï¼Œå¢åŠ å¦‚ä¸‹ä¿¡æ¯ï¼š\n&lt;!-- æŒ‡å®šhiveserver2è¿æ¥çš„host --&gt;&lt;property&gt;\t&lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt;\t&lt;value&gt;cluster100&lt;/value&gt;&lt;/property&gt;&lt;!-- æŒ‡å®šhiveserver2è¿æ¥çš„ç«¯å£å· --&gt;&lt;property&gt;\t&lt;name&gt;hive.server2.thrift.port&lt;/name&gt;\t&lt;value&gt;10000&lt;/value&gt;&lt;/property&gt;\nä½¿ç”¨å‘½ä»¤hive --service hiveserver2å¯åŠ¨hiveserver2ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªç»ˆç«¯æ‰§è¡Œbeeline -u jdbc:hive2://cluster100:10000 -n lishanåçœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š\n.cphlonfyyhyl{zoom: 67%;}\n\nå¯åŠ¨æˆåŠŸã€‚\n5.3.2 metastoreæœåŠ¡\nä¿®æ”¹hiveä¸‹çš„hive-site.xmlï¼Œæ·»åŠ å†…å®¹ï¼š\n&lt;!-- æŒ‡å®šmetastoreæœåŠ¡çš„åœ°å€ --&gt;&lt;property&gt;\t&lt;name&gt;hive.metastore.uris&lt;/name&gt;\t&lt;value&gt;thrift://cluster100:9083&lt;/value&gt;&lt;/property&gt;\nå¯åŠ¨metastoreæœåŠ¡ï¼Œhive --service metastoreï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨hiveï¼ŒæŸ¥çœ‹æ•°æ®åº“ï¼Œæ­£å¸¸è®¿é—®ã€‚\n6. Sparkå®‰è£…\n6.1 ä¸‹è½½\nè¿™é‡Œä¸‹è½½çš„spark 3.0.0ç‰ˆæœ¬ã€‚\nè§£å‹åˆ°/opt/moduleä¸­ï¼Œå¹¶ä¿®æ”¹åä¸ºï¼šspark3.0.0ã€‚\n6.2 Yarnæ¨¡å¼é…ç½®\nä¿®æ”¹hadoopä¸‹çš„yarn-site.xmlæ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹ï¼š\n&lt;!--æ˜¯å¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ£€æŸ¥æ¯ä¸ªä»»åŠ¡æ­£ä½¿ç”¨çš„ç‰©ç†å†…å­˜é‡ï¼Œå¦‚æœä»»åŠ¡è¶…å‡ºåˆ†é…å€¼ï¼Œåˆ™ç›´æ¥å°†å…¶æ€æ‰ï¼Œé»˜è®¤æ˜¯true --&gt; &lt;property&gt;     &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;     &lt;value&gt;false&lt;/value&gt; &lt;/property&gt; &lt;!--æ˜¯å¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ£€æŸ¥æ¯ä¸ªä»»åŠ¡æ­£ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜é‡ï¼Œå¦‚æœä»»åŠ¡è¶…å‡ºåˆ†é…å€¼ï¼Œåˆ™ç›´æ¥å°†å…¶æ€æ‰ï¼Œé»˜è®¤æ˜¯true --&gt; &lt;property&gt;     &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;     &lt;value&gt;false&lt;/value&gt; &lt;/property&gt; \nå°†sparkä¸‹çš„conf/spark-env.sh.templateé‡å‘½åä¸ºspark-evn.shå¹¶æ·»åŠ ï¼š\nexport JAVA_HOME=/opt/module/jdk1.8YARN_CONF_DIR=/opt/module/hadoop3.1.3/etc/hadoop\nåˆ†å‘åˆ°æ‰€æœ‰æœåŠ¡å™¨ã€‚\n6.3 é…ç½®å†å²æœåŠ¡å™¨\né‡å‘½åsparkç›®å½•ä¸‹çš„mv conf/spark-defaults.conf.template conf/spark-defaults.confã€‚å¹¶ä¿®æ”¹è¯¥æ–‡ä»¶ï¼š\nspark.eventLog.enabled           truespark.eventLog.dir               hdfs://cluster100:8020/directory\nç„¶ååœ¨hdfsä¸Šæ–°å»ºè¯¥ç›®å½•ï¼šhadoop fs -mkdir /directory\nä¿®æ”¹spark-env.shï¼Œæ·»åŠ æ—¥å¿—é…ç½®ã€‚\nexport SPARK_HISTORY_OPTS=\"-Dspark.history.ui.port=18080-Dspark.history.fs.logDirectory=hdfs://cluster100:8020/directory-Dspark.history.retainedApplications=30\"\nä¿®æ”¹spark-defaults.confæ–‡ä»¶\nspark.yarn.historyServer.address=cluster100:18080spark.history.ui.port=18080\nå¯åŠ¨å†å²æœåŠ¡sbin/start-history-server.sh\n7. Kafkaå®‰è£…\n7.1ä¸‹è½½\nä¸‹è½½ç‰ˆæœ¬ä¸ºï¼škafka 2.12-3.0.0ã€‚è§£å‹åˆ°/opt/moduleå¹¶ä¿®æ”¹åkafka3.0.0ã€‚\næ·»åŠ ç¯å¢ƒå˜é‡\nexport KAFKA_HOME=/opt/module/kafka3.0.0export PATH=$PATH:$KAFKA_HOME/bin\n7.2é…ç½®\nè¿›å…¥kafkaç›®å½•ï¼Œä¿®æ”¹config/server.propertiesæ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š\n#brokerçš„å…¨å±€å”¯ä¸€ç¼–å·ï¼Œä¸èƒ½é‡å¤ï¼Œåªèƒ½æ˜¯æ•°å­—ã€‚broker.id=0#å¤„ç†ç½‘ç»œè¯·æ±‚çš„çº¿ç¨‹æ•°é‡num.network.threads=3#ç”¨æ¥å¤„ç†ç£ç›˜IOçš„çº¿ç¨‹æ•°é‡num.io.threads=8#å‘é€å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°socket.send.buffer.bytes=102400#æ¥æ”¶å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°socket.receive.buffer.bytes=102400#è¯·æ±‚å¥—æ¥å­—çš„ç¼“å†²åŒºå¤§å°socket.request.max.bytes=104857600#kafkaè¿è¡Œæ—¥å¿—(æ•°æ®)å­˜æ”¾çš„è·¯å¾„ï¼Œè·¯å¾„ä¸éœ€è¦æå‰åˆ›å»ºï¼Œkafkaè‡ªåŠ¨å¸®ä½ åˆ›å»ºï¼Œå¯ä»¥é…ç½®å¤šä¸ªç£ç›˜è·¯å¾„ï¼Œè·¯å¾„ä¸è·¯å¾„ä¹‹é—´å¯ä»¥ç”¨\"ï¼Œ\"åˆ†éš”log.dirs=/opt/module/kafka3.0.0/datas#topicåœ¨å½“å‰brokerä¸Šçš„åˆ†åŒºä¸ªæ•°num.partitions=1#ç”¨æ¥æ¢å¤å’Œæ¸…ç†dataä¸‹æ•°æ®çš„çº¿ç¨‹æ•°é‡ num.recovery.threads.per.data.dir=1 # æ¯ä¸ªtopicåˆ›å»ºæ—¶çš„å‰¯æœ¬æ•°ï¼Œé»˜è®¤æ—¶1ä¸ªå‰¯æœ¬ offsets.topic.replication.factor=1 #segmentæ–‡ä»¶ä¿ç•™çš„æœ€é•¿æ—¶é—´ï¼Œè¶…æ—¶å°†è¢«åˆ é™¤ log.retention.hours=168#æ¯ä¸ªsegmentæ–‡ä»¶çš„å¤§å°ï¼Œé»˜è®¤æœ€å¤§1Glog.segment.bytes=1073741824# æ£€æŸ¥è¿‡æœŸæ•°æ®çš„æ—¶é—´ï¼Œé»˜è®¤5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æ•°æ®è¿‡æœŸlog.retention.check.interval.ms=300000#é…ç½®è¿æ¥Zookeeperé›†ç¾¤åœ°å€ï¼ˆåœ¨zkæ ¹ç›®å½•ä¸‹åˆ›å»º/kafkaï¼Œæ–¹ä¾¿ç®¡ç†ï¼‰zookeeper.connect=cluster100:2181,cluster101:2181,cluster102:2181/kafka\nåˆ†å‘kafkaå’Œç¯å¢ƒå˜é‡æ–‡ä»¶åˆ°å…¶ä»–æœåŠ¡å™¨ã€‚ä¿®æ”¹cluster101çš„borker.idä¸º1ï¼Œcluster102çš„borker.idä¸º2.\n7.3 å¯åŠ¨\nåœ¨zookeeperé›†ç¾¤å¯åŠ¨çš„æƒ…å†µä¸‹å¯åŠ¨kafkaã€‚\nåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåˆ†åˆ«å¯åŠ¨kafkaã€‚\nbin/kafka-server-start.sh -daemon config/server.properties\nä½¿ç”¨jpsæŸ¥çœ‹è¿›ç¨‹\n.eocfmmjeldiw{zoom:67%;}\n\nå¯ä»¥çœ‹åˆ°kafkaå·²ç»å¯åŠ¨äº†ã€‚\n8. Stormå®‰è£…\nä¸‹è½½storm 1.2.4ç‰ˆæœ¬ã€‚å¹¶è§£å‹åˆ°/opt/moduleä¸­ä¿®æ”¹åä¸ºstorm1.2.4ã€‚\n8.1 é…ç½®\nä¿®æ”¹confä¸‹çš„storm.yamlæ–‡ä»¶ã€‚\nstorm.zookeeper.servers:     - \"cluster100\"     - \"cluster101\"     - \"cluster102\"nimbus.host: \"cluster100\"storm.local.dir: \"/opt/module/storm1.2.4/data\"ui.port: 8888supervisor.slots.ports:    - 6700    - 6701    - 6702\nå°†stormåˆ†å‘åˆ°å…¶ä»–èŠ‚ç‚¹\n8.2 å¯åŠ¨\nåœ¨cluster100å¯åŠ¨ï¼š\nnohup /opt/module/storm1.2.4/bin/storm nimbus &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;nohup /opt/module/storm1.2.4/bin/storm ui &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;nohup /opt/module/storm1.2.4/bin/storm logviewer &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\nå¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹å¯åŠ¨ï¼š\nnohup /opt/module/storm1.2.4/bin/storm supervisor &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\ncluster100æŸ¥çœ‹è¿›ç¨‹ï¼Œå‡ºç°core nimbus logviewerå³æˆåŠŸã€‚\n.lchtgdtnthpp{zoom:67%;}\n\nå¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹å‡ºç°supervisor\n.pxxornqtnafb{zoom:67%;}\n\n9. Cassandraå®‰è£…\nä¸‹è½½ç‰ˆæœ¬ä¸ºcassandra 3.11.10çš„ç‰ˆæœ¬ã€‚å®Œæˆåè§£å‹åˆ°/opt/moduleå¹¶ä¿®æ”¹åä¸ºï¼šcassandra3.11.10\n9.1 é…ç½®\nåœ¨cassandraç›®å½•ä¸‹æ–°å»ºdata commitlog saved_cachesä¸‰ä¸ªç›®å½•ã€‚\nä¿®æ”¹conf/cassandra.yamlæ–‡ä»¶ã€‚\ndata_file_directories:    - /opt/module/cassandra3.11.10/datacommitlog_directory: /opt/module/cassandra3.11.10/commitlogsaved_caches_directory: /opt/module/cassandra3.11.10/saved_caches\n9.2 å¯åŠ¨\næ‰§è¡Œå‘½ä»¤bin/cassandraå¯åŠ¨ã€‚ç„¶åå†å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤bin/cqlshã€‚æ˜¾ç¤ºä»¥ä¸‹å†…å®¹ï¼š\n.lrsdehurowot{zoom:67%;}\n\nå¯åŠ¨æˆåŠŸã€‚\n9.3 æ·»åŠ å¼€æœºè‡ªå¯\nvim /usr/lib/systemd/system/cassandra.serviceåˆ›å»ºæœåŠ¡æ–‡ä»¶ã€‚\n[Unit]Description=Cassandra Server ServiceAfter=network.service [Service]Type=simpleEnvironment=JAVA_HOME=/opt/module/jdk1.8 PIDFile=/usr/local/cassandra/cassandra.pid# æ–°å»ºä¸€ä¸ªç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼ŒCassandraæ— æ³•ä½¿ç”¨rootè´¦å·å¯åŠ¨User=lishanGroup=lishan# æ­¤å¤„ä¸ºCassandraåŒ…è§£å‹åçš„è·¯å¾„ExecStart=/opt/module/cassandra3.11.10/bin/cassandra -f -p /usr/local/cassandra/cassandra.pidStandardOutput=journalStandardError=journalLimitNOFILE=100000LimitMEMLOCK=infinityLimitNPROC=32768LimitAS=infinity [Install]WantedBy=multi-user.target\nç„¶ååˆ·æ–°æœåŠ¡ï¼Œè®¾ç½®å¼€æœºè‡ªå¯\nsudo systemctl daemon-reloadsudo systemctl start cassandrasudo systemctl enable cassandra\n10. å„æ¡†æ¶ç®€å•æ“ä½œ\n10.1 hadoop\nhadoopåŸºç¡€æ“ä½œæŸ¥çœ‹hdfsä¸­çš„æ–‡ä»¶ã€‚æœ‰ä¸¤ç§æ–¹å¼ã€‚\n\né€šè¿‡UIé¡µé¢æŸ¥çœ‹\nè®¿é—®192.168.10.100:9870/explorer.html\n.ohmxudwsjekf{zoom:50%;}å¯ä»¥æŸ¥çœ‹åˆ°ç›®å‰hdfsä¸­å­˜å‚¨çš„æ–‡ä»¶ã€‚\né€šè¿‡å‘½ä»¤æŸ¥çœ‹ã€‚\nä½¿ç”¨hadoop fs -lsæŸ¥çœ‹ç›®å½•ã€‚\n\nå¦‚å›¾ï¼ŒæŸ¥çœ‹æ ¹ç›®å½•ä¸‹æœ‰å“ªäº›ç›®å½•ã€‚\n\n10.2 Zookeeperä½¿ç”¨\nä½¿ç”¨zookeeperç›®å½•ä¸‹çš„bin/zkServer.sh statuså‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰èŠ‚ç‚¹çš„çŠ¶æ€ã€‚\n\n10.3 HBaseä½¿ç”¨\né€šè¿‡è®¿é—®Webé¡µé¢ï¼ŒæŸ¥çœ‹ä¿¡æ¯ã€‚\n.ohmulttkdrot{zoom: 50%;}\n\n10.4 Hiveä½¿ç”¨\næ‰§è¡Œå‘½ä»¤hiveè¿›å…¥hive cliã€‚\nåˆ›å»ºæ•°æ®åº“åæŸ¥è¯¢ã€‚\n\nç„¶åè®¿é—®hadoopçš„webé¡µé¢ã€‚æŸ¥çœ‹hdfsçš„å­˜å‚¨æ•°æ®\n\nå¯ä»¥åœ¨hdfsä¸­æ‰¾åˆ°åˆ›å»ºçš„testæ•°æ®åº“ã€‚\n10.5 Sparkä½¿ç”¨\nè¿›å…¥sparkç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨sparké»˜è®¤çš„åº”ç”¨æµ‹è¯•sparkç¯å¢ƒã€‚\nbin/spark-submit \\--class org.apache.spark.examples.SparkPi \\--master yarn \\--deploy-mode client \\./examples/jars/spark-examples_2.12-3.0.0.jar \\10 \nè¿è¡Œåï¼Œå¯ä»¥è¿›å…¥yarnçš„é¡µé¢192.168.10.101:8088ï¼ŒæŸ¥çœ‹åˆ°å½“å‰æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ã€‚\n.ofkhddfufktv{zoom:50%;}\n\nç‚¹å‡»ä»»åŠ¡åçš„historyå¯ä»¥è¿›å…¥åˆ°å†å²é¡µé¢ï¼ŒæŸ¥çœ‹åˆ°ä»»åŠ¡çš„å†å²è¿è¡Œæ—¥å¿—ã€‚\n.qtrcjdiweuos{zoom:50%;}\n\n10.6 Stormä½¿ç”¨\nå¯ä»¥è®¿é—®uié¡µé¢192.168.10.100:8888æŸ¥çœ‹ä¿¡æ¯ã€‚\n.dyjutxepsbmx{zoom:50%;}\n\nå¯ä»¥çœ‹åˆ°ä¸‰ä¸ªèŠ‚ç‚¹éƒ½æ­£å¸¸è¿è¡Œã€‚\n11. æ€»ç»“\næœ¬æ¬¡å®éªŒå­¦ä¹ äº†å¤§æ•°æ®é›†ç¾¤ç¯å¢ƒçš„æ­å»ºï¼Œäº†è§£åˆ°äº†å¾ˆå¤šå¤§æ•°æ®ç›¸å…³çš„ç»„ä»¶ã€‚å’ŒåŒç»„çš„åŒå­¦ä¸€èµ·å­¦ä¹ äº†ç›¸å…³çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½æ­å»ºäº†ä¸€éå¤§æ•°æ®çš„ç¯å¢ƒï¼Œæé«˜äº†åŠ¨æ‰‹èƒ½åŠ›ã€‚\né™„å½•\nè¿™æ¬¡å®éªŒä¸­ï¼Œä¸ºäº†æ–¹ä¾¿é›†ç¾¤çš„æ“ä½œï¼Œå†™äº†ä¸€äº›è„šæœ¬ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚(åŸºäºå°šç¡…è°·hadoopæ•™ç¨‹)\nmyhadoop: ç”¨äºä¸€æ¬¡æ€§å¯åŠ¨å’Œå…³é—­æ‰€æœ‰ç›¸å…³ç»„ä»¶\nä½¿ç”¨æ ·ä¾‹myhadoop start myhadoop stop\n#!/bin/bash  if [ $# -lt 1 ] then     echo \"No Args Input...\"     exit ; fi  case $1 in \"start\")         echo \" =================== å¯åŠ¨ hadoopé›†ç¾¤ ===================\"          echo \" --------------- å¯åŠ¨ hdfs ---------------\"         ssh cluster100 \"/opt/module/hadoop3.1.3/sbin/start-dfs.sh\"         echo \" --------------- å¯åŠ¨ yarn ---------------\"         ssh cluster101 \"/opt/module/hadoop3.1.3/sbin/start-yarn.sh\"         echo \" --------------- å¯åŠ¨ historyserver ---------------\"         ssh cluster100 \"/opt/module/hadoop3.1.3/bin/mapred --daemon start historyserver\"         echo \"-------------zookeeper--------------\"        ssh cluster100 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh start\"        ssh cluster101 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh start\"        ssh cluster102 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh start\"        echo \"----------hbase ----------------\"        ssh cluster100 \"/opt/module/hbase2.4.11/bin/start-hbase.sh\"        echo \"--------------hiveserver2 metastore-----------\"        ssh cluster100 \"nohup /opt/module/hive3.1.3/bin/hive --service hiveserver2 &gt; /opt/module/hive3.1.3/output.log 2&gt;&amp;1  &amp;\"        ssh cluster100 \"nohup /opt/module/hive3.1.3/bin/hive --service metastore &gt; /opt/module/hive3.1.3/output.log 2&gt;&amp;1  &amp;\"        echo \"--------spark å†å²æœåŠ¡å™¨--------------\"        ssh cluster100 \"/opt/module/spark3.0.0/sbin/start-history-server.sh\"        echo \"--------kafka-------------\"        ssh cluster100 \"/opt/module/kafka3.0.0/bin/kafka-server-start.sh -daemon /opt/module/kafka3.0.0/config/server.properties\"        ssh cluster101 \"/opt/module/kafka3.0.0/bin/kafka-server-start.sh -daemon /opt/module/kafka3.0.0/config/server.properties\"        ssh cluster102 \"/opt/module/kafka3.0.0/bin/kafka-server-start.sh -daemon /opt/module/kafka3.0.0/config/server.properties\"        echo \"-----------storm------------\"        ssh cluster100 \"nohup /opt/module/storm1.2.4/bin/storm nimbus &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"        ssh cluster100 \"nohup /opt/module/storm1.2.4/bin/storm ui &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"        ssh cluster100 \"nohup /opt/module/storm1.2.4/bin/storm logviewer &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"        ssh cluster101 \"nohup /opt/module/storm1.2.4/bin/storm supervisor &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"        ssh cluster102 \"nohup /opt/module/storm1.2.4/bin/storm supervisor &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"                ssh cluster101 \"nohup /opt/module/storm1.2.4/bin/storm logviewer &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\"        ssh cluster102 \"nohup /opt/module/storm1.2.4/bin/storm logviewer &gt; /opt/module/storm1.2.4/output.log 2&gt;&amp;1 &amp;\";; \"stop\")         echo \" =================== å…³é—­ hadoopé›†ç¾¤ ===================\"         ssh cluster100 \"jps | grep -E 'core|nimbus|logviewer' | awk '{print \\$1}' | xargs kill -9\"        ssh cluster101 \"jps | grep -E 'Supervisor|logviewer' | awk '{print \\$1}' | xargs kill -9\"        ssh cluster102 \"jps | grep -E 'Supervisor|logviewer' | awk '{print \\$1}' | xargs kill -9\"        ssh cluster100 \"/opt/module/kafka3.0.0/bin/kafka-server-stop.sh\"        ssh cluster101 \"/opt/module/kafka3.0.0/bin/kafka-server-stop.sh\"        ssh cluster102 \"/opt/module/kafka3.0.0/bin/kafka-server-stop.sh\"         ssh cluster100 \"/opt/module/spark3.0.0/sbin/stop-history-server.sh\"        ssh cluster100 \"jps | grep RunJar | awk '{print \\$1}' | xargs kill -9\" \t\tssh cluster100 \"/opt/module/hbase2.4.11/bin/stop-hbase.sh\" \t\tssh cluster100 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh stop\" \t\tssh cluster101 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh stop\" \t\tssh cluster102 \"/opt/module/zookeeper3.5.7/bin/zkServer.sh stop\"        echo \" --------------- å…³é—­ historyserver ---------------\"         ssh cluster100 \"/opt/module/hadoop3.1.3/bin/mapred --daemon stop historyserver\"         echo \" --------------- å…³é—­ yarn ---------------\"         ssh cluster101 \"/opt/module/hadoop3.1.3/sbin/stop-yarn.sh\"         echo \" --------------- å…³é—­ hdfs ---------------\"         ssh cluster100 \"/opt/module/hadoop3.1.3/sbin/stop-dfs.sh\" ;; *)     echo \"Input Args Error...\" ;; esac \nxsync: ç”¨äºåŒæ­¥ç›®å½•æˆ–æ–‡ä»¶åˆ°æ‰€æœ‰èŠ‚ç‚¹ã€‚\nä½¿ç”¨æ ·ä¾‹ xsync /opt/module/spark\n#!/bin/bash #1. åˆ¤æ–­å‚æ•°ä¸ªæ•° if [ $# -lt 1 ]then        echo Not Enough Arguement!         exit;fi#2. éå†é›†ç¾¤æ‰€æœ‰æœºå™¨ for host in cluster100 cluster101 cluster102do    echo ====================  $host  ====================     #3. éå†æ‰€æœ‰ç›®å½•å‘é€     for file in $@    do        #4. åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨         if [ -e $file ]            then                #5. è·å–çˆ¶ç›®å½•                 pdir=$(cd -P $(dirname $file); pwd)                #6. è·å–å½“å‰æ–‡ä»¶çš„åç§°                 fname=$(basename $file)                ssh $host \"mkdir -p $pdir\"                rsync -av $pdir/$fname $host:$pdir            else                echo $file does not exists!         fi    donedone\njpsall: æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹çš„è¿›ç¨‹ï¼Œå¹¶å±•ç¤ºå‡ºæ¥ã€‚\nfor host in cluster100 cluster101 cluster102do        echo =============== $host ===============        ssh $host jpsdone\n","categories":["å¤§æ•°æ®"],"tags":["Hive","å¤§æ•°æ®","Hadoop","Spark"]},{"title":"å·¦ç¥ç®—æ³•ç¬”è®°","url":"/392b1809e817/%E5%B7%A6%E7%A5%9E%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/","content":"\n1 æ—¶é—´å¤æ‚åº¦å’Œæ’åºç®—æ³•\n1.1 äº¤æ¢ä¸¤ä¸ªæ•°çš„å†™æ³•\npublic void static swap(int[] arr, int i, int j) {    arr[i] = arr[i] ^ arr[j];    arr[j] = arr[i] ^ arr[j];    arr[i] = arr[i] ^ arr[j];                                                           }\nå¼‚æˆ–æ“ä½œï¼š\n\nç›¸åŒä¸º0ï¼Œä¸åŒä¸º1\na ^ 0 = a\n\næ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ã€‚å¯¹ä»¥ä¸Šäº¤æ¢æ–¹æ³•åšè§£é‡Šï¼š\n\nç¬¬ä¸€è¡Œï¼š\n\narr[i] = arr[i] ^ arr[j];\narr[j] = arr[j];\n\nç¬¬äºŒè¡Œï¼š\n\narr[i] = arr[i] ^ arr[j];\narr[j] = arr[i] ^ arr[j] ^ arr[j] = arr[i];\n\nç¬¬ä¸‰è¡Œ\n\narr[i] = arr[i] ^ arr[j] ^ arr[j] = arr[i] ^ arr[j] ^ arr[i] = arr[j];\narr[j] = arr[i];\n\n\näº¤æ¢æˆåŠŸã€‚ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•äº¤æ¢çš„å‰ææ˜¯ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘çš„å†…å­˜ä¸èƒ½æ˜¯åŒä¸€ç‰‡åŒºåŸŸã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹æ•°ç»„è¿›è¡Œäº¤æ¢æ—¶ï¼Œäº¤æ¢çš„ä¸‹æ ‡å¿…é¡»ä¿è¯ä¸ç›¸ç­‰ã€‚\n1.2 æ‰¾åˆ°æ•°ç»„ä¸­å‡ºç°å¥‡æ•°æ¬¡çš„æ•°å­—\n1.2.1 å‡è®¾åªæœ‰ä¸€ç§æ•°å‡ºç°å¥‡æ•°æ¬¡\næ ¹æ®å¼‚æˆ–æ“ä½œçš„ç»“æœï¼Œå¦‚æœæ•°å­—å‡ºç°å¶æ•°æ¬¡å¼‚æˆ–å®Œä¹‹åä¼šå˜æˆ0ï¼Œå¥‡æ•°æ¬¡çš„è¿˜æ˜¯åŸæ¥æœ¬èº«ï¼Œæœ€åå°†0å’Œå¥‡æ•°æ¬¡çš„æ•°å¼‚æˆ–è¿˜æ˜¯å®ƒæœ¬èº«ã€‚\na ^ b ^ c ^ a ^ b ^ b ^ a ^ a ^ c = b;\nå› æ­¤åªæœ‰ä¸€ç§æ•°çš„å¯ä»¥ç›´æ¥éå†æ‰€æœ‰æ•°ç„¶åå¼‚æˆ–ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯ç­”æ¡ˆã€‚\n1.2.2 å‡è®¾æœ‰ä¸¤ç§æ•°å‡ºç°å¥‡æ•°æ¬¡\né¦–å…ˆæ ¹æ®å¼‚æˆ–æ“ä½œç»“æœï¼Œéå†ä¸€éåï¼Œæ‰€æœ‰å¶æ•°æ¬¡çš„æ•°éƒ½ä¼šæŠµæ¶ˆï¼Œåªå‰©ä¸‹ä¸¤ä¸ªå¥‡æ•°æ¬¡çš„æ•°çš„å¼‚æˆ–è®°ä¸ºeor = a ^ bï¼Œè¿™é‡Œeorä¸ä¸º0ï¼Œå› ä¸ºaå’Œbæ˜¯ä¸¤ç§æ•°ï¼Œè‚¯å®šä¸ç›¸ç­‰ï¼Œæ‰€ä»¥eorè‚¯å®šä¸æ˜¯0ï¼Œæ‰€ä»¥å¯ä»¥åœ¨eorä¸­æ‰¾åˆ°è‡³å°‘ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸º1ï¼Œå‡è®¾è¿™ä¸ªäºŒè¿›åˆ¶ä½ä¸ºç¬¬iä½ï¼Œé‚£ä¹ˆåœ¨ç¬¬iä½ä¸­ï¼Œaå’Œbçš„å€¼ä¸€å®šä¸ç›¸åŒã€‚å¯ä»¥æ ¹æ®è¿™ä¸ªç¬¬iä½çš„ä¸åŒå°†æ‰€æœ‰æ•°åˆ’åˆ†ä¸ºç¬¬iä½æ˜¯1çš„å’Œ0çš„ã€‚\n\n\n\nç¬¬iä½æ˜¯0\nç¬¬iä½æ˜¯1\n\n\n\n\nothers 0\nothers 1\n\n\na(æˆ–b)\nb(æˆ–a)\n\n\n\nå–å¦ä¸€ä¸ªå˜é‡eorpéå†æ‰€æœ‰ç¬¬iä½æ˜¯0æˆ–è€…1çš„ï¼Œå³å¯åˆ’åˆ†å‡ºaæˆ–è€…bã€‚è¿™é‡Œå¯ä»¥çŸ¥é“eorpçš„å€¼è‚¯å®šä¸ºaæˆ–è€…bã€‚å› ä¸ºothers 0æˆ–è€…others 1ä¸€å®šæ˜¯å¶æ•°ä¸ªï¼Œæœ€ç»ˆä¼šæŠµæ¶ˆã€‚å› æ­¤æœ€åå°†eor ^ eorpå¯ä»¥å¾—åˆ°å¦ä¸€ä¸ªå¥‡æ•°æ¬¡çš„æ•°ã€‚\npublic static void printOddTwiceNum(int[] arr) {    int eor = 0;    for (int cur : arr) {        eor ^= cur;    }    int rightOne = eor &amp; (~eor + 1);    int eorp = 0;    for (int cur : arr) {        if ((cur &amp; rightOne) == 0) {            eorp ^= cur;        }    }    // a = eorp, b = (eor ^ eorp)}\nä¸Šè¿°ä»£ç ä¸­int rightOne = eor &amp; (~eor + 1)ï¼Œè¿™è¡Œä»£ç ä½œç”¨æ˜¯è·å–åˆ°ä»å³å¾€å·¦ç¬¬ä¸€ä¸ªä¸ä¸º0çš„ä½ç½®ä¸Šçš„æ•°ï¼Œå¹¶ä¸”è®©å…¶ä»–ä½éƒ½ä¸º0ã€‚å…¶ä¸­~eor + 1æ˜¯eorçš„è¡¥ç ã€‚å‡è®¾eor = 10001010åˆ™~eor + 1 = 01110110å¼‚æˆ–å= 00000010ã€‚éœ€è¦æ³¨æ„çš„æ˜¯if ((cur &amp; rightOne) == 0)è¿™é‡Œçš„æ¡ä»¶åªèƒ½æ˜¯== 0 \\ != 0 \\ == rightOne \\ != rightOneã€‚å› ä¸ºrightOneå…¶ä»–ä½éƒ½æ˜¯0ï¼Œåªæœ‰æŸä¸€ä½æ˜¯1ï¼Œæ‰€ä»¥å¼‚æˆ–åçš„ç»“æœï¼Œåªæœ‰è¿™ä¸€ä½æ˜¯0æˆ–è€…1ã€‚\n1.3 æ’å…¥æ’åº\næ’å…¥æ’åºæ€æƒ³ï¼šå‡è®¾0 - iä½ç½®çš„æ•°æœ‰åºï¼Œä»i + 1ä½ç½®å‘å‰çœ‹ï¼Œå°†i + 1ä½ç½®çš„æ•°æ’å…¥åˆ°å‰è¾¹æœ‰åºçš„æ•°ç»„ä¸­ä½¿0 - i + 1çš„æ•°ä»ç„¶æœ‰åºã€‚å°†i + 1çš„æ•°ä¾æ¬¡ä¸å‰ä¸€ä¸ªæ•°æ¯”è¾ƒï¼Œå¦‚æœå°äºå‰ä¸€ä¸ªæ•°å°±äº¤æ¢ï¼Œç„¶åå†ä¸å‰ä¸€ä¸ªæ•°æ¯”è¾ƒï¼Œç›´åˆ°ä¸å°äºå‰ä¸€ä¸ªæ•°ã€‚\npublic static void insertionSort(int[] arr) {    if (arr == null || arr.length &lt; 2) {        return;    }    for (int i = 1; i &lt; arr.length; i++) {        for (int j = i - 1; j &gt;= 0 &amp;&amp; arr[j] &gt; arr[j + 1]; j--) {            swap(arr, j, j + 1);        }    }}public static void swap(int[] arr, int i, int j) {    int temp = arr[i];    arr[i] = arr[j];    arr[j] = temp;}\nè¿™é‡Œçš„ä»£ç ä¸­å°†æ¯”è¾ƒå¤§å°çš„æ¡ä»¶æ”¾åœ¨äº†forå¾ªç¯ä¸­å¯ä»¥ç®€åŒ–ä»£ç ï¼ŒåŒæ—¶è¦æ³¨æ„å‘å‰æ¯”è¾ƒæ—¶ä¸‹æ ‡ä¸èƒ½è¶Šç•Œã€‚jæŒ‡å‘çš„å‰ä¸€ä¸ªæ•°ï¼Œj + 1æŒ‡å‘å½“å‰çš„æ•°ï¼Œå¦‚æœæ¡ä»¶æˆç«‹ï¼Œå³å‰ä¸€ä¸ªæ•°æ¯”å½“å‰çš„æ•°å¤§ï¼Œå°±äº¤æ¢ï¼Œäº¤æ¢åj--ï¼Œç„¶åä¸‹ä¸€æ¬¡æ¯”è¾ƒåjæŒ‡å‘çš„ä»ç„¶æ˜¯å‰ä¸€ä¸ªæ•°ï¼Œj + 1æŒ‡å‘çš„ä»ç„¶æ˜¯å½“å‰çš„æ•°ã€‚\n1.4 Masterå…¬å¼\nä¸€ä¸ªé€’å½’æ–¹æ³•å¯ä»¥è¡¨ç¤ºæˆå¦‚ä¸‹çš„é€’æ¨å¼ï¼šå½“æ—¶ï¼Œå½“æ—¶ï¼Œå½“æ—¶ï¼Œ\n1.5 å½’å¹¶æ’åº\nåœ¨æ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°çš„å·¦è¾¹æ¯”å½“å‰æ•°å°çš„æ•°ç´¯åŠ èµ·æ¥ï¼Œå«åšè¿™ä¸ªæ•°ç»„çš„å°å’Œã€‚ä¾‹å¦‚[1, 3, 2, 4]ï¼Œ1å·¦è¾¹æ²¡æœ‰æ¯”å½“å‰æ•°å°çš„ï¼›3å·¦è¾¹æœ‰ï¼Œæ˜¯1ï¼›2å·¦è¾¹æœ‰ï¼Œæ˜¯1ï¼›4å·¦è¾¹æœ‰ï¼Œæ˜¯1\n3\n2ï¼Œå°†è¿™äº›æ‰€æœ‰åŠ èµ·æ¥ï¼Œå³ä¸ºå°å’Œã€‚è§£é¢˜æ€è·¯å¯ä»¥åˆ©ç”¨å½’å¹¶æ’åºï¼Œåœ¨åˆå¹¶è¿‡ç¨‹ä¸­æ±‚å°å’Œã€‚å½’å¹¶æ’åºä»£ç ï¼š\npublic static void mergeSort(int[] arr) {    if (arr == null || arr.length &lt; 2) {        return;    }    mergeSort(arr, 0, arr.length - 1);}public static void mergeSort(int[] arr, int left, int right) {    if (left &gt;= right) {        return;    }    // æ–°å»ºä¸´æ—¶æ•°ç»„    int[] t = new int[right - left + 1];    int mid = left + (right - left) / 2;    // å¯¹[left, mid]å’Œ[mid + 1, right]éƒ¨åˆ†æ’åº    mergeSort(arr, left, mid);    mergeSort(arr, mid + 1, right);    // å°†ä¸¤ä¸ªæ’åºå¥½çš„éƒ¨åˆ†åˆå¹¶æˆä¸€ä¸ªéƒ¨åˆ†    int i = left, j = mid + 1, k = 0;    while (i &lt;= mid &amp;&amp; j &lt;= right) {        if (arr[i] &lt;= arr[j]) {            t[k++] = arr[i++];        } else {            t[k++] = arr[j++];        }    }    // iå’Œjåªæœ‰ä¸€ä¸ªæ»¡è¶³    while (i &lt;= mid) {        t[k++] = arr[i++];    }    while (j &lt;= right) {        t[k++] = arr[j++];    }    // å°†æ’åºå¥½çš„éƒ¨åˆ†ä¿®æ”¹å›åŸå§‹æ•°ç»„    for (i = left, k = 0; i &lt;= right; i++, k++) {        arr[i] = t[k];    }}\nåŒæ—¶éœ€è¦è½¬å˜ä¸€ä¸‹æ€è·¯ï¼Œå¦‚æœè¿™ä¸ªæ•°çš„å³è¾¹æœ‰æ¯”å½“å‰æ•°å¤§çš„æ•°ï¼Œé‚£ä¹ˆå½“å‰æ•°å°±ä¼šè¢«åŠ èµ·æ¥ã€‚ä¾‹å¦‚left = [1, 2, 2, 4]å’Œright = [2, 3, 5]åˆå¹¶æ—¶ï¼Œleft[0] &lt; right[0]ï¼Œå¯ä»¥è‚¯å®šï¼Œrightæ•°ç»„ä¸­æ‰€æœ‰çš„æ•°éƒ½æ¯”left[0]å¤§ï¼Œé‚£ä¹ˆrightè¿™äº›æ•°è®¡ç®—æ—¶éƒ½ä¼šåŠ ä¸Šleft[0]ï¼Œå› æ­¤left[0]ä¼šè¢«è®¡ç®—right.length - 0æ¬¡ã€‚è€Œå½“åˆå¹¶åˆ°left[1] = right[0]æ—¶ï¼Œå’Œæ™®é€šå½’å¹¶æ’åºçš„åˆå¹¶è¿‡ç¨‹ç•¥æœ‰ä¸åŒï¼Œè¿™é‡Œéœ€è¦é¦–å…ˆåˆå¹¶rightæ•°ç»„ï¼Œå› ä¸ºå¦‚æœé¦–å…ˆåˆå¹¶leftæ•°ç»„ï¼Œæƒ³è¦æ‰¾åˆ°rightæ•°ç»„ä¸­æ¯”left[1]å¤§çš„æ•°ä¸å¤ªå®¹æ˜“äº†ï¼Œè€Œé¦–å…ˆåˆå¹¶rightæ•°ç»„çš„è¯ï¼Œå¯ä»¥è®©rightçš„ä¸‹æ ‡è·³å‡ºç›¸ç­‰çš„é™åˆ¶ï¼Œå½“rightçš„æ•°æ¯”left[1]å¤§ï¼Œå°±å¯ä»¥æ‰¾åˆ°æœ‰å¤šå°‘æ•°æ¯”left[1]å¤§ï¼Œå°±å¯ä»¥æ±‚å‡ºå°å’Œã€‚\npublic int smallSum(int[] arr) {    if (arr == null || arr.length &lt; 2) {        return -1;    }    return mergeSort(arr, 0, arr.length - 1);}private int mergeSort(int[] arr, int left, int right) {    if (left &gt;= right) {        return 0;    }    int mid = left + (right - left) / 2;    int ret = mergeSort(arr, left, mid) + mergeSort(arr, mid + 1, right);    int i = left, j = mid + 1;    int k = 0;    int[] t = new int[right - left + 1];    while (i &lt;= mid &amp;&amp; j &lt;= right) {        // è¿™é‡Œå’Œå½’å¹¶æ’åºè¿‡ç¨‹ä¸åŒ        if (arr[i] &lt; arr[j]) {            ret += arr[i] * (right - j + 1);            t[k++] = arr[i++];        } else {            t[k++] = arr[j++];        }    }    while (i &lt;= mid) {        t[k++] = arr[i++];    }    while (j &lt;= right) {        t[k++] = arr[j++];    }    for (i = left, k = 0; i &lt;= right; i++, k++) {        arr[i] = t[k];    }    return ret;}\nåŠ›æ‰£é€†åºå¯¹é—®é¢˜ã€‚åŒæ ·åˆ©ç”¨å½’å¹¶æ’åºçš„è¿‡ç¨‹ï¼Œåœ¨å½’å¹¶è¿‡ç¨‹ä¸­åˆ¤æ–­é€†åºå¯¹çš„æ•°é‡ã€‚\npublic static int reversePairs(int[] arr) {    if (arr == null || arr.length &lt; 2) {        return 0;    }    return reversePairs(arr, 0, arr.length - 1);}public static int reversePairs(int[] arr, int left, int right) {    if (left &gt;= right) {        return 0;    }    int mid = left + (right - left) / 2;    int ret = reversePairs(arr, left, mid) + reversePairs(arr, mid + 1, right);    int[] t = new int[right - left + 1];    int i = left, j = mid + 1, k = 0;    while (i &lt;= mid &amp;&amp; j &lt;= right) {        // å¦‚æœarr[i] &gt; arr[j]è¡¨æ˜ï¼Œiä½ç½®åˆ°midä½ç½®çš„æ•°éƒ½æ¯”jä½ç½®çš„æ•°å¤§ï¼Œå› ä¸ºä¸¤ä¸ªéƒ¨åˆ†éƒ½æ˜¯å‡åºæ’åºçš„ã€‚        if (arr[i] &lt;= arr[j]) {            t[k++] = arr[i++];        } else {            t[k++] = arr[j++];            ret += mid - i + 1;        }    }    while (i &lt;= mid) {        t[k++] = arr[i++];    }    while (j &lt;= right) {        t[k++] = arr[j++];    }    for (i = left, k = 0; i &lt;= right; i++, k++) {        arr[i] = t[k];    }    return ret;}\n1.6 å¿«é€Ÿæ’åº\nè¿™é‡Œé‡‡ç”¨ä¸‰è·¯æ’åºï¼Œé€‰å–ä¸€ä¸ªåˆ†ç•Œå€¼xï¼Œç„¶ååˆ’åˆ†å‡ºå°äºxçš„ï¼Œç­‰äºxçš„ï¼Œå¤§äºxçš„ã€‚ç„¶ååˆ†åˆ«å¯¹å°äºxçš„å’Œå¤§äºxçš„æ’åºã€‚\npublic static void quickSort(int[] arr, int left, int right) {    if (left &gt;= right) {        return;    }    // éšæœºé€‰å–ä¸€ä¸ªåˆ†ç•Œå€¼ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘æœ€å·®æƒ…å†µ    int x = arr[left + (int) (Math.random() * (right - left + 1))];    // å°äºxçš„åŒºé—´çš„æœ€å³ç«¯    int less = left - 1;    // less + 1åˆ°i - 1åŒºé—´ä¸ºç­‰äºxçš„åŒºé—´ï¼ŒåŒæ—¶iä¼šä¸€ç›´éå†å¾…å®šçš„æ•°æ®    int i = left;    // å¤§äºxçš„åŒºé—´çš„æœ€å·¦ç«¯    int more = right + 1;    while (i &lt; more) {        // å°äºxï¼Œå°†iä½ç½®çš„æ•°å’Œå°äºxçš„åŒºé—´çš„å³ç«¯çš„æ•°äº¤æ¢ï¼Œå¹¶è®©åŒºé—´å‘å³æ‰©ï¼ŒiåŠ ä¸€ï¼Œä¸€æ­¥å®Œæˆå°±æ˜¯å…ˆå³æ‰©å†äº¤æ¢ã€‚        if (arr[i] &lt; x) {            swap(arr, i++, ++less);        // å¤§äºxï¼Œå°†iä½ç½®å’Œå¤§äºxçš„åŒºé—´çš„å·¦ç«¯çš„æ•°äº¤æ¢ï¼Œç„¶åè®©åŒºé—´å·¦æ‰©ï¼Œä¸€æ­¥å®Œæˆå°±æ˜¯å…ˆå·¦æ‰©å†äº¤æ¢ã€‚è¿™é‡Œä¸è®©iåŠ ä¸€æ˜¯å› ä¸ºäº¤æ¢åï¼Œä¸çŸ¥é“äº¤æ¢è¿‡æ¥çš„æ•°æ˜¯å¤§äºxç­‰äºxè¿˜æ˜¯å°äºxï¼Œéœ€è¦åˆ¤æ–­ã€‚        } else if (arr[i] &gt; x) {            swap(arr, i, --more);        // ç­‰äºxçš„ï¼Œç›´æ¥iåŠ ä¸€ã€‚        } else {            i++;        }    }    // éå†ä¸€éåï¼ŒlessåŠå·¦è¾¹è¡¨ç¤ºå°äºxçš„ï¼ŒmoreåŠå³è¾¹è¡¨ç¤ºå¤§äºxçš„    quickSort(arr, left, less);    quickSort(arr, more, right);}private static void swap(int[] arr, int i, int j) {    int temp = arr[i];    arr[i] = arr[j];    arr[j] = temp;}\nclass Solution {public:    vector&lt;int&gt; sortArray(vector&lt;int&gt;&amp; nums) {        quick_sort(nums, 0, nums.size() - 1);        return nums;    }    // cpp 11éšæœºæ•°æ•°å¼•æ“ï¼Œéœ€è¦å¼•å…¥randomå¤´æ–‡ä»¶ã€‚    // éšæœºæ•°èŒƒå›´ï¼š0åˆ°intæœ€å¤§å€¼ï¼Œæ¯æ¬¡å¯åŠ¨ç¨‹åºè°ƒç”¨ç”Ÿæˆçš„éšæœºæ•°åºåˆ—ç›¸åŒï¼Œ    // å¦‚æœéœ€è¦æ¯æ¬¡å¯åŠ¨ç”Ÿæˆçš„ä¸åŒå¯ä»¥è®¾ç½®å½“å‰æ—¶é—´ä¸ºéšæœºç§å­    default_random_engine e;    void quick_sort(vector&lt;int&gt; &amp;arr, int left, int right) {        if (left &gt;= right) {            return;        }        int x = arr[e() % (right - left + 1) + left];        int less = left - 1, more = right + 1, i = left;        while (i &lt; more) {            if (arr[i] &lt; x) {                swap(arr[++less], arr[i++]);            } else if (arr[i] &gt; x) {                swap(arr[--more], arr[i]);            } else {                i++;            }        }        quick_sort(arr, left, less);        quick_sort(arr, more, right);    }};\n1.7 å †\nå¤§æ ¹å †ç¤ºä¾‹å¦‚ä¸‹ï¼š\næ¯ä¸ªæ ¹èŠ‚ç‚¹çš„å€¼éƒ½è¦æ¯”å­©å­èŠ‚ç‚¹çš„å€¼å¤§ï¼Œå¦‚æœå®è¡Œå°æ ¹å †ï¼Œåˆ™æ ¹èŠ‚ç‚¹çš„å€¼è¦å°äºå­©å­èŠ‚ç‚¹çš„å€¼ã€‚\nä»¥å¤§æ ¹å †ä¸ºä¾‹ï¼Œä¸»è¦å®ç°ä¸¤ç§æ“ä½œï¼š\n\næ’å…¥æ•°æ®ï¼Œåœ¨æœ€åæ’å…¥æ•°æ®ï¼Œç„¶åä¾æ¬¡å‘ä¸Šæ“ä½œï¼Œæ¯”è¾ƒå½“å‰æ•°å’Œçˆ¶èŠ‚ç‚¹çš„å¤§å°ï¼Œå¦‚æœå¤§äºçˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œäº¤æ¢ï¼Œç„¶åçˆ¶èŠ‚ç‚¹å†å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹æ¯”è¾ƒã€‚å¦‚ä¸‹å›¾ï¼Œæ’å…¥èŠ‚ç‚¹10ï¼Œè¯¥ç³»èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹5æ¯”è¾ƒï¼Œç„¶åäº¤æ¢ï¼Œæœ€åå’Œæ ¹èŠ‚ç‚¹9æ¯”è¾ƒï¼Œç„¶åäº¤æ¢ã€‚\n\n\n\n1\n\n\nåˆ é™¤æ•°æ®ï¼Œå¦‚åˆ é™¤æ ¹èŠ‚ç‚¹çš„æ•°æ®ï¼Œå¯ä»¥å°†æœ€åä¸€ä¸ªæ•°è¦†ç›–æ‰æ ¹èŠ‚ç‚¹çš„æ•°ï¼Œç„¶åå‘ä¸‹æ“ä½œã€‚æ‰¾åˆ°ä¸¤ä¸ªå­©å­ï¼ˆå¦‚æœæœ‰ï¼‰çš„æœ€å¤§å€¼ï¼Œå’Œçˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå¤§äºçˆ¶èŠ‚ç‚¹ï¼Œåˆ™äº¤æ¢ï¼Œç„¶åå†ä»è¿™ä¸ªèŠ‚ç‚¹å‘ä¸‹æ“ä½œã€‚åŸºäºä¸Šä¸€ä¸ªå›¾ï¼Œå°†æ ¹èŠ‚ç‚¹10åˆ é™¤åçš„çŠ¶æ€åº”è¯¥æ˜¯æœ€åä¸€ä¸ªå€¼5æ›¿æ¢æ ¹èŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªå€¼5ä¼šè¢«ä¸¢æ‰ï¼Œè¿™é‡Œç”¨æ¶‚é»‘è¡¨ç¤ºã€‚ç„¶åä»æ ¹èŠ‚ç‚¹ç´¢å¼•0å¼€å§‹å‘ä¸‹å †åŒ–æ“ä½œã€‚è¿™é‡Œé¦–å…ˆå’Œæœ€å¤§çš„å­©å­èŠ‚ç‚¹9æ¯”è¾ƒï¼Œç„¶åäº¤æ¢ã€‚\n\nä»£ç å®ç°ï¼š\n// å‘ä¸Šæ“ä½œï¼Œå †æ’å…¥ï¼Œå…¶ä¸­indexè¡¨ç¤ºæ’å…¥çš„å€¼çš„ç´¢å¼•ã€‚public static void heapInsert(int[] arr, int index) {    // å¦‚æœå½“å‰èŠ‚ç‚¹å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¿›è¡Œäº¤æ¢ï¼Œç„¶åå°†ç´¢å¼•æ›´æ–°ä¸ºçˆ¶èŠ‚ç‚¹ç´¢å¼•ã€‚    // å¦‚æœä¸€ç›´å‘ä¸Šæ›´æ–°åˆ°æ ¹èŠ‚ç‚¹ç´¢å¼•ä¸º0ï¼Œ0çš„çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•è®¡ç®—å®Œåè¿˜æ˜¯0ï¼Œå †æ’å…¥ç»ˆæ­¢    while (arr[index] &gt; arr[(index - 1) / 2]) {        swap(arr, index, (index - 1) / 2);        index = (index - 1) / 2;    }}// å‘ä¸‹æ“ä½œï¼Œå †åŒ–ï¼Œå…¶ä¸­indexè¡¨ç¤ºéœ€è¦æ“ä½œçš„ç´¢å¼•ï¼ŒheapSizeè¡¨ç¤ºå½“å‰å †çš„å¤§å°ã€‚public static void heapify(int[] arr, int index, int heapSize) {    // é¦–å…ˆè·å–å·¦å­©å­çš„ç´¢å¼•    int left = 2 * index + 1;    // å¦‚æœæœ‰å·¦å­©å­ï¼Œè¿™ä¹Ÿè¡¨ç¤ºæœ‰å­©å­ã€‚    while (left &lt; heapSize) {        // left + 1è¡¨ç¤ºå³å­©å­ï¼Œå¦‚æœå³å­©å­å­˜åœ¨ï¼Œå¹¶ä¸”å€¼å¤§äºå·¦å­©å­ï¼Œä¸¤ä¸ªå­©å­æœ€å¤§å€¼çš„ç´¢å¼•å°±æ˜¯å³å­©å­ã€‚        // å¦‚æœå³å­©å­ä¸å­˜åœ¨ï¼Œæˆ–è€…å³å­©å­å€¼å°äºå·¦å­©å­ï¼Œé‚£ä¹ˆæœ€å¤§å€¼ç´¢å¼•å°±æ˜¯å·¦å­©å­ã€‚        int largest = left + 1 &lt; heapSize &amp;&amp; arr[left + 1] &gt; arr[left] ? left + 1 : left;        // æ¯”è¾ƒå­©å­ä¸­çš„æœ€å¤§å€¼å’Œçˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœå­©å­å€¼å¤§äºçˆ¶èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™èµ‹å€¼ã€‚        largest = arr[largest] &gt; arr[index] ? largest : index;        // å¦‚æœæœ€å¤§å€¼å°±æ˜¯çˆ¶èŠ‚ç‚¹è‡ªå·±æœ¬èº«ï¼Œåˆ™è¯´æ˜æ»¡è¶³å¤§æ ¹å †ï¼Œä¸æ“ä½œã€‚        if (index == largest) {            break;        }        swap(arr, index, largest);        // ç»§ç»­å‘ä¸‹æ“ä½œã€‚        index = largest;        left = 2 * index + 1;    }}public static void heapify(int[] arr, int index, int heapSize) {    int t = index, left = 2 * index + 1, right = 2 * index + 2;    if (left &lt; heapSize &amp;&amp; arr[left] &gt; arr[t]) {        t = left;    }    if (right &lt; heapSize &amp;&amp; arr[right] &gt; arr[t]) {        t = right;    }    if (t != index) {        swap(arr, index, t);        heapify(arr, t, heapSize);    } }\nå¦‚æœè¦åˆ é™¤å †ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨heapifyæ–¹æ³•ï¼Œindexè®¾ä¸º0å³å¯ï¼Œä½†è¿™ä¸ªæ–¹æ³•ä¹Ÿæ”¯æŒä»å…¶ä»–ä½ç½®å‘ä¸‹å †åŒ–æ“ä½œã€‚å¦‚æœæƒ³è¦åˆ é™¤ä»»æ„ä½ç½®çš„å…ƒç´ ï¼š\n\nå°†æœ«å°¾çš„å€¼è¦†ç›–æ‰è¦åˆ é™¤çš„å…ƒç´ çš„å€¼ã€‚\nåŸºäºå½“å‰ä½ç½®è¿›è¡Œå‘ä¸Šæˆ–å‘ä¸‹æ“ä½œã€‚\n\nå¦‚æœè¦†ç›–çš„å€¼æ¯”åŸå€¼å¤§ï¼Œåˆ™å‘ä¸Šæ“ä½œã€‚\nå¦åˆ™å‘ä¸‹æ“ä½œã€‚\n\n\nä½†æ˜¯å¯ä»¥ä¸å¿…è¿›è¡Œåˆ¤æ–­æ“ä½œï¼Œå› ä¸ºåœ¨å‘ä¸Šå‘ä¸‹æ“ä½œæ—¶ï¼Œä¼šé¦–å…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ‰§è¡Œä¸€æ¬¡å‘ä¸Šå’Œå‘ä¸‹æ“ä½œå³å¯ã€‚\nå †çš„åº”ç”¨\n1.8 å †æ’åºæ‰©å±•é¢˜\né¦–å…ˆç»™å‰k+1ä¸ªæ•°æ”¾å…¥å°æ ¹å †ä¸­ï¼Œé‚£ä¹ˆå°æ ¹å †çš„å †é¡¶å¿…ç„¶æ˜¯æ‰€æœ‰çš„æœ€å°å€¼ã€‚å› ä¸ºé¢˜ç›®ä¸­è¯´ç§»åŠ¨è·ç¦»ä¸è¶…è¿‡kï¼Œé‚£ä¹ˆæœ€å°å€¼æ‰€åœ¨çš„ä½ç½®æœ€è¿œæ˜¯åœ¨ç´¢å¼•kçš„ä½ç½®ã€‚å–å‡ºæœ€å°å€¼æ”¾å…¥æ•°ç»„ï¼Œç„¶åå¾€ååŠ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé€‰å‡ºç¬¬äºŒä¸ªå°çš„å…ƒç´ ï¼Œä¾æ­¤ç±»æ¨ã€‚å…·ä½“å®ç°ä¸­å¯ä»¥æ‰‹å†™å †ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ã€‚\npublic static void sortedLessK(int[] arr, int k) {    PriorityQueue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;();    int index = 0;    for (; index &lt;= Math.min(arr.length, k); index++) {        heap.add(arr[index]);    }    int i = 0;    for (; index &lt; arr.length; index++, i++) {        arr[i] = heap.poll();        heap.add(arr[index]);    }    while (!heap.isEmpty()) {        arr[i++] = heap.poll();    }}\n1.9 åŸºæ•°æ’åº\nå¾…æ›´æ–°...\n2 é“¾è¡¨\n2.1 å›æ–‡é“¾è¡¨çš„åˆ¤æ–­\nå›æ–‡é“¾è¡¨\næ–¹æ³•ä¸€\nä½¿ç”¨æ ˆæ•°æ®ç»“æ„ï¼Œéå†é“¾è¡¨å‹æ ˆï¼Œå†ä¾æ¬¡å‡ºæ ˆå’ŒåŸé“¾è¡¨å¯¹æ¯”ã€‚ç©ºé—´å¤æ‚åº¦è¾ƒé«˜O(N)\næ–¹æ³•äºŒ\nå¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆèµ°åˆ°ç»“å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°åˆ°ä¸­é—´ï¼Œæ…¢æŒ‡é’ˆç»§ç»­å‘ä¸‹éå†ï¼Œéå†è¿‡ç¨‹åè½¬åè¾¹çš„é“¾è¡¨ï¼Œæœ€åä»å¼€å§‹å’Œç»“å°¾ä¾æ¬¡å‘ä¸­é—´éå†ï¼Œæ¯”å¯¹ã€‚ç©ºé—´å¤æ‚åº¦O(1)\n/** * Definition for singly-linked list. * public class ListNode { *     int val; *     ListNode next; *     ListNode() {} *     ListNode(int val) { this.val = val; } *     ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */class Solution {    public boolean isPalindrome(ListNode head) {        if (head == null) {            return true;        }        ListNode fast = head, slow = head;        while (fast.next != null &amp;&amp; fast.next.next != null) {            fast = fast.next.next;            slow = slow.next;        }        // å¦‚æœæ˜¯å¥‡æ•°ï¼Œå¿«æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹        // å¦‚æœæ˜¯å¶æ•°ï¼Œå¿«æŒ‡é’ˆæŒ‡å‘å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹                // slowå†å¾€ä¸‹ç§»åŠ¨åˆ°å³åŠéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚        // å¦‚æœé“¾è¡¨é•¿åº¦ä¸ºå¶æ•°ï¼Œç§»åŠ¨ååˆ™æ­£å¥½åœ¨å³åŠéƒ¨åˆ†ç¬¬ä¸€ä¸ªï¼›        // å¦‚æœä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºä¸­é—´çš„æ•°ä¸å±äºä»»ä½•éƒ¨åˆ†ï¼Œä»–å¯¹æ•´ä½“çš„å›æ–‡æ€§æ²¡æœ‰å½±å“ï¼Œ        // ä¾‹å¦‚1 2 3 2 1ï¼Œå¯ä»¥è®¤ä¸º1 2 ä¸ºå·¦éƒ¨åˆ†ï¼Œ2 1 ä¸ºå³éƒ¨åˆ†ï¼Œslowåœ¨å³éƒ¨åˆ†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹2ä¸Š        slow = slow.next;        // ä¿å­˜åè½¬åçš„é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œä¸ºåç»­æ¢å¤é“¾è¡¨åšå‡†å¤‡        ListNode tempSlow = reverse(slow);        fast = tempSlow;        slow = head;        while (fast != null) {            if (slow.val != fast.val) {                return false;            }            fast = fast.next;            slow = slow.next;        }        // æ¢å¤è¢«åè½¬çš„é“¾è¡¨        reverse(tempSlow);        return true;    }    public ListNode reverse(ListNode head) {        ListNode pre = null, cur = head;        while (cur != null) {            ListNode next = cur.next;            cur.next = pre;            pre = cur;            cur = next;        }        return pre;    }}\n2.2 éšæœºé“¾è¡¨çš„å¤åˆ¶\nLCR\n154. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\næ–¹æ³•ä¸€\nä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œä¿å­˜æ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹çš„é”®å€¼å¯¹ï¼Œç„¶åéå†é“¾è¡¨ï¼Œå°†èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å’ŒéšæœºèŠ‚ç‚¹å¤åˆ¶ã€‚ç©ºé—´å¤æ‚åº¦O(N)\npublic Node copyRandomList(Node head) {    if (head == null) {        return null;    }    Map&lt;Node, Node&gt; hash = new HashMap&lt;&gt;();    Node temp = head;    while (temp != null) {        Node copy = new Node(temp.val);        hash.put(temp, copy);        temp = temp.next;    }    temp = head;    while (temp != null) {        hash.get(temp).next = hash.get(temp.next);        hash.get(temp).random = hash.get(temp.random);        temp = temp.next;    }    return hash.get(head);}\næ–¹æ³•äºŒ\né¦–å…ˆéå†é“¾è¡¨ï¼Œéå†è¿‡ç¨‹ä¸­å¤åˆ¶å½“å‰èŠ‚ç‚¹ï¼Œç„¶åå°†å¤åˆ¶çš„èŠ‚ç‚¹åŠ å…¥åˆ°é“¾è¡¨ä¸­çš„å½“å‰èŠ‚ç‚¹åï¼Œç›´åˆ°å¤åˆ¶å®Œæ‰€æœ‰èŠ‚ç‚¹ã€‚å¤åˆ¶å®Œåï¼Œæ–°å¤åˆ¶çš„èŠ‚ç‚¹åªæœ‰nextæŒ‡é’ˆæœ‰å€¼ï¼Œè€ŒrandomæŒ‡é’ˆæ²¡æœ‰å€¼ï¼Œä¸‹ä¸€æ­¥åœ¨è¿™ä¸ªæ–°é“¾è¡¨ä¸Šæ“ä½œï¼Œå°†å¤åˆ¶çš„èŠ‚ç‚¹çš„randomè¿æ¥åˆ°æ­£ç¡®çš„èŠ‚ç‚¹ä¸Šã€‚å› ä¸ºæ¯ä¸€ä¸ªæ—§èŠ‚ç‚¹açš„ä¸‹ä¸€ä¸ªä¸€å®šæ˜¯å¤åˆ¶çš„èŠ‚ç‚¹a_copyï¼Œæ‰€ä»¥æ—§èŠ‚ç‚¹açš„randomæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹a_randomçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹a_random_copyï¼ˆå³å¤åˆ¶çš„èŠ‚ç‚¹ï¼‰å°±æ˜¯a_copyçš„randomæŒ‡é’ˆåº”è¯¥æŒ‡å‘çš„èŠ‚ç‚¹ã€‚å¦‚å›¾è“è‰²çš„ç®­å¤´å³ä¸ºå¤åˆ¶çš„èŠ‚ç‚¹çš„randomæŒ‡é’ˆçš„æ­£ç¡®æŒ‡å‘ã€‚å®é™…ä¸­éœ€è¦æ³¨æ„ï¼šrandomæŒ‡é’ˆå¯èƒ½æŒ‡å‘nullï¼Œæ­¤æ—¶éœ€è¦è¿›è¡Œåˆ¤ç©ºæ“ä½œã€‚æœ€åéå†é“¾è¡¨ï¼Œå°†æ–°å¤åˆ¶çš„é“¾è¡¨æ‹†åˆ†å‡ºæ¥ï¼Œç„¶åç»„æˆæ–°çš„é“¾è¡¨å³å¯ï¼ŒåŒæ—¶åŸé“¾è¡¨ä¹Ÿè¦æ¢å¤åŸçŠ¶ã€‚\n/*// Definition for a Node.class Node {    int val;    Node next;    Node random;    public Node(int val) {        this.val = val;        this.next = null;        this.random = null;    }}*/class Solution {    public Node copyRandomList(Node head) {        if (head == null) {            return null;        }        Node temp = head;        while (temp != null) {            Node copy = new Node(temp.val);            copy.next = temp.next;            temp.next = copy;            temp = temp.next.next;        }        temp = head;        while (temp != null) {            Node copy = temp.next;            copy.random = temp.random == null ? null : temp.random.next;            temp = temp.next.next;        }        temp = head;        Node headcopy = head.next;        while (temp != null) {            Node copy = temp.next;            temp.next = copy.next;            temp = temp.next;            copy.next = temp == null ? null : temp.next;        }        return headcopy;    }}\n2.3\nåˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œä»¥åŠè¿”å›å…¥ç¯èŠ‚ç‚¹\nç¯å½¢é“¾è¡¨Iç¯å½¢é“¾è¡¨II\næ–¹æ³•ä¸€\nä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œéå†æ•´ä¸ªé“¾è¡¨ï¼Œä¾æ¬¡å­˜å…¥é“¾è¡¨ï¼Œå­˜å…¥ä¹‹å‰åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™å½“å‰é“¾è¡¨ä¸ºå…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚\npublic ListNode detectCycle(ListNode head) {    if (head == null) {        return null;    }    Set&lt;ListNode&gt; set = new HashSet&lt;&gt;();    ListNode temp = head;    while (temp != null &amp;&amp; !set.contains(temp)) {        set.add(temp);        temp = temp.next;    }    return temp;}\næ–¹æ³•äºŒ\nå¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼Œå¦‚æœå¿«æŒ‡é’ˆé‡åˆ°nullåˆ™æ— ç¯ï¼Œå¦åˆ™å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶æœ‰ç¯ï¼Œæ­¤æ—¶è®©å¿«æŒ‡é’ˆä»å¤´èŠ‚ç‚¹å¼€å§‹ä¸€æ¬¡ä¸€æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡ä¸€æ­¥ï¼Œå½“å¿«æ…¢æŒ‡é’ˆå†æ¬¡ç›¸é‡æ—¶ï¼Œè¯¥èŠ‚ç‚¹ä¸ºå…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚\n/** * Definition for singly-linked list. * class ListNode { *     int val; *     ListNode next; *     ListNode(int x) { *         val = x; *         next = null; *     } * } */public class Solution {    public boolean hasCycle(ListNode head) {        if (head == null) {            return false;        }        ListNode fast = head, slow = head;        while (fast != null &amp;&amp; fast.next != null) {            slow = slow.next;            fast = fast.next.next;            if (fast == slow) {                return true;            }        }        return false;    }    // posè¡¨ç¤ºfastå’Œslowç›¸é‡çš„ä½ç½®    public ListNode first(ListNode head, ListNode pos) {        while (head != pos) {            head = head.next;            pos = pos.next;        }        return head;    }}\nif (head == null) {    return null;}ListNode fast = head, slow = head;while (fast.next != null &amp;&amp; fast.next.next != null) {    slow = slow.next;    fast = fast.next.next;    // å½“å¿«æ…¢æŒ‡é’ˆç›¸åŒæ—¶ï¼Œå¿…ç„¶æœ‰ç¯ï¼Œå› æ­¤ä½¿fastæŒ‡é’ˆä¸ºå¤´æŒ‡é’ˆï¼Œå¿«æ…¢æŒ‡é’ˆåŒæ—¶ç§»åŠ¨ï¼Œå³å¯æ‰¾åˆ°å…¥ç¯èŠ‚ç‚¹    if (fast == slow) {        fast = head;        while (fast != slow) {            slow = slow.next;            fast = fast.next;        }        return slow;    }}// èµ°åˆ°è¿™ä¸€æ­¥è¯´æ˜å¿«æ…¢æŒ‡é’ˆä¸ç›¸ç­‰ï¼Œå¹¶ä¸”å¿«æŒ‡é’ˆå¯ä»¥èµ°åˆ°å¤´ï¼Œé‚£è¯´æ˜æ²¡ç¯return null;\n2.4 åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤\nè¿™é‡Œè®¤ä¸ºé“¾è¡¨éƒ½æ˜¯å•é“¾è¡¨\n\næƒ…å†µ1ï¼šä¸¤ä¸ªé“¾è¡¨éƒ½æ— ç¯åŒæŒ‡é’ˆï¼Œéå†é“¾è¡¨Aå’ŒBï¼Œå½“æŒ‡é’ˆä¸ºnullæ—¶ä»å¦ä¸€ä¸ªèŠ‚ç‚¹çš„å¤´èŠ‚ç‚¹å¼€å§‹éå†ã€‚ç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰ï¼ˆä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰æ—¶ï¼Œå¦‚æœä¸ºnullåˆ™è¡¨ç¤ºæ²¡æœ‰ç›¸äº¤èŠ‚ç‚¹ï¼Œå¦åˆ™æœ‰ç›¸äº¤èŠ‚ç‚¹ï¼‰é¢è¯•é¢˜\n02.07. é“¾è¡¨ç›¸äº¤ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n\npublic class Solution {    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {        if (headA == null || headB == null) {            return null;        }        ListNode pA = headA, pB = headB;        while (pA != pB) {            pA = pA == null ? headB : pA.next;            pB = pB == null ? headA : pB.next;        }        return pA;    }}\nâ—æ³¨æ„ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºnullæ—¶ï¼Œä½¿ç”¨çš„æ˜¯pAå½“å‰æŒ‡é’ˆï¼Œè€Œä¸æ˜¯pA.nextï¼Œå¦‚æœä½¿ç”¨pA.nextæ¥åˆ¤æ–­ï¼Œå½“ä¸ç›¸äº¤æ—¶ï¼Œä¼šå‘ç”Ÿæ— é™å¾ªç¯çš„æƒ…å†µï¼ŒpAå’ŒpBä¼šä¸€ç›´ä¸ç›¸ç­‰ï¼ˆä¹Ÿä¸ä¸ºnull)ã€‚æ‰€ä»¥ä½¿ç”¨pAå½“å‰æŒ‡é’ˆã€‚å¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠæœ€åé“¾è¡¨ç»“æŸæ—¶æŒ‡å‘çš„nullæŒ‡é’ˆä¹Ÿç®—ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤æ—¶ï¼Œæœ€åéƒ½ä¼šæŒ‡å‘nullèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸¤ä¸ªé“¾è¡¨å°±åœ¨nullèŠ‚ç‚¹â€œç›¸äº¤â€äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\n\næƒ…å†µ2ï¼šä¸€ä¸ªæœ‰ç¯ä¸€ä¸ªæ— ç¯ï¼ˆä¸€å®šä¸ç›¸äº¤ï¼‰å¦‚æœç›¸äº¤ï¼Œåˆ™è‚¯å®šæœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªnextæŒ‡é’ˆï¼Œè¿™ä¸æ»¡è¶³å•é“¾è¡¨ã€‚æ‰€ä»¥ä¸€å®šä¸ç›¸äº¤ã€‚\næƒ…å†µ3ï¼šä¸¤ä¸ªéƒ½æœ‰ç¯\nä¸ç›¸äº¤\nåœ¨éç¯å¤„ç›¸äº¤\nåœ¨ç¯å¤„ç›¸äº¤\n\nç›¸äº¤åªæœ‰ä¸¤ç§æƒ…å†µæ‰¾åˆ°ä¸¤ä¸ªå¸¦ç¯é“¾è¡¨çš„å…¥ç¯èŠ‚ç‚¹ï¼Œç„¶åå›ºå®šä¸€ä¸ªï¼Œéå†å¦ä¸€ä¸ªï¼Œç›´åˆ°èƒ½æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹å’Œå›ºå®šèŠ‚ç‚¹ç›¸ç­‰ï¼Œåˆ™è¯æ˜ç›¸äº¤ï¼Œå¦åˆ™ä¸ç›¸äº¤ã€‚\n// circleNode1 circleNode2æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹çš„å…¥ç¯èŠ‚ç‚¹// å¦‚æœå…¥ç¯èŠ‚ç‚¹ç›¸åŒï¼Œè¯´æ˜å¿…ç„¶æ˜¯æƒ…å†µ1ã€‚å¦åˆ™æ˜¯æƒ…å†µ2æˆ–è€…ä¸ç›¸äº¤if (circleNode1 == circleNode2) {    // åˆ©ç”¨circleNode1æˆ–è€…2ä¸ºæœ«å°¾èŠ‚ç‚¹ï¼Œåˆ©ç”¨æ— ç¯é“¾è¡¨æ±‚ç›¸äº¤èŠ‚ç‚¹æ–¹å¼æ±‚ç›¸äº¤çš„èŠ‚ç‚¹ã€‚    return true;}Node temp = circleNode2.next;while(temp != circleNode2) {    if(temp == circleNode1)        // circleNode1 æˆ–è€…  circleNode2ä¸ºç›¸äº¤èŠ‚ç‚¹éƒ½å¯ä»¥        return true;    temp = temp.next;}// ä¸ç›¸äº¤return false;\næ‰€ä»¥æ‰€æœ‰æƒ…å†µå¦‚ä¸‹ï¼š\npublic static ListNode getIntersectionNode(ListNode headA, ListNode headB) {    ListNode cycleNodeA = hasCycle(headA);    ListNode cycleNodeB = hasCycle(headB);    if (cycleNodeA == cycleNodeB) {        // è¯´æ˜ä¸¤ä¸ªéƒ½æ˜¯æ— ç¯çš„ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦ç›¸äº¤        // if (cycleNodeA == null) {        //     return getIntersectionNodeNoLoop(headA, headB, null);        // }        // å¦åˆ™æ˜¯éƒ½æœ‰ç¯ï¼Œå…¥ç¯èŠ‚ç‚¹ç›¸åŒï¼Œå¿…ç„¶ç›¸äº¤ï¼Œä»¥å…¥ç¯èŠ‚ç‚¹ä¸ºç»ˆæ­¢èŠ‚ç‚¹æ±‚ç›¸äº¤èŠ‚ç‚¹        // return getIntersectionNodeNoLoop(headA, headB, cycleNodeA);        // ä»¥ä¸Šä»£ç å¯ä»¥ç›´æ¥åˆå¹¶ä¸ºä¸‹é¢ä¸€è¡Œ        return getIntersectionNodeNoLoop(headA, headB, cycleNodeA);    }    // è¯´æ˜ä¸¤ä¸ªå…¥ç¯èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè¦ä¹ˆéƒ½ä¸ä¸ºç©ºï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºè‚¯å®šä¸ç›¸äº¤    if (cycleNodeA == null || cycleNodeB == null) {        return null;    }    // å¦‚æœç¯ä¸Šç›¸äº¤ï¼Œè¯´æ˜ä»ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä¸€å®šèƒ½åˆ°è¾¾å¦ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹    ListNode temp = cycleNodeA;    while (temp != cycleNodeB) {        temp = temp.next;        // è½¬äº†ä¸€åœˆå‘ç°å›åˆ°åŸä½ç½®äº†ï¼Œè¯´æ˜æ²¡æœ‰ç›¸äº¤        if (temp == cycleNodeA) {            return null;        }    }    // ç›¸äº¤ï¼Œä»»æ„ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹éƒ½å¯ä»¥æ˜¯ç›¸äº¤èŠ‚ç‚¹ã€‚    return cycleNodeA;    // å¦‚æœå…¥ç¯èŠ‚ç‚¹ä¸åŒï¼Œå¹¶ä¸”ç›¸äº¤ï¼Œé‚£ä¹ˆè‚¯å®šæœ‰ä¸¤ä¸ªç›¸äº¤èŠ‚ç‚¹    // return cycleNodeB;}// åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯public static ListNode hasCycle(ListNode head) {    if (head == null) {        return null;    }    ListNode slow = head, fast = head;    while (fast.next != null &amp;&amp; fast.next.next != null) {        slow = slow.next;        fast = fast.next.next;        if (fast == slow) {            fast = head;            while (fast != slow) {                fast = fast.next;                slow = slow.next;            }            return fast;        }    }    return null;}// åˆ¤æ–­ä¸¤ä¸ªæ— ç¯é“¾è¡¨æ˜¯å¦ç›¸äº¤ï¼Œæ‰‹åŠ¨è®¾å®šç»ˆæ­¢èŠ‚ç‚¹endNodepublic static ListNode getIntersectionNodeNoLoop(ListNode headA, ListNode headB, ListNode endNode) {    ListNode pA = headA, pB = headB;    while (pA != pB) {        pA = pA == endNode ? headB : pA.next;        pB = pB == endNode ? headA : pB.next;    }    return pA;}\n2.5 æ‰¾åˆ°ä¸¤ä¸ªæœ‰åºé“¾è¡¨ç›¸åŒçš„èŠ‚ç‚¹\nè§£é¢˜æ€è·¯ï¼šå› ä¸ºä¸¤ä¸ªé“¾è¡¨éƒ½æ˜¯æœ‰åºçš„ï¼Œé‡‡ç”¨åŒæŒ‡é’ˆã€‚æ¯”è¾ƒå½“å‰å€¼ï¼Œè¾ƒå°çš„æŒ‡é’ˆå‘åç§»åŠ¨ï¼Œå¦‚æœç›¸ç­‰äº†ï¼ŒåŠ å…¥ç»“æœé›†ï¼ŒåŒæ—¶å‘åç§»åŠ¨ï¼Œç„¶åç»§ç»­æ¯”è¾ƒï¼Œç›´åˆ°ä¸€ä¸ªè¶Šç•Œã€‚\n2.6\næŠŠé“¾è¡¨æŒ‰æŸä¸ªå€¼åˆ†ä¸ºå°äº ç­‰äº å¤§äºçš„éƒ¨åˆ†\næ’åºé“¾è¡¨\nå…¥é—¨åšæ³•\næŠŠé“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹(ä¸æ˜¯å€¼ï¼Œæ˜¯èŠ‚ç‚¹Node)æ”¾åœ¨æ•°ç»„é‡Œï¼Œç„¶åä½¿ç”¨å¿«æ’ä¸­çš„partitionã€‚\né«˜çº§åšæ³•\né¦–å…ˆå‡†å¤‡6ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«è¡¨ç¤ºï¼š\n\n\n\nsmallHead\nå°äºéƒ¨åˆ†çš„å¤´æŒ‡é’ˆ\n\n\n\n\nsmallTail\nå°äºéƒ¨åˆ†çš„å°¾æŒ‡é’ˆ\n\n\nequalHead\nç­‰äºéƒ¨åˆ†çš„å¤´æŒ‡é’ˆ\n\n\nequalTail\nç­‰äºéƒ¨åˆ†çš„å°¾æŒ‡é’ˆ\n\n\nbigHead\nå¤§äºéƒ¨åˆ†çš„å¤´æŒ‡é’ˆ\n\n\nbigTail\nå¤§äºéƒ¨åˆ†çš„å°¾æŒ‡é’ˆ\n\n\n\nä½¿ç”¨è¿™å…­ä¸ªæŒ‡é’ˆåˆ†åˆ«ä¸²è”å‡ºå°äºéƒ¨åˆ†ã€ç­‰äºéƒ¨åˆ†ã€å¤§äºéƒ¨åˆ†çš„é“¾è¡¨ã€‚éå†æ•´ä¸ªé“¾è¡¨ï¼Œå¦‚æœé‡åˆ°å°äºçš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ°å°äºéƒ¨åˆ†çš„é“¾è¡¨ä¸­ï¼Œä¹Ÿå°±æ˜¯åˆ©ç”¨å°¾æ’æ³•æ’å…¥åˆ°ä»¥smallHeadä¸ºå¤´ç»“ç‚¹çš„é“¾è¡¨çš„æœ«å°¾ï¼Œç­‰äºã€å¤§äºçš„èŠ‚ç‚¹åŒç†ã€‚æœ€åå°†å°äºéƒ¨åˆ†çš„å°¾è¿æ¥åˆ°ç­‰äºéƒ¨åˆ†çš„å¤´ï¼Œç­‰äºéƒ¨åˆ†çš„å°¾è¿æ¥åˆ°å¤§äºéƒ¨åˆ†çš„å¤´ã€‚ä½†æ˜¯åœ¨å®ç°æ—¶è¦æ³¨æ„ï¼šå¯èƒ½ä¸å­˜åœ¨å°äºéƒ¨åˆ†æˆ–è€…ç­‰äºéƒ¨åˆ†ç­‰ç­‰ï¼Œè¦å¯¹æ¯ä¸ªè¿›è¡Œåˆ¤ç©ºå¤„ç†ï¼Œé˜²æ­¢å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚\npublic static ListNode listPartition(ListNode head, int pivot) {    // æ„é€ ä¸‰ä¸ªç±»åˆ†åˆ«è¡¨ç¤ºå°äºéƒ¨åˆ†çš„é“¾è¡¨ï¼Œç­‰äºéƒ¨åˆ†ã€å¤§äºéƒ¨åˆ†çš„é“¾è¡¨    PartitionNode small = new PartitionNode();    PartitionNode equal = new PartitionNode();    PartitionNode big = new PartitionNode();    ListNode temp = head;    while (temp != null) {        // éœ€è¦é¢‘ç¹æ’å…¥èŠ‚ç‚¹åˆ°å°¾èŠ‚ç‚¹ï¼Œå› æ­¤ç”¨ä¸€ä¸ªæ–¹æ³•åŒ…è£…ï¼Œå‡å°‘ä»£ç é‡ã€‚        if (temp.val &lt; pivot) {            small.insertTail(temp);        } else if (temp.val &gt; pivot) {            big.insertTail(temp);        } else {            equal.insertTail(temp);        }        temp = temp.next;    }    // æœ€ç»ˆéœ€è¦åˆ¤æ–­å°äºéƒ¨åˆ†å’Œç­‰äºéƒ¨åˆ†çš„ç©ºå€¼æƒ…å†µã€‚    // å¦‚æœå°äºéƒ¨åˆ†ä¸ä¸ºç©ºï¼Œç„¶åç­‰äºéƒ¨åˆ†ä¸ä¸ºç©ºï¼Œåˆ™è¿æ¥åˆ°ç­‰äºéƒ¨åˆ†ï¼Œå†è¿æ¥åˆ°å¤§äºéƒ¨åˆ†ï¼Œå¦‚æœç­‰äºéƒ¨åˆ†ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿æ¥åˆ°å¤§äºéƒ¨åˆ†    // å¦‚æœå°äºéƒ¨åˆ†ä¸ºç©ºï¼Œç­‰äºéƒ¨åˆ†ä¸ä¸ºç©ºï¼Œåˆ™è¿æ¥åˆ°å¤§äºéƒ¨åˆ†ï¼Œå¦‚æœç­‰äºéƒ¨åˆ†ä¸ºç©ºï¼Œåˆ™è¯´æ˜åªæœ‰å¤§äºéƒ¨åˆ†ï¼Œç›´æ¥è¿”å›å¤§äºéƒ¨åˆ†    if (small.head != null) {        if (equal.head != null) {            small.tail.next = equal.head;            equal.tail.next = big.head;        } else {            small.tail.next = big.head;        }        return small.head;    } else if (equal.head != null) {        equal.tail.next = big.head;        return equal.head;    }    return big.head;}// å®šä¹‰ä¸€ä¸ªç±»åŒ…å«å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ã€‚// ç®—æ³•å®ç°æ—¶ä¼šé¢‘ç¹åœ¨å°¾éƒ¨æ’å…¥èŠ‚ç‚¹ï¼Œä¼šæ”¹å˜å¤´å°¾æŒ‡é’ˆçš„å€¼ï¼Œå› æ­¤åœ¨ç±»ä¸­å®šä¹‰å¤´å°¾æŒ‡é’ˆã€‚static class PartitionNode {    ListNode head, tail;    void insertTail(ListNode node) {        if (head == null) {            head = tail = node;        } else {            tail.next = node;            tail = node;        }    }}// å®šä¹‰èŠ‚ç‚¹ç±»static class ListNode {    int val;    ListNode next;    public ListNode(int val) {        this.val = val;        this.next = null;    }}\né“¾è¡¨å¿«é€Ÿæ’åº\nç”±æ­¤å¼•å‡ºå¯¹é“¾è¡¨çš„å¿«é€Ÿæ’åºã€‚\npublic static PartitionNode quickSortList(ListNode head) {    if (head == null || head.next == null) {        return new PartitionNode(head, head);    }    // é€šè¿‡å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­é—´ä½ç½®çš„èŠ‚ç‚¹ä½œä¸ºä¸­é—´å€¼ï¼Œé˜²æ­¢è¾¹ç¼˜ç‰¹æ®Šæƒ…å†µä½¿ç®—æ³•é€€åŒ–    ListNode pivotNode;    ListNode slow = head, fast = head;    while (fast.next != null &amp;&amp; fast.next.next != null) {        slow = slow.next;        fast = fast.next.next;    }    pivotNode = slow;    // åˆ’åˆ†æˆä¸‰éƒ¨åˆ†ã€‚    PartitionNode small = new PartitionNode();    PartitionNode equal = new PartitionNode();    PartitionNode big = new PartitionNode();    ListNode temp = head;    while (temp != null) {        if (temp.val &lt; pivotNode.val) {            small.insertTail(temp);        } else if (temp.val &gt; pivotNode.val) {            big.insertTail(temp);        } else {            equal.insertTail(temp);        }        temp = temp.next;    }    // åˆ’åˆ†åå¯¹æ¯éƒ¨åˆ†çš„é“¾è¡¨å°¾èŠ‚ç‚¹æ·»åŠ nullå€¼ï¼Œä½¿è¿™ä¸‰éƒ¨åˆ†é“¾è¡¨ç‹¬ç«‹ã€‚    if (small.head != null) {        small.tail.next = null;    }    if (equal.head != null) {        equal.tail.next = null;    }    if (big.head != null) {        big.tail.next = null;    }    // é€’å½’æ’åºæ¯éƒ¨åˆ†é“¾è¡¨    small = quickSortList(small.head);    big = quickSortList(big.head);    // è¿æ¥ä¸‰éƒ¨åˆ†é“¾è¡¨ã€‚    if (small.head != null) {        if (equal.head != null) {            small.tail.next = equal.head;            // è¯¥ç®—æ³•ä¸­è¿”å›çš„æ˜¯å®Œæ•´çš„é“¾è¡¨å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦ç¡®ä¿è¿”å›çš„smallçš„tailå¯¹è±¡ä¸ºæ•´ä¸ªé“¾è¡¨çš„å°¾èŠ‚ç‚¹            // åç»­è¯¥æ“ä½œåŒç†ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚            small.tail = equal.tail;            equal.tail.next = big.head;        } else {            small.tail.next = big.head;        }        small.tail = big.tail == null ? small.tail : big.tail;        return small;    } else if (equal.head != null) {        equal.tail.next = big.head;        equal.tail = big.tail == null ? equal.tail : big.tail;        return equal;    }    return big;}    class PartitionNode {    ListNode head, tail;        void insertTail(ListNode node) {        if (head == null) {            head = tail = node;        } else {            tail.next = node;            tail = node;        }    }        public PartitionNode() {    }        public PartitionNode(ListNode head, ListNode tail) {        this.head = head;        this.tail = tail;    }}    class ListNode {    int val;    ListNode next;        public ListNode(int val) {        this.val = val;        this.next = null;    }}\né“¾è¡¨å½’å¹¶æ’åº\nå¯¹äºé“¾è¡¨çš„æ’åºï¼Œä½¿ç”¨å½’å¹¶æ’åºæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œå¯ä»¥é‡‡ç”¨æ›´å°‘çš„ä»£ç å®Œæˆï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨è¿­ä»£çš„æ–¹å¼ä¼˜åŒ–æ’åºï¼Œä½¿ç©ºé—´å¤æ‚åº¦O(logn)ä¼˜åŒ–ä¸ºO(1)ã€‚è¿™é‡Œå…ˆä½¿ç”¨é€’å½’å½¢å¼çš„å½’å¹¶æ’åºã€‚\npublic static ListNode mergeSort(ListNode head) {    if (head == null || head.next == null) {        return head;    }    // ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­ç‚¹ï¼Œå¦‚æœæ˜¯å¥‡æ•°ä¸ªï¼Œä¸­ç‚¹æ˜¯æ­£ä¸­é—´ï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œä¸­ç‚¹æ˜¯ä¸­é—´ä¸¤ä¸ªæ•°çš„å·¦è¾¹çš„    ListNode fast = head, slow = head;    while (fast.next != null &amp;&amp; fast.next.next != null) {        slow = slow.next;        fast = fast.next.next;    }    // ä¿å­˜æ…¢æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä¸ªçš„æŒ‡é’ˆï¼Œä½œä¸ºå³åŠéƒ¨åˆ†çš„èµ·ç‚¹    // åŒæ—¶è®©æ…¢æŒ‡é’ˆçš„nextæŒ‡å‘nullï¼Œè¡¨ç¤ºå·¦åŠéƒ¨åˆ†å’Œå³åŠéƒ¨åˆ†åˆ†æˆäº†ä¸¤ä¸ªé“¾è¡¨ã€‚    ListNode mid = slow.next;    slow.next = null;    // æ‹†åˆ†    ListNode left = mergeSort(head);    ListNode right = mergeSort(mid);    // å·¦å³åˆ†åˆ«æ’åºåï¼Œè¿›è¡Œå½’å¹¶ï¼Œè¿™é‡Œä½¿ç”¨å°¾æ’æ³•ï¼Œä¿è¯ç¨³å®šæ€§ã€‚    ListNode ret = new ListNode(0);    ListNode tail = ret;    while (left != null &amp;&amp; right != null) {        if (left.val &lt;= right.val) {            tail.next = left;            left = left.next;        } else {            tail.next = right;            right = right.next;        }        tail = tail.next;    }    // æœ‰ä¸€ä¸ªé“¾è¡¨æ²¡éå†å®Œï¼Œæ”¾åˆ°æœ€åå³å¯ã€‚    tail.next = left == null ? right : left;    return ret.next;}\nâ—ç©ºé—´å¤æ‚åº¦O(1)çš„å¾…æ›´æ–°\n3 äºŒå‰æ ‘\n3.1 éå†\né€’å½’ã€éé€’å½’çš„å‰ä¸­ååºéå†è¦ä¼šå†™ã€‚\n3.1.1 å‰ä¸­ååºéå†ï¼ˆéé€’å½’ï¼‰\n\nå‰åºéå†\n\né¦–å…ˆè®¾ç½®ä¸€ä¸ªæ ˆç»“æ„ç”¨äºå­˜å‚¨ã€‚æ•´ä½“éå†æµç¨‹å¦‚ä¸‹ï¼šâ—ä¸Šè¿°è¿‡ç¨‹è¦æ³¨æ„ï¼šåŠ å…¥å­©å­èŠ‚ç‚¹æ—¶ä¸€å®šæ˜¯å…ˆåŠ å…¥å³å­©å­ï¼Œå†åŠ å…¥å·¦å­©å­ï¼Œå› ä¸ºæ ˆæ˜¯åè¿›å…ˆå‡ºçš„é¡ºåºï¼Œæ‰€ä»¥è¦ååŠ å…¥å·¦å­©å­ã€‚\npublic static void preOrderUnRecur(Tree root) {    if (root == null) {        return;    }    Stack&lt;Tree&gt; stack = new Stack&lt;&gt;();    stack.push(root);    while (!stack.isEmpty()) {        Tree pop = stack.pop();        System.out.print(pop.val + \" \");        if (pop.right != null) {            stack.push(pop.right);        }        if (pop.left != null) {            stack.push(pop.left);        }    }    System.out.println();}\n\nååºéå†\n\nå‰åºéå†çš„é¡ºåºæ˜¯ï¼šæ ¹å·¦å³ï¼Œååºéå†çš„é¡ºåºæ˜¯ï¼šå·¦å³æ ¹ã€‚å‡è®¾ç°åœ¨æœ‰å‰åº'ï¼ˆå‰åºæ’‡ï¼‰éå†ï¼šæ ¹å³å·¦ï¼Œé‚£ä¹ˆå°†è¿™ä¸ªå‰åº'éå†çš„é¡ºåºåŠ å…¥åˆ°å¦ä¸€ä¸ªæ ˆä¸­ï¼Œæœ€åç»Ÿä¸€è¾“å‡ºï¼Œæ ¹æ®æ ˆçš„ç°å…ˆè¿›åå‡ºé¡ºåºï¼Œé‚£ä¹ˆè¾“å‡ºçš„ç»“æœæ˜¯ï¼šå·¦å³æ ¹ã€‚è¿™å°±æ˜¯ååºéå†çš„åšæ³•ã€‚â—æœ‰ä¸€ç‚¹æ³¨æ„ï¼šå‰åºéå†æ—¶ä¿è¯æ ¹å·¦å³çš„é¡ºåºï¼ŒåŠ å…¥å­å­©å­æ—¶å…ˆåŠ å…¥çš„å³å­©å­ï¼Œè€Œç°åœ¨éœ€è¦æ ¹æ®å‰åºéå†å¾—åˆ°å‰åº'éå†å³æ ¹å³å·¦çš„é¡ºåºï¼Œå› æ­¤éœ€è¦å…ˆåŠ å…¥å·¦å­©å­ã€‚ä»£ç å¦‚ä¸‹ï¼š\npublic static void postOrderUnRecur(Tree root) {    if (root == null) {        return;    }    Stack&lt;Tree&gt; stack1 = new Stack&lt;&gt;();    // è¯¥æ ˆç”¨äºæ”¶é›†ç»“æœï¼Œæœ€åç»Ÿä¸€å°†èŠ‚ç‚¹è¾“å‡ºï¼Œæ»¡è¶³ååºéå†ç»“æœ    Stack&lt;Tree&gt; stack2 = new Stack&lt;&gt;();    stack1.push(root);    while (!stack1.isEmpty()) {        Tree pop = stack1.pop();        // æš‚æ—¶ä¸æ‰“å°ï¼Œé¦–å…ˆåŠ å…¥åˆ°ç»“æœæ ˆä¸­        stack2.push(pop);        // å…ˆåŠ å…¥å·¦å­©å­ï¼Œä¿è¯åœ¨åŠ å…¥ç»“æœæ ˆæ—¶å¯ä»¥å…ˆå‡º        if (pop.left != null) {            stack1.push(pop.left);        }        if (pop.right != null) {            stack1.push(pop.right);        }    }    // ç»Ÿä¸€è¾“å‡º    while (!stack2.isEmpty()) {        System.out.print(stack2.pop().val + \" \");    }    System.out.println();}\n\nä¸­åºéå†\n\nä¸­åºéå†é¡ºåºï¼šå·¦æ ¹å³ã€‚ç®—æ³•æµç¨‹ï¼š\n\nå¦‚æœå·¦å­©å­ä¸ä¸ºç©ºï¼Œå‹æ ˆï¼Œå°†æ–°å‹å…¥çš„èŠ‚ç‚¹è®¾ç½®ä¸ºâ€œå½“å‰èŠ‚ç‚¹â€ç»§ç»­æ‰§è¡Œa\nå¦‚æœå·¦å­©å­ä¸ºç©ºï¼Œå¼¹å‡ºæ ˆï¼Œæ‰“å°\nå°†å¼¹å‡ºæ ˆçš„èŠ‚ç‚¹çš„å³å­©å­è®¾ç½®ä¸ºâ€œå½“å‰èŠ‚ç‚¹â€ï¼Œç»§ç»­æ‰§è¡Œa\n\npublic static void midOrderUnRecur(Tree root) {    if (root == null) {        return;    }    Stack&lt;Tree&gt; stack = new Stack&lt;&gt;();    // è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å½“å‰éå†åˆ°å“ªä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥å¤ç”¨rootæŒ‡é’ˆ    Tree temp = root;    // temp != nullè¿™ä¸ªæ¡ä»¶æ˜¯å¿…è¦çš„    while (!stack.isEmpty() || temp != null) {        // å¦‚æœå½“å‰æŒ‡é’ˆä¸ä¸ºnullï¼Œå‹æ ˆ        while (temp != null) {            stack.push(temp);            // å°†å½“å‰æŒ‡é’ˆæŒ‡å‘å·¦å­©å­            temp = temp.left;        }        // è¯´æ˜å·¦å­©å­ä¸ºç©ºäº†ï¼Œå‡ºæ ˆ        temp = stack.pop();        // æ‰“å°        System.out.print(temp.val + \" \");        // å°†å½“å‰æŒ‡é’ˆæŒ‡å‘å³å­©å­ï¼Œé‡å¤ä¸Šè¿°æ“ä½œ        temp = temp.right;    }    System.out.println();}\nâ—ä¸­åºéå†å’Œå‰è¾¹çš„å‰åºååºéå†ä»£ç åŒºåˆ«è¾ƒå¤§ï¼Œå¢åŠ äº†ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å½“å‰éå†åˆ°äº†å“ªä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸”whileå¾ªç¯æ¡ä»¶ä¸­çš„temp != nullæ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºå½“æ ˆç©ºçš„æ—¶å€™ï¼ŒæŒ‡é’ˆå¯èƒ½æŒ‡å‘äº†æ ¹èŠ‚ç‚¹çš„å³å­©å­ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰éå†å®Œï¼Œéœ€è¦è¿™ä¸ªæ¡ä»¶ï¼Œé˜²æ­¢ä¸¢å¤±æ•°æ®ã€‚\n3.1.2 å±‚åºéå†\npublic static void levelOrder(Tree root) {    if (root == null) {        return;    }    Queue&lt;Tree&gt; queue = new LinkedList&lt;&gt;();    queue.add(root);    while (!queue.isEmpty()) {        Tree remove = queue.remove();        System.out.print(remove.val + \" \");        if (remove.left != null) {            queue.add(remove.left);        }        if (remove.right != null) {            queue.add(remove.right);        }    }    System.out.println();}\n3.2\næ±‚äºŒå‰æ ‘ä¸€å±‚æœ€å¤šçš„èŠ‚ç‚¹ä¸ªæ•°ï¼ˆæ¯ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°ï¼‰\nLeetCode\n102ä½¿ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜å½“å‰å±‚çš„ä¸ªæ•°ï¼Œç„¶åä¸€æ¬¡æ€§å¼¹å‡ºå½“å‰å±‚æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ŒåŒæ—¶åŠ å…¥æ‰€æœ‰ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¯æ¬¡å¼¹å‡ºçš„èŠ‚ç‚¹éƒ½æ˜¯åŒä¸€å±‚çš„ã€‚\npublic static int getMaxLevelNodes(Tree root) {    Queue&lt;Tree&gt; queue = new LinkedList&lt;&gt;();    queue.add(root);    int maxCnt = 0;    while (!queue.isEmpty()) {        // sizeå³ä¸ºå½“å‰å±‚çš„èŠ‚ç‚¹ä¸ªæ•°        int size = queue.size();        maxCnt = Math.max(maxCnt, size);        // ä¸€æ¬¡å¼¹å‡ºå®Œè¯¥å±‚æ‰€æœ‰çš„èŠ‚ç‚¹        for (int i = 0; i &lt; size; i++) {            Tree remove = queue.remove();            if (remove.left != null) {                queue.add(remove.left);            }            if (remove.right != null) {                queue.add(remove.right);            }        }    }    return maxCnt;}\n3.3 äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦\näºŒå‰æ ‘æœ€å¤§å®½åº¦è¿™é“é¢˜éœ€è¦åŠ ä¸Šä¸¤ä¸ªéç©ºèŠ‚ç‚¹ä¸­é—´çš„nullèŠ‚ç‚¹çš„æ•°é‡ï¼Œå¯ä»¥æŒ‰ç…§å®Œå…¨äºŒå‰æ ‘å¯¹æ•°è¿›è¡Œç¼–å·ï¼Œç„¶åä½¿ç”¨æœ€å³ç«¯çš„éç©ºèŠ‚ç‚¹ç´¢å¼•å‡å»æœ€å·¦ç«¯éç©ºèŠ‚ç‚¹çš„ç´¢å¼•+1å³å¯å¾—åˆ°è¿™ä¸€å±‚çš„å®½åº¦ã€‚\n// è‡ªå®šä¹‰å®ç°Pairç±»ï¼Œç”¨äºå­˜å‚¨èŠ‚ç‚¹å’Œå¯¹åº”çš„ç´¢å¼•å€¼static class Pair&lt;T, V&gt; {    T key;    V value;    public Pair(T key, V value) {        this.key = key;        this.value = value;    }}public static int widthOfBinaryTree(Tree root) {    if (root == null) {        return 0;    }    Queue&lt;Pair&lt;Tree, Integer&gt;&gt; queue = new LinkedList&lt;&gt;();    // å­˜å‚¨æ ¹èŠ‚ç‚¹å’Œç´¢å¼•    queue.add(new Pair&lt;&gt;(root, 0));    int maxCnt = 0;    while (!queue.isEmpty()) {        // æŒ‰ç…§æ±‚æ¯å±‚èŠ‚ç‚¹ä¸ªæ•°çš„æ–¹æ³•        int size = queue.size();        // è®°å½•æ¯å±‚èŠ‚ç‚¹çš„æœ€å°ç´¢å¼•å’Œæœ€å¤§ç´¢å¼•        int minIndex = Integer.MAX_VALUE, maxIndex = Integer.MIN_VALUE;        for (int i = 0; i &lt; size; i++) {            Pair&lt;Tree, Integer&gt; pair = queue.remove();            Tree node = pair.key;            Integer index = pair.value;            minIndex = Math.min(minIndex, index);            maxIndex = Math.max(maxIndex, index);            // å·¦å­©å­ç´¢å¼•ä¸ºå½“å‰ç´¢å¼• * 2 + 1            if (node.left != null) {                queue.add(new Pair&lt;&gt;(node.left, 2 * index + 1));            }            // å³å­©å­ç´¢å¼•ä¸ºå½“å‰ç´¢å¼• * 2 + 2            if (node.right != null) {                queue.add(new Pair&lt;&gt;(node.right, 2 * index + 2));            }        }        maxCnt = Math.max(maxCnt, maxIndex - minIndex + 1);    }    return maxCnt;}\n3.4 åˆ¤æ–­æ˜¯å¦æ˜¯å®Œå…¨äºŒå‰æ ‘\nLeetCode\n958æ–¹æ³•1ï¼šåˆ†ä¸¤ç§æƒ…å†µï¼š\n\nå¯¹äºä»»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæœ‰å³å­©å­ä½†æ— å·¦å­©å­ï¼Œç›´æ¥è¿”å›false\nåœ¨æ¡ä»¶1ä¸è¿åçš„æ¡ä»¶ä¸‹ï¼Œå¦‚æœé‡åˆ°äº†ç¬¬ä¸€ä¸ªå·¦å³å­©å­ä¸å…¨çš„ï¼Œå¦‚åªæœ‰å·¦å­©å­æˆ–è€…æ²¡æœ‰å­©å­ï¼Œé‚£ä¹ˆä¹‹åçš„èŠ‚ç‚¹å¿…é¡»å…¨éƒ¨æ˜¯å¶èŠ‚ç‚¹ã€‚\n\nâ˜†æ–¹æ³•2ï¼šå±‚åºéå†æ—¶å°†ä¸ºnullçš„èŠ‚ç‚¹ä¹ŸåŠ å…¥è¿›å»ï¼Œå¦‚æœå‡ºç°nullåï¼Œåç»­å‡ºç°çš„èŠ‚ç‚¹éƒ½è¦æ˜¯nullå¦åˆ™å°±ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚\npublic boolean isCompleteTree(TreeNode root) {    if (root == null) {        return true;    }    Queue&lt;TreeNode&gt; queue = new LinkedList&lt;&gt;();    queue.add(root);    // è®¾ç½®æ ‡è®°ä¸ºè¡¨ç¤ºæ˜¯å¦å‡ºç°äº†nullèŠ‚ç‚¹    boolean flag = false;    while (!queue.isEmpty()) {        TreeNode node = queue.remove();        if (node == null) {            flag = true;        } else {            // å¦‚æœnodeä¸ä¸ºnull,ä½†æ˜¯flagä¸ºtrue,è¯´æ˜ä¹‹å‰å‡ºç°è¿‡nullèŠ‚ç‚¹,å°±ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘äº†            if (flag) {                return false;            }            queue.add(node.left);            queue.add(node.right);        }    }    return true;}\n3.5 åˆ¤æ–­æ»¡äºŒå‰æ ‘\næ»¡äºŒå‰æ ‘çš„ç‰¹å¾ï¼š\n\næ¯ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°=ä»å¼€å§‹\næŒ‰ç…§å®Œå…¨äºŒå‰æ ‘çš„ç´¢å¼•ç¼–å·ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ç¼–å·ä¸ºï¼šä»å¼€å§‹\n\næœ¬é¢˜ä»æ¯ä¸€å±‚èŠ‚ç‚¹ä¸ªæ•°åˆ¤æ–­ï¼Œä»3.2\næ±‚äºŒå‰æ ‘ä¸€å±‚æœ€å¤šçš„èŠ‚ç‚¹ä¸ªæ•°å¤ç”¨ä»£ç ã€‚\npublic static boolean isFullBiTree(Tree root) {    if (root == null) {        return true;    }    // è®°å½•é«˜åº¦    int height = 0;    Queue&lt;Tree&gt; queue = new LinkedList&lt;&gt;();    queue.add(root);    while (!queue.isEmpty()) {        int size = queue.size();        // åˆ¤æ–­å½“å‰å±‚èŠ‚ç‚¹ä¸ªæ•°æ˜¯å¦æ»¡è¶³æ¡ä»¶        if (size != Math.pow(2, height)) {            return false;        }        for (int i = 0; i &lt; size; i++) {            Tree node = queue.remove();            if (node.left != null) {                queue.add(node.left);            }            if (node.right != null) {                queue.add(node.right);            }        }        height++;    }    return true;}\n3.6 åˆ¤æ–­å¹³è¡¡äºŒå‰æ ‘\nLeetCode\n110é€šè¿‡æ±‚ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦è¿‡ç¨‹ä¸­åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡çš„ã€‚ç±»ä¼¼äºååºéå†ã€‚å¦‚æœå­æ ‘éƒ½ä¸æ˜¯å¹³è¡¡çš„ï¼Œé‚£ä¹ˆæ•´æ£µæ ‘ä¸€å®šä¸æ˜¯å¹³è¡¡çš„ã€‚é€šè¿‡è®¾ç«‹æ ‡å¿—ä½è¿”å›å€¼åˆ¤æ–­æ˜¯å¦æ˜¯å¹³è¡¡çš„ã€‚\nclass Solution {    public boolean isBalanced(TreeNode root) {        return getHeight(root) &gt;= 0;    }    public int getHeight(TreeNode root) {        if (root == null) {            return 0;        }        int leftHeight = getHeight(root.left);        int rightHeight = getHeight(root.right);        // å¦‚æœé«˜åº¦è¿”å›-1ï¼Œè¯´æ˜å­æ ‘å·²ç»æ˜¯ä¸å¹³è¡¡çš„äº†ï¼Œé‚£ä¹ˆè¯¥æ£µæ ‘ä¹Ÿæ˜¯ä¸å¹³è¡¡çš„ã€‚        // å¦‚æœé«˜åº¦éƒ½ä¸æ˜¯-1ï¼Œè¯´æ˜å­æ ‘å¹³è¡¡ï¼Œç„¶ååˆ¤æ–­æ•´æ£µæ ‘ï¼Œå¦‚æœæ•´æ£µæ ‘ä¹Ÿä¸å¹³è¡¡é‚£ä¹ˆè¿”å›-1        if (leftHeight == -1 || rightHeight == -1 || Math.abs(leftHeight - rightHeight) &gt; 1) {            return -1;        }        return Math.max(leftHeight, rightHeight) + 1;    }}\n3.7 åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘\nLeetCode\n98åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œä¸­åºéå†æ—¶åˆ¤æ–­ä¸Šä¸€ä¸ªæ•°æ˜¯å¦å°äºå½“å‰çš„æ•°ã€‚\n// å­˜å‚¨ä¸­åºéå†çš„ä¸Šä¸€ä¸ªéå†åˆ°çš„å€¼,ä½¿ç”¨Longç±»å‹æœ€å°å€¼,Integerç±»å‹æœ€å°å€¼ä¼šè¶Šç•Œprivate long pre = Long.MIN_VALUE;public boolean isValidBST(TreeNode root) {    if (root == null) {        return true;    }    // å¦‚æœå·¦æ•°ä¸æ»¡è¶³æ¡ä»¶,æ•´æ£µæ ‘è‚¯å®šä¸æ»¡è¶³,ç›´æ¥é€€å‡º    boolean left = isValidBST(root.left);    if (!left) {        return false;    }    // å¦‚æœä¸Šä¸€ä¸ªæ•°ä¸å°äºå½“å‰çš„,è¯´æ˜ä¹Ÿä¸æ»¡è¶³    if (pre &gt;= root.val) {        return false;    }    // é‡ç½®pre,æ–¹ä¾¿ä¸‹æ¬¡ä½¿ç”¨    pre = root.val;    // åˆ¤æ–­å³æ ‘    return isValidBST(root.right);}\n3.8\næ‰¾åˆ°äºŒå‰æ ‘ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€ä½å…¬å…±ç¥–å…ˆèŠ‚ç‚¹\nLeetCode\n236236.\näºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ -\nåŠ›æ‰£ï¼ˆLeetCodeï¼‰é¢˜è§£éå†èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹å¦‚æœä¸ºnullæˆ–è€…p``qç›´æ¥è¿”å›ã€‚å¦åˆ™éå†å·¦å³å­æ ‘ã€‚åˆ†åˆ«è·å–åˆ°å·¦å³å­æ ‘çš„è¿”å›å€¼ã€‚\n\nå¦‚æœå·¦å­æ ‘è¿”å›ç©ºï¼Œè¯´æ˜å·¦å­æ ‘è‚¯å®šä¸å­˜åœ¨p``qï¼Œç›´æ¥è¿”å›rightå› ä¸ºå¿…ç„¶å­˜åœ¨åœ¨rightä¸­ã€‚\nå¦‚æœå·¦å­æ ‘è¿”å›ä¸ç©ºå³å­æ ‘è¿”å›ç©ºï¼Œåˆ™è¯´æ˜è‚¯å®šå­˜åœ¨åœ¨å·¦å­æ ‘ä¸­ï¼Œè¿”å›leftã€‚\nå¦‚æœéƒ½ä¸ç©ºï¼Œè¯´æ˜å·¦å³å­æ ‘éƒ½å­˜åœ¨åˆ†åˆ«å­˜åœ¨p``qï¼Œåˆ™å½“å‰rootä¸ºå…¬å…±ç¥–å…ˆï¼Œè¿”å›å½“å‰çš„rootä¸ºå…¬å…±ç¥–å…ˆã€‚\n\npublic TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {    if (root == null || root == p || root == q) {        return root;    }    TreeNode left = lowestCommonAncestor(root.left, p, q);    TreeNode right = lowestCommonAncestor(root.right, p, q);    if (left == null) {        return right;    }    if (right == null) {        return left;    }    return root;}\n3.9 äºŒå‰æœç´¢æ ‘çš„ä¸­åºåç»§\nLeetCode\n053è§†é¢‘è®²è§£ï¼š6.\nå›¾_å“”å“©å“”å“©_bilibiliï¼ˆäºŒå‰æ ‘çš„ä¸­åºåç»§ï¼‰ï¼ŒäºŒå‰æœç´¢æ ‘å¯çœ‹ä½œæ˜¯ç‰¹æ®Šæƒ…å†µé¦–å…ˆæ ¹æ®ä¸­åºéå†çš„é¡ºåºï¼šå·¦æ ¹å³ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„åç»­èŠ‚ç‚¹æ˜¯å³å­æ ‘çš„æœ€å·¦ç«¯çš„èŠ‚ç‚¹ã€‚æ‰€ä»¥å¦‚æœè¦æŸ¥æ‰¾çš„èŠ‚ç‚¹æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆç›´æ¥éå†åˆ°å³å­æ ‘çš„æœ€å·¦ç«¯èŠ‚ç‚¹ï¼Œå³ä¸ºåç»­èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆåç»­èŠ‚ç‚¹ä¸€å®šåœ¨è¯¥èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹ä¸Šã€‚å› ä¸ºä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘æ²¡æœ‰å³å­æ ‘ï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹å­æ ‘éå†å®Œäº†ï¼Œåç»­èŠ‚ç‚¹ä¸€å®šåœ¨æŸä¸ªç¥–å…ˆèŠ‚ç‚¹æˆ–è€…æ²¡æœ‰åç»­èŠ‚ç‚¹ã€‚\nå¦‚ä¸Šå›¾ï¼Œç¬¬ä¸€ç§æƒ…å†µçš„åç»­èŠ‚ç‚¹æ˜¯eï¼Œç¬¬äºŒç§åç»­èŠ‚ç‚¹æ˜¯bï¼Œç¬¬ä¸‰ç§åç»­èŠ‚ç‚¹æ˜¯aã€‚é’ˆå¯¹æƒ…å†µ2å’Œ3å³å¾…æŸ¥æ‰¾èŠ‚ç‚¹pæ²¡æœ‰å³å­æ ‘çš„æƒ…å†µä¸‹ï¼š\n\nå¦‚æœpåœ¨æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­ï¼Œé‚£ä¹ˆæ ¹èŠ‚ç‚¹å¯èƒ½å°±æ˜¯pçš„åç»­èŠ‚ç‚¹ï¼Œåç»­èŠ‚ç‚¹ä¹Ÿå¯èƒ½æ˜¯æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­ã€‚\nå¦‚æœpåœ¨æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ä¸­ï¼Œé‚£ä¹ˆæ ¹èŠ‚ç‚¹å°±ä¸æ˜¯pçš„åç»­èŠ‚ç‚¹\n\né‚£ä¹ˆæ€ä¹ˆåˆ¤æ–­påœ¨æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘å‘¢ï¼Ÿè¿™å°±ç”¨åˆ°äº†äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œå¦‚æœpèŠ‚ç‚¹çš„å€¼æ¯”æ ¹èŠ‚ç‚¹å°é‚£ä¹ˆpå°±åœ¨æ ¹èŠ‚ç‚¹å·¦å­æ ‘ä¸­ï¼Œå¦åˆ™åœ¨å³å­æ ‘ã€‚æ‰€ä»¥ç®—æ³•å¦‚ä¸‹ï¼š\n\né¦–å…ˆåˆ¤æ–­æœ‰æ²¡æœ‰å³å­æ ‘ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥æ‰¾åˆ°å³å­æ ‘æœ€å·¦ç«¯èŠ‚ç‚¹è¿”å›ã€‚å¦‚æœæ²¡æœ‰åˆ™æ‰§è¡Œä¸‹è¾¹æ“ä½œ\nä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä¾æ¬¡å’Œpæ¯”è¾ƒï¼Œåˆ¤æ–­påœ¨æ ¹èŠ‚ç‚¹çš„å“ªä¸ªå­æ ‘ä¸­\n\nå¦‚æœåœ¨å·¦å­æ ‘ä¸­ï¼Œæ›´æ–°ä¿å­˜ç­”æ¡ˆçš„å˜é‡ï¼Œç»§ç»­å·¦å­æ ‘\nå¦‚æœåœ¨å³å­æ ‘ä¸­ï¼Œä¸æ›´æ–°ï¼Œç›´æ¥éå†å³å­æ ‘\nç›´æ¥éå†åˆ°æœ€åä¸ºnull\n\nè¿”å›ç»“æœ\n\npublic TreeNode inorderSuccessor(TreeNode root, TreeNode p) {    if (root == null) {        return null;    }    if (p.right != null) {        TreeNode temp = p.right;        while (temp.left != null) {            temp = temp.left;        }        return temp;    }    TreeNode temp = root;    TreeNode ret = null;    while (temp != null) {        // å¦‚æœpçš„å€¼å¤§äºç­‰äºå½“å‰æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œè¯´æ˜påœ¨å³å­æ ‘ä¸­ï¼Œå½“å‰èŠ‚ç‚¹è‚¯å®šä¸ä¼šæ˜¯åç»­èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥éå†å³å­æ ‘        // å¦‚æœpçš„å€¼å°äºå½“å‰æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œè¯´æ˜påœ¨å·¦å­æ ‘ä¸­ï¼Œæ ¹æ®ä¸­åºéå†é¡ºåºï¼šå·¦æ ¹å³ï¼Œå½“å‰æ ¹èŠ‚ç‚¹å¯èƒ½æ˜¯åç»­èŠ‚ç‚¹ï¼Œ        // å› æ­¤å…ˆä¿å­˜å½“å‰èŠ‚ç‚¹ä¸ºç­”æ¡ˆï¼Œç„¶åç»§ç»­éå†å·¦å­æ ‘ï¼ˆå·¦å­æ ‘ä¸­å¯èƒ½å­˜åœ¨çœŸæ­£çš„åç»­èŠ‚ç‚¹ï¼‰        if (temp.val &lt;= p.val) {            temp = temp.right;        } else {            ret = temp;            temp = temp.left;        }    }    return ret;}\n3.10 äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–\nBç«™è§†é¢‘\n3.11 åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æ ‘\nç»™å®šnä¸ªèŠ‚ç‚¹å’Œmæ¡æœ‰å‘è¾¹ï¼ŒèŠ‚ç‚¹ä»[0, n - 1]è¡¨ç¤ºï¼Œmæ¡è¾¹ä½¿ç”¨(a,\nb)çš„æ•°å¯¹ï¼ˆaæŒ‡å‘bï¼‰è¡¨ç¤ºä¸ºbçš„çˆ¶èŠ‚ç‚¹æ˜¯aã€‚åˆ¤æ–­ç»™å®šçš„ç»“æœæ˜¯ä¸æ˜¯äºŒå‰æ ‘ã€‚ğŸ¬æ€è·¯ï¼šå°†äºŒå‰æ ‘çœ‹æˆæ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œé™¤æ ¹èŠ‚ç‚¹å¤–æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ä¸º1ã€å‡ºåº¦å°äºç­‰äº2ï¼Œæ ¹èŠ‚ç‚¹çš„å…¥åº¦å¿…é¡»ä¸º0ã€å‡ºåº¦å°äºç­‰äº2ä¸”åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼ŒåŒæ—¶ä¿è¯ä»æ ¹èŠ‚ç‚¹å‡ºå‘å¯ä»¥éå†åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚å¯èƒ½å­˜åœ¨çš„å›¾çš„æƒ…å†µï¼š\n\næ­£ç¡® \nå‡ºåº¦ä¸æ»¡è¶³æ¡ä»¶ \nå…¥åº¦ä¸æ»¡è¶³æ¡ä»¶\n\næ ‘ä¸­å­˜åœ¨çˆ¶å­èŠ‚ç‚¹ä¹‹é—´â€œäº’ä¸ºçˆ¶å­â€ï¼Œåˆ™å¯ä»¥ä»å‡ºå…¥åº¦åˆ¤æ–­ä¸æ»¡è¶³æ¡ä»¶ \n4. æ ¹èŠ‚ç‚¹ä¸ªæ•°ä¸æ»¡è¶³æ¡ä»¶\næ ¹èŠ‚ç‚¹ä¸ªæ•°å¤§äº1 æ ¹èŠ‚ç‚¹ä¸ªæ•°ä¸º0\n\n5. ä»æ ¹èŠ‚ç‚¹éå†ä¸èƒ½éå†åˆ°æ‰€æœ‰èŠ‚ç‚¹\nä»å‡ºå…¥åº¦åˆ¤æ–­ï¼Œåªæœ‰ä¸€ä¸ªå…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ— æ³•ä»å…¥åº¦ä¸º0çš„ä¸ªæ•°åˆ¤æ–­å›¾æ˜¯å¦è¿é€šï¼Œéœ€è¦ä½¿ç”¨dfséå†\nå› æ­¤æ ¹æ®ä¸Šè¿°æ¡ä»¶æ€»ç»“å‡ºç®—æ³•æµç¨‹ï¼š\nvoid dfs(vector&lt;vector&lt;int&gt;&gt; &amp;g, int t, bool *st) {    st[t] = true;    for (int i = 0; i &lt; g[t].size(); i++) {        if (!st[g[t][i]]) {            dfs(g, g[t][i], st);        }    }}// åˆ¤æ–­æ˜¯å¦æ˜¯äºŒå‰æ ‘bool isBinaryTree(int n, vector&lt;pair&lt;int, int&gt;&gt; &amp;edges) {    // æ„é€ å›¾    vector&lt;vector&lt;int&gt;&gt; g(n, vector&lt;int&gt;());    for (int i = 0; i &lt; edges.size(); i++) {        g[edges[i].first].push_back(edges[i].second);    }    // æ±‚å‡ºå…¥åº¦    int inDegree[n], outDegree[n];    for (int i = 0; i &lt; n; i++) {        inDegree[i] = 0;        outDegree[i] = 0;    }    for (int i = 0; i &lt; n; i++) {        for (int j = 0; j &lt; g[i].size(); j++) {            outDegree[i]++;            inDegree[g[i][j]]++;        }    }    // åˆ¤æ–­æ ¹èŠ‚ç‚¹æ•°é‡å’Œç´¢å¼•    int rootIndex = -1, rootCnt = 0;    for (int i = 0; i &lt; n; i++) {        if (inDegree[i] == 0) {            rootCnt++;            rootIndex = i;        }    }    if (rootCnt != 1) {        return false;    }    // ä»æ ¹èŠ‚ç‚¹éå†æ˜¯å¦èƒ½éå†åˆ°æ‰€æœ‰èŠ‚ç‚¹    bool st[n];    for (int i = 0; i &lt; n; i++) {        st[i] = false;    }    dfs(g, rootIndex, st);    for (int i = 0; i &lt; n; i++) {        if (!st[i]) {            return false;        }    }    // åˆ¤æ–­å‡ºå…¥åº¦æ˜¯å¦æ»¡è¶³æ¡ä»¶    for (int i = 0; i &lt; n; i++) {        if (outDegree[i] &gt; 2) {            return false;        }        if (i == rootIndex) {            continue;        }        if (inDegree[i] != 1) {            return false;        }    }    return true;}\npublic class Solution {    public boolean isBinaryTree(int n, List&lt;Integer[]&gt; edges) {        List&lt;List&lt;Integer&gt;&gt; g = new ArrayList&lt;&gt;();        for (int i = 0; i &lt; n; i++) {            g.add(new ArrayList&lt;&gt;());        }        for (Integer[] e : edges) {            g.get(e[0]).add(e[1]);        }        int[] inDegree = new int[n];        int[] outDegree = new int[n];        Arrays.fill(inDegree, 0);        Arrays.fill(outDegree, 0);        for (int i = 0; i &lt; n; i++) {            for (int j : g.get(i)) {                outDegree[i]++;                inDegree[j]++;            }        }        int rootIndex = -1, rootCnt = 0;        for (int i = 0; i &lt; n; i++) {            if (inDegree[i] == 0) {                rootCnt++;                rootIndex = i;            }        }        if (rootCnt != 1) {            return false;        }        boolean[] st = new boolean[n];        dfs(g, rootIndex, st);        for (int i = 0; i &lt; n; i++) {            if (!st[i]) {                return false;            }        }        for (int i = 0; i &lt; n; i++) {            if (outDegree[i] &gt; 2) {                return false;            }            if (i == rootIndex) {                continue;            }            if (inDegree[i] != 1) {                return false;            }        }        return true;    }    private void dfs(List&lt;List&lt;Integer&gt;&gt; g, int t, boolean[] st) {        st[t] = true;        for (int j : g.get(t)) {            if (!st[j]) {                dfs(g, j, st);            }        }    }}\n4 å›¾\n4.1 å›¾çš„å­˜å‚¨\nè¿™ç§æ–¹å¼ï¼Œå¯¹äºå¾ˆå¤šç®—æ³•éƒ½å¾ˆæ–¹ä¾¿ï¼Œéš¾ç‚¹åœ¨äºç»™å®šä¸€ä¸ªå›¾ç»“æ„ï¼Œé¦–å…ˆéœ€è¦æŠŠç»™å®šçš„å›¾ç»“æ„è½¬æ¢æˆè¯¥å›¾ç»“æ„ã€‚å¯¹äºæŸäº›ç®—æ³•ç”¨ä¸åˆ°æŸäº›æ•°æ®ï¼Œå¦‚\nå…¥åº¦inå’Œå‡ºåº¦outå¯ä»¥ä¸å†™\npublic class Graph {    // å¦‚æœçŸ¥é“ç¡®åˆ‡çš„é¡¶ç‚¹ä¸ªæ•°ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ä»£æ›¿HashMap\tpublic HashMap&lt;Integer, Node&gt; nodes;\tpublic HashSet&lt;Edge&gt; edges;\t\tpublic Graph() {\t\tnodes = new HashMap&lt;&gt;();\t\tedges = new HashSet&lt;&gt;();\t}}// ç‚¹ç»“æ„çš„æè¿°public class Node {\tpublic int value;\tpublic int in;\tpublic int out;\tpublic ArrayList&lt;Node&gt; nexts;\tpublic ArrayList&lt;Edge&gt; edges;\tpublic Node(int value) {\t\tthis.value = value;\t\tin = 0;\t\tout = 0;\t\tnexts = new ArrayList&lt;&gt;();\t\tedges = new ArrayList&lt;&gt;();\t}}public class Edge {\tpublic int weight;\tpublic Node from;\tpublic Node to;\tpublic Edge(int weight, Node from, Node to) {\t\tthis.weight = weight;\t\tthis.from = from;\t\tthis.to = to;\t}}// matrix æ‰€æœ‰çš„è¾¹// N*3 çš„çŸ©é˜µ// [weight, fromèŠ‚ç‚¹ä¸Šé¢çš„å€¼ï¼ŒtoèŠ‚ç‚¹ä¸Šé¢çš„å€¼]// // [ 5 , 0 , 7]// [ 3 , 0,  1]// public static Graph createGraph(int[][] matrix) {\tGraph graph = new Graph();\tfor (int i = 0; i &lt; matrix.length; i++) {\t\t // æ‹¿åˆ°æ¯ä¸€æ¡è¾¹ï¼Œ matrix[i] \t\tint weight = matrix[i][0];\t\tint from = matrix[i][1];\t\tint to = matrix[i][2];        graph.nodes.putIfAbsent(from, new Node(from));\t\t// if (!graph.nodes.containsKey(from)) {\t\t// \tgraph.nodes.put(from, new Node(from));\t\t// }        graph.nodes.putIfAbsent(to, new Node(to));\t\t// if (!graph.nodes.containsKey(to)) {\t\t// \tgraph.nodes.put(to, new Node(to));\t\t// }\t\tNode fromNode = graph.nodes.get(from);\t\tNode toNode = graph.nodes.get(to);\t\t// æ— å‘å›¾å¯ä»¥çœ‹ä½œæ˜¯ä¸¤æ¡è¾¹çš„æœ‰å‘å›¾        // ç¬¬ä¸€æ¡è¾¹        Edge edge = new Edge(weight, fromNode, toNode);        fromNode.nextNodes.add(toNode);        fromNode.edges.add(edge);        fromNode.out++;        toNode.in++;        graph.edges.add(edge);        // ç¬¬äºŒæ¡è¾¹        edge = new Edge(weight, toNode, fromNode);        toNode.nextNodes.add(fromNode);        toNode.edges.add(edge);        toNode.out++;        fromNode.in++;        graph.edges.add(edge);\t}\treturn graph;}\nè¿™ä¸ªç‰ˆæœ¬ä»£ç é‡å°‘ï¼Œæ˜“äºç†è§£\n// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„ä¿¡æ¯å’Œè¯¥é¡¶ç‚¹æ‰€æœ‰è¾¹çš„ä¿¡æ¯ã€‚class Node {    public List&lt;Edge&gt; edges = new ArrayList&lt;&gt;();}// å­˜å‚¨æ¯æ¡è¾¹çš„ä¿¡æ¯ï¼ˆä¹Ÿå¯ä»¥ç”¨é“¾è¡¨è¡¨ç¤ºï¼Œç”¨é“¾è¡¨Nodeä¸­çš„è¾¹åªéœ€ç”¨å¤´èŠ‚ç‚¹å­˜å‚¨å³å¯ï¼‰class Edge {    int n, w;    public Edge(int node, int weight) {        n = node;        w = weight;    }}public Node[] createGraph(int[][] matrix, int n) {    Node[] graph = new Node[n];    for (int i = 0; i &lt; n; i++) {        graph[i] = new Node();    }    for (int i = 0; i &lt; matrix.length; i++) {        int weight = matrix[i][0], from = matrix[i][1], to = matrix[i][2];        graph[from].edges.add(new Edge(to, weight));    }    return graph;}\nc++ç‰ˆæœ¬\n// å®šä¹‰è¾¹æ•°æ®ç»“æ„ï¼Œå­˜å‚¨è¾¹åˆ°è¾¾çš„ä¸‹ä¸€ä¸ªé¡¶ç‚¹å’Œæƒé‡struct Edge { int n, w; };// é‚»æ¥è¡¨è¡¨ç¤ºå›¾ï¼Œå¯ä»¥ç”¨ä¸¤ä¸ªvectorè¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªå­˜å‚¨vectorçš„æ•°ç»„è¡¨ç¤ºvector&lt;vector&lt;Edge&gt;&gt; g(n);// vector&lt;Edge&gt; g[n];\n4.2 å®½åº¦ä¼˜å…ˆéå†\nå¦‚ä¸‹æ‰€ç¤ºçš„å›¾ï¼š\npublic static void bfs(Graph graph) {    Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();    // ç”¨äºåˆ¤æ–­é¡¶ç‚¹æ˜¯å¦è®¿é—®è¿‡    Set&lt;Node&gt; visited = new HashSet&lt;&gt;();    // éšä¾¿é€‰ä¸€ä¸ªé¡¶ç‚¹ä½œä¸ºå¼€å§‹é¡¶ç‚¹    visited.add(graph.nodes.get(0));    queue.add(graph.nodes.get(0));    while (!queue.isEmpty()) {        Node node = queue.remove();        System.out.println(node.value);        for (Node nextNode : node.nextNodes) {            if (!visited.contains(nextNode)) {                visited.add(nextNode);                queue.add(nextNode);            }        }    }}\n4.3 æ·±åº¦ä¼˜å…ˆéå†\npublic static void dfs(Graph graph) {    Node node = graph.nodes.get(0);    Set&lt;Node&gt; visited = new HashSet&lt;&gt;();    visited.add(node);    recur(node, visited);}public static void recur(Node node, Set&lt;Node&gt; visited) {    System.out.println(node.value);    for (Node nextNode : node.nextNodes) {        if (!visited.contains(nextNode)) {            visited.add(nextNode);            recur(nextNode, visited);        }    }}\n4.4 æ‹“æ‰‘æ’åº\nè¯¾è¡¨æ’åº\nclass Solution {    public boolean canFinish(int numCourses, int[][] prerequisites) {        Node[] g = new Node[numCourses];        for (int i = 0; i &lt; numCourses; i++) {            g[i] = new Node();        }        int[] in = new int[numCourses];        for (int[] prereq : prerequisites) {            g[prereq[1]].edges.add(prereq[0]);            in[prereq[0]]++;        }        int cnt = 0;        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();        for (int i = 0; i &lt; in.length; i++) {            if (in[i] == 0) {                queue.add(i);                cnt++;            }        }        while (!queue.isEmpty()) {            int node = queue.remove();            for (int n : g[node].edges) {                in[n]--;                if (in[n] == 0) {                    queue.add(n);                    cnt++;                }            }        }        return cnt == numCourses;    }}// è¾¹åªè¡¨ç¤ºä¸‹ä¸€ä¸ªé¡¶ç‚¹å³å¯ï¼Œå› æ­¤ä¸éœ€è¦å•ç‹¬åˆ›å»ºè¾¹ç±»class Node {    List&lt;Integer&gt; edges = new ArrayList&lt;&gt;();}\n// directed graph and no looppublic static List&lt;Node&gt; sortedTopology(Graph graph) {    // key æŸä¸ªèŠ‚ç‚¹   value å‰©ä½™çš„å…¥åº¦    HashMap&lt;Node, Integer&gt; inMap = new HashMap&lt;&gt;();    // åªæœ‰å‰©ä½™å…¥åº¦ä¸º0çš„ç‚¹ï¼Œæ‰è¿›å…¥è¿™ä¸ªé˜Ÿåˆ—    Queue&lt;Node&gt; zeroInQueue = new LinkedList&lt;&gt;();    for (Node node : graph.nodes.values()) {        inMap.put(node, node.in);        if (node.in == 0) {            zeroInQueue.add(node);        }    }    List&lt;Node&gt; result = new ArrayList&lt;&gt;();    while (!zeroInQueue.isEmpty()) {        Node cur = zeroInQueue.poll();        result.add(cur);        for (Node next : cur.nexts) {            inMap.put(next, inMap.get(next) - 1);            if (inMap.get(next) == 0) {                zeroInQueue.add(next);            }        }    }    return result;}\n4.5 Kruskalç®—æ³•\n// å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„çˆ¶é¡¶ç‚¹public static HashMap&lt;Integer, Integer&gt; parent = new HashMap&lt;&gt;();// æŸ¥è¯¢é¡¶ç‚¹xçš„çˆ¶é¡¶ç‚¹ï¼ŒåŒæ—¶åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ä¿®æ”¹ç»“æ„ä½¿å¾—æé«˜æŸ¥è¯¢é€Ÿåº¦public static int find(int x) {    if (parent.get(x) != x) {        parent.put(x, find(parent.get(x)));    }    return parent.get(x);}public static void kruskal(Graph graph) {    for (Node node : graph.nodes.values()) {        parent.put(node.value, node.value);    }    // ä¼˜å…ˆé˜Ÿåˆ—ä¿è¯æ¯æ¬¡å–å‡ºçš„æ˜¯æœ€å°å€¼    Queue&lt;Edge&gt; queue = new PriorityQueue&lt;&gt;((o1, o2) -&gt; o1.weight - o2.weight);    queue.addAll(graph.edges);    while (!queue.isEmpty()) {        Edge edge = queue.remove();        int from = find(edge.from.value);        int to = find(edge.to.value);        // å¦‚æœä¸¤ä¸ªé¡¶ç‚¹çš„çˆ¶é¡¶ç‚¹ä¸åŒï¼Œè¯´æ˜è¿æ¥èµ·æ¥ä¸ä¼šå½¢æˆç¯        if (from != to) {            parent.put(from, to);            System.out.println(edge.from.value + \" \" + edge.to.value + \" \" + edge.weight);        }    }}\n4.6 Primç®—æ³•\npublic static void prim(Graph graph) {    Queue&lt;Edge&gt; queue = new PriorityQueue&lt;&gt;();    Set&lt;Node&gt; visited = new HashSet&lt;&gt;();    // forå¾ªç¯ç”¨äºå¤„ç†å›¾ä¸è¿é€šçš„æƒ…å†µ    for (Node node : graph.nodes.values()) {        if (visited.contains(node)) {            continue;        }        // æ‰¾ä¸€ä¸ªnodeé¡¶ç‚¹å¼€å§‹        visited.add(node);        // åŠ å…¥nodeçš„æ‰€æœ‰è¾¹        queue.addAll(node.edges);        while (!queue.isEmpty()) {            // é€‰å‡ºè§£é”çš„è¾¹çš„æœ€å°çš„è¾¹åˆ¤æ–­            Edge edge = queue.remove();            Node to = edge.to;            // å¦‚æœè¿™ä¸ªè¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹æ²¡æœ‰åŠ å…¥ï¼Œåˆ™åŠ å…¥åˆ°ç»“æœä¸­ï¼ŒåŒæ—¶æŠŠæ–°åŠ å…¥çš„é¡¶ç‚¹çš„æ‰€æœ‰è¾¹ï¼ˆæ–°è§£é”çš„è¾¹ï¼‰åŠ å…¥åˆ°å †ä¸­            if (visited.contains(to)) {                continue;            }            // å¦‚æœè¯¥é¡¶ç‚¹æ˜¯æ–°é¡¶ç‚¹ï¼Œåˆ™è¿™ä¸ªè¾¹ä¹Ÿå¯ä»¥åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ä¸­            visited.add(to);            System.out.println(edge.from.value + \" \" + edge.to.value + \" \" + edge.weight);            queue.addAll(to.edges);        }    }}\n4.7 å‰ç¼€Trieæ ‘\ntrieå‰ç¼€æ ‘\nclass Trie {    boolean isEnd = false;    Trie[] next = new Trie[26];    public Trie() {            }        public void insert(String word) {        if (search(word)) {            return;        }        char[] words = word.toCharArray();        Trie cur = this;        for (char ch : words) {            int index = ch - 'a';            if (cur.next[index] == null) {                cur.next[index] = new Trie();            }            cur = cur.next[index];        }        cur.isEnd = true;    }        public boolean search(String word) {        Trie cur = this;        char[] words = word.toCharArray();        for (char ch : words) {            int index = ch - 'a';            if (cur.next[index] == null) {                return false;            }            cur = cur.next[index];        }        return cur.isEnd;    }        public boolean startsWith(String prefix) {        Trie cur = this;        char[] words = prefix.toCharArray();        for (char ch : words) {            int index = ch - 'a';            if (cur.next[index] == null) {                return false;            }            cur = cur.next[index];        }        return true;    }}/** * Your Trie object will be instantiated and called as such: * Trie obj = new Trie(); * obj.insert(word); * boolean param_2 = obj.search(word); * boolean param_3 = obj.startsWith(prefix); */\nclass Trie {public:    vector&lt;Trie*&gt; next;    bool is_end;    Trie() : next(26), is_end(false) {}    // c++éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œå› ä¸ºnextæ•°ç»„ä¸­çš„æŒ‡é’ˆæ˜¯newå‡ºæ¥çš„ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼    // è™½ç„¶ç®—æ³•é¢˜æ˜¯ä¸€æ¬¡è¿è¡Œï¼ŒåŸºæœ¬ä¸ä¼šå‡ºç°å†…å­˜æ³„æ¼ï¼Œä½†æ˜¯åœ¨ç¬”è¯•é¢è¯•ä¸­å°½å¯èƒ½å®Œå–„ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨é‡Šæ”¾    ~Trie() {        for (auto &amp;p : next) {            if (p != nullptr) {                delete p;            }        }    }        void insert(string word) {        if (search(word)) {            return;        }        Trie *cur = this;        for (auto &amp;ch : word) {            int index = ch - 'a';            if (cur-&gt;next[index] == nullptr) {                // è¿™é‡Œè¿›è¡Œäº†newæ“ä½œç”³è¯·äº†ç©ºé—´ï¼Œéœ€è¦åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾æ‰                cur-&gt;next[index] = new Trie();            }            cur = cur-&gt;next[index];        }        cur-&gt;is_end = true;    }        bool search(string word) {        Trie *cur = this;        for (auto &amp;ch : word) {            int index = ch - 'a';            if (cur-&gt;next[index] == nullptr) {                return false;            }            cur = cur-&gt;next[index];        }        return cur-&gt;is_end;    }        bool startsWith(string prefix) {        Trie *cur = this;        for (auto &amp;ch : prefix) {            int index = ch - 'a';            if (cur-&gt;next[index] == nullptr) {                return false;            }            cur = cur-&gt;next[index];        }        return true;    }};/** * Your Trie object will be instantiated and called as such: * Trie* obj = new Trie(); * obj-&gt;insert(word); * bool param_2 = obj-&gt;search(word); * bool param_3 = obj-&gt;startsWith(prefix); */\npublic class Code01_Trie {\t// æµ‹è¯•é“¾æ¥ : https://leetcode.cn/problems/implement-trie-ii-prefix-tree/\t// æäº¤Trieç±»å¯ä»¥ç›´æ¥é€šè¿‡\t// åŸæ¥ä»£ç æ˜¯å¯¹çš„ï¼Œä½†æ˜¯æ—¢ç„¶æ‰¾åˆ°äº†ç›´æ¥æµ‹è¯•çš„é“¾æ¥ï¼Œé‚£å°±ç›´æ¥æµ‹å§\t// è¿™ä¸ªé“¾æ¥ä¸Šè¦æ±‚å®ç°çš„åŠŸèƒ½å’Œè¯¾ä¸Šè®²çš„å®Œå…¨ä¸€æ ·\t// è¯¥å‰ç¼€æ ‘çš„è·¯ç”¨æ•°ç»„å®ç°\tclass Trie {\t\tclass Node {\t\t\tpublic int pass;\t\t\tpublic int end;\t\t\tpublic Node[] nexts;\t\t\tpublic Node() {\t\t\t\tpass = 0;\t\t\t\tend = 0;\t\t\t\tnexts = new Node[26];\t\t\t}\t\t}\t\tprivate Node root;\t\tpublic Trie() {\t\t\troot = new Node();\t\t}\t\tpublic void insert(String word) {\t\t\tif (word == null) {\t\t\t\treturn;\t\t\t}\t\t\tchar[] str = word.toCharArray();\t\t\tNode node = root;\t\t\tnode.pass++;\t\t\tint path = 0;\t\t\tfor (int i = 0; i &lt; str.length; i++) { // ä»å·¦å¾€å³éå†å­—ç¬¦\t\t\t\tpath = str[i] - 'a'; // ç”±å­—ç¬¦ï¼Œå¯¹åº”æˆèµ°å‘å“ªæ¡è·¯\t\t\t\tif (node.nexts[path] == null) {\t\t\t\t\tnode.nexts[path] = new Node();\t\t\t\t}\t\t\t\tnode = node.nexts[path];\t\t\t\tnode.pass++;\t\t\t}\t\t\tnode.end++;\t\t}\t\tpublic void erase(String word) {\t\t\tif (countWordsEqualTo(word) != 0) {\t\t\t\tchar[] chs = word.toCharArray();\t\t\t\tNode node = root;\t\t\t\tnode.pass--;\t\t\t\tint path = 0;\t\t\t\tfor (int i = 0; i &lt; chs.length; i++) {\t\t\t\t\tpath = chs[i] - 'a';\t\t\t\t\tif (--node.nexts[path].pass == 0) {\t\t\t\t\t\tnode.nexts[path] = null;\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tnode = node.nexts[path];\t\t\t\t}\t\t\t\tnode.end--;\t\t\t}\t\t}\t\tpublic int countWordsEqualTo(String word) {\t\t\tif (word == null) {\t\t\t\treturn 0;\t\t\t}\t\t\tchar[] chs = word.toCharArray();\t\t\tNode node = root;\t\t\tint index = 0;\t\t\tfor (int i = 0; i &lt; chs.length; i++) {\t\t\t\tindex = chs[i] - 'a';\t\t\t\tif (node.nexts[index] == null) {\t\t\t\t\treturn 0;\t\t\t\t}\t\t\t\tnode = node.nexts[index];\t\t\t}\t\t\treturn node.end;\t\t}\t\tpublic int countWordsStartingWith(String pre) {\t\t\tif (pre == null) {\t\t\t\treturn 0;\t\t\t}\t\t\tchar[] chs = pre.toCharArray();\t\t\tNode node = root;\t\t\tint index = 0;\t\t\tfor (int i = 0; i &lt; chs.length; i++) {\t\t\t\tindex = chs[i] - 'a';\t\t\t\tif (node.nexts[index] == null) {\t\t\t\t\treturn 0;\t\t\t\t}\t\t\t\tnode = node.nexts[index];\t\t\t}\t\t\treturn node.pass;\t\t}\t}}\n4.8 è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•\nç½‘ç»œå»¶è¿Ÿæ—¶é—´\n\næ™®é€šç®—æ³•\n\npublic static Map&lt;Node, Integer&gt; dijkstra(Graph graph) {    // ä¿å­˜èµ·å§‹é¡¶ç‚¹åˆ°æ¯ä¸ªé¡¶ç‚¹çš„è·ç¦»ï¼Œå¦‚æœæ²¡æœ‰åˆ™è®¤ä¸ºè·ç¦»ä¸ºæ­£æ— ç©·    Map&lt;Node, Integer&gt; distanceMap = new HashMap&lt;&gt;();    // è®¾ç½®0ä¸ºèµ·å§‹é¡¶ç‚¹    Node minNode = graph.nodes.get(0);    // èµ·å§‹é¡¶ç‚¹åˆ°è‡ªå·±çš„è·ç¦»ä¸º0    distanceMap.put(minNode, 0);    // ä¿å­˜å“ªäº›é¡¶ç‚¹åŠ å…¥åˆ°åˆ¤æ–­å®Œçš„é›†åˆä¸­ï¼ˆè·ç¦»å·²ç»æ˜¯æœ€çŸ­çš„ï¼‰    Set&lt;Node&gt; visited = new HashSet&lt;&gt;();    while (minNode != null) {        Integer distance = distanceMap.get(minNode);        for (Edge edge : minNode.edges) {            // å¦‚æœä¸å­˜åœ¨åˆ™è¡¨ç¤ºèµ·å§‹é¡¶ç‚¹åˆ°edge.toé¡¶ç‚¹è·ç¦»ä¸ºæ­£æ— ç©·ï¼Œç›´æ¥æ·»åŠ             // å¦‚æœå­˜åœ¨åˆ™éœ€è¦åˆ¤æ–­  èµ·å§‹é¡¶ç‚¹ç›´æ¥åˆ°edge.toé¡¶ç‚¹çš„è·ç¦»  å’Œ            // èµ·å§‹é¡¶ç‚¹åˆ°minNodeé¡¶ç‚¹åŠ ä¸ŠminNodeåˆ°edge.toçš„è·ç¦»å“ªä¸ªæ›´å°            if (!distanceMap.containsKey(edge.to)) {                distanceMap.put(edge.to, distance + edge.weight);            } else {                distanceMap.put(edge.to, Math.min(distance + edge.weight, distanceMap.get(edge.to)));            }        }        // æ›´æ–°ç»“æŸï¼Œå°†minNodeåŠ å…¥é›†åˆä¸­        visited.add(minNode);        // minNodeç½®ä¸ºnullï¼Œ(é‡è¦)ï¼Œåç»­å¾ªç¯é€€å‡ºæ¡ä»¶æ˜¯é€šè¿‡åˆ¤æ–­minNodeæ˜¯å¦ä¸ºç©º        minNode = null;        // ä¿å­˜æœ€å°è·ç¦»        int minDist = Integer.MAX_VALUE;        // éå†æ‰€æœ‰çš„è·ç¦»ï¼Œåœ¨æ²¡æœ‰åˆ¤æ–­ç¡®å®šçš„é¡¶ç‚¹ä¸­é€‰æ‹©è·ç¦»æœ€çŸ­çš„        for (Map.Entry&lt;Node, Integer&gt; entry : distanceMap.entrySet()) {            Node node = entry.getKey();            Integer dist = entry.getValue();            // å¦‚æœå·²ç»æ˜¯åˆ¤æ–­è¿‡çš„é¡¶ç‚¹åˆ™ç›´æ¥è·³è¿‡            if (!visited.contains(node) &amp;&amp; minDist &gt; dist) {                minDist = dist;                minNode = node;            }        }    }    return distanceMap;}\nå¦ä¸€ç§æ–¹å¼ï¼ˆæ¨èï¼‰ï¼Œå›¾å­˜å‚¨æ–¹å¼ç®€å•äº›\nclass Solution {    public int networkDelayTime(int[][] times, int n, int k) {        Node[] g = new Node[n];        for (int i = 0; i &lt; n; i++) {            g[i] = new Node();        }        for (int[] time : times) {            g[time[0] - 1].edges.add(new Edge(time[1] - 1, time[2]));        }        int[] dist = new int[n];        Arrays.fill(dist, 0x3f3f3f3f);        boolean[] st = new boolean[n];        dist[k - 1] = 0;        for (int i = 0; i &lt; n - 1; i++) {            int t = -1;            for (int j = 0; j &lt; n; j++) {                if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j])) {                    t = j;                }            }            st[t] = true;            for (Edge edge : g[t].edges) {                dist[edge.n] = Math.min(dist[edge.n], dist[t] + edge.w);            }        }        int maxDist = Arrays.stream(dist).max().getAsInt();        return maxDist == 0x3f3f3f3f ? -1 : maxDist;    }}class Edge {    int n, w;    public Edge(int node, int weight) {        n = node;        w = weight;    }}class Node {    List&lt;Edge&gt; edges = new ArrayList&lt;&gt;();}\nanother cppç‰ˆæœ¬\nclass Solution {public:    struct Edge {        int n, w;    };    int INF = 0x3f3f3f3f;    int networkDelayTime(vector&lt;vector&lt;int&gt;&gt;&amp; times, int n, int k) {        // ä¸¤ä¸ªvectorè¡¨ç¤ºé‚»æ¥è¡¨        // vector&lt;vector&lt;Edge&gt;&gt; g(n);        // æˆ–è€…vector&lt;Edge&gt;æ•°ç»„è¡¨ç¤ºé‚»æ¥è¡¨        vector&lt;Edge&gt; g[n];        // foreachå¾ªç¯ä½¿ç”¨å¼•ç”¨æé«˜é€Ÿåº¦        for (auto &amp;time : times) {            g[time[0] - 1].push_back({time[1] - 1, time[2]});        }        int dist[n];        bool st[n];        memset(dist, 0x3f, sizeof dist);        memset(st, 0, sizeof st);        dist[k - 1] = 0;        for (int i = 0; i &lt; n - 1; i++) {            int t = -1;            for (int j = 0; j &lt; n; j++) {                if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j])) {                    t = j;                }            }            st[t] = true;            for (auto &amp;edge : g[t]) {                dist[edge.n] = min(dist[edge.n], dist[t] + edge.w);            }        }        int maxDist = *max_element(dist, dist + n);        return maxDist == INF ? -1 : maxDist;    }};\n\nä¼˜åŒ–ç®—æ³•\n\n5 è´ªå¿ƒç®—æ³•\n5.1 ä¼šè®®å®‰æ’\nLeetCode\n646\nclass Solution {    public int findLongestChain(int[][] pairs) {        Arrays.sort(pairs, (a, b) -&gt; a[1] - b[1]);        int retLength = 0, curTime = Integer.MIN_VALUE;        for (int[] pair : pairs) {            if (curTime &lt; pair[0]) {                retLength++;                curTime = pair[1];            }        }        return retLength;    }}\n\nclass Program {    int start, end;}public static int maxMeetings(Program[] programs) {    // æŒ‰ç…§ç»“æŸæ—¶é—´æ’åº    Arrays.sort(programs, (p1, p2) -&gt; p1.end - p2.end);    int timePoint = programs[0].start;    int ret = 0;    for (int i = 0; i &lt; programs.length; i++) {        if (timePoint &lt;= programs[i].start) {            timePoint = programs[i].end;            ret++;        }    }    return ret;}\n5.2 å­—ç¬¦ä¸²æ•°ç»„æ’åº\npublic static void sortString(String[] strs) {    // æŒ‰ç…§ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸åŒæ‹¼æ¥æ–¹å¼æ’åº    Arrays.sort(strs, (s1, s2) -&gt; (s1 + s2).compareTo(s2 + s1));}\n5.3 é‡‘æ¡åˆ’åˆ†\n\n\næŒ‰ç…§ä¸Šå›¾ä¸­çš„ä¸¤ä¸ªä¸åŒåˆ†å‰²æ³•ï¼š\n\nç¬¬ä¸€ç§ï¼šå…ˆåˆ’åˆ†ä¸º10å’Œ50ï¼Œæ¶ˆè€—60ï¼Œå†åˆ’åˆ†ä¸º20å’Œ30ï¼Œæ¶ˆè€—50ï¼Œæ€»è®¡110ã€‚\nç¬¬äºŒç§ï¼šå…ˆåˆ’åˆ†ä¸º30å’Œ30ï¼Œæ¶ˆè€—60ï¼Œå†åˆ’åˆ†ä¸º10å’Œ20ï¼Œæ¶ˆè€—30ï¼Œæ€»è®¡90ã€‚\n\nå¦‚æœè¦å–åˆ°æœ€å°çš„ï¼Œéœ€è¦å…ˆæŒ‰ç…§æœ€å¤§çš„åˆ’åˆ†ï¼Œé€†å‘è¿‡æ¥ï¼Œè¿™æ˜¯ä¸€é¢—å“ˆå¤«æ›¼æ ‘ã€‚\npublic static int lessMoney(int[] arr) {    Queue&lt;Integer&gt; heap = new PriorityQueue&lt;&gt;();    for (int a : arr) {        heap.add(a);    }    int cur = 0, sum = 0;    while (heap.size() &gt; 1) {        cur = heap.remove() + heap.remove();        sum += cur;        heap.add(cur);    }    return sum;}\n5.4 åˆ©æ¶¦æœ€å¤§\nLeetCode\n502\nå…ˆæŒ‰ç…§æˆæœ¬èŠ±è´¹å‡åºæ’åºï¼Œæ¯ä¸€è½®é€‰å‡ºå¯ä»¥åšçš„ï¼ˆæˆæœ¬ä¸å¤§äºå½“å‰èµ„é‡‘çš„ï¼‰é¡¹ç›®ï¼ŒåŠ å…¥åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ä¿å­˜ï¼Œé€‰å‡ºåˆ©æ¶¦æœ€å¤§çš„åšï¼Œç„¶åæ›´æ–°å½“å‰å¯ç”¨èµ„é‡‘ã€‚\nclass Solution {    public int findMaximizedCapital(int k, int w, int[] profits, int[] capital) {        Queue&lt;Pair&gt; capHeap = new PriorityQueue&lt;&gt;((p1, p2) -&gt; p1.c - p2.c);        Queue&lt;Pair&gt; proHeap = new PriorityQueue&lt;&gt;((p1, p2) -&gt; p2.p - p1.p);        for (int i = 0; i &lt; profits.length; i++) {            capHeap.add(new Pair(profits[i], capital[i]));        }        for (int i = 0; i &lt; k; i++) {            while (!capHeap.isEmpty() &amp;&amp; capHeap.peek().c &lt;= w) {                proHeap.add(capHeap.remove());            }            if (proHeap.isEmpty()) {                return w;            }            w += proHeap.remove().p;        }        return w;    }}class Pair {    int p, c;    public Pair(int p, int c) {        this.p = p;        this.c = c;    }}\n5.5 æ•°æ®æµçš„ä¸­ä½æ•°(å †çš„åº”ç”¨)\nLeetCode\n295\nç”¨ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªå¤§æ ¹å †ä¸€ä¸ªå°æ ¹å †ï¼Œå…¶ä¸­å¤§æ ¹å †ä¿å­˜å°äºç­‰äºä¸­ä½æ•°éƒ¨åˆ†çš„æ•°æ®ï¼Œå°æ ¹å †ä¿å­˜å¤§äºä¸­ä½æ•°éƒ¨åˆ†çš„æ•°æ®ã€‚\næ’å…¥æ•°æ®ç®—æ³•æµç¨‹ï¼š\n\nå¦‚æœå¤§æ ¹å †ç©ºï¼Œç›´æ¥åŠ å…¥å¤§æ ¹å †ï¼Œç»“æŸï¼Œå¦åˆ™æ‰§è¡Œ2\nå¦‚æœå°äºç­‰äºå¤§æ ¹å †å †é¡¶ï¼ŒåŠ å…¥å¤§æ ¹å †ï¼Œå¦åˆ™åŠ å…¥å°æ ¹å †\nåˆ¤æ–­å¤§å°æ ¹å †æ•°æ®é‡å·®å€¼ï¼Œå¦‚æœæ’å€¼å¤§äº1ï¼Œåˆ™å°†æ•°æ®é‡å¤šçš„å †çš„å †é¡¶å¼¹å‡ºåŠ å…¥åˆ°å¦ä¸€ä¸ªå †ä¸­\n\næŸ¥è¯¢ç®—æ³•æµç¨‹ï¼š\n\nå¦‚æœä¸¤ä¸ªå †æ•°æ®é‡ç›¸åŒï¼Œåˆ™å¤§å°æ ¹å †æŸ¥è¯¢å †é¡¶ç›¸åŠ é™¤ä»¥2ï¼Œå¾—åˆ°ä¸­ä½æ•°ï¼Œç»“æŸï¼Œå¦åˆ™æ‰§è¡Œ2\nè¿”å›æ•°æ®é‡å¤§çš„å †çš„å †é¡¶å…ƒç´ \n\n\n\n5.5-1.drawio.svg\n\nclass MedianFinder {    private Queue&lt;Integer&gt; maxHeap = new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);    private Queue&lt;Integer&gt; minHeap = new PriorityQueue&lt;&gt;();    public MedianFinder() {    }        public void addNum(int num) {        if (maxHeap.isEmpty()) {            maxHeap.add(num);            return;        }        if (num &lt;= maxHeap.peek()) {            maxHeap.add(num);        } else {            minHeap.add(num);        }        if (maxHeap.size() - minHeap.size() &gt; 1) {            minHeap.add(maxHeap.remove());        } else if (minHeap.size() - maxHeap.size() &gt; 1) {            maxHeap.add(minHeap.remove());        }    }        public double findMedian() {        if (maxHeap.size() == minHeap.size()) {            return (maxHeap.peek() + minHeap.peek()) / 2.0;        }        if (maxHeap.size() &gt; minHeap.size()) {            return maxHeap.peek();        } else {            return minHeap.peek();        }    }}/** * Your MedianFinder object will be instantiated and called as such: * MedianFinder obj = new MedianFinder(); * obj.addNum(num); * double param_2 = obj.findMedian(); */\n6 æš´åŠ›é€’å½’\nLeetCode\n940\n6.1 å­—ç¬¦ä¸²å…¨æ’åˆ—\nLeetCode\n46\n\nä¸å»é‡\nå»é‡\n\npublic static List&lt;String&gt; permutation3(String s) {    List&lt;String&gt; ans = new ArrayList&lt;&gt;();    if (s == null || s.length() == 0) {        return ans;    }    char[] str = s.toCharArray();    g2(str, 0, ans);    return ans;}public static void g2(char[] str, int index, List&lt;String&gt; ans) {    if (index == str.length) {        ans.add(String.valueOf(str));    } else {        boolean[] visited = new boolean[256];        for (int i = index; i &lt; str.length; i++) {            // ä¸å»é‡åˆ é™¤æ‰è¿™ä¸ªifåˆ¤æ–­ä»£ç å³å¯            if (!visited[str[i]]) {                visited[str[i]] = true;                swap(str, index, i);                g2(str, index + 1, ans);                swap(str, index, i);            }        }    }}\n6.2 é¢„æµ‹èµ¢å®¶\nLeetCode\n486\nclass Solution {    public boolean predictTheWinner(int[] nums) {        return dfs(nums, 0, nums.length - 1) &gt;= 0;    }    private int dfs(int[] nums, int i, int j) {        if (i == j) {            return nums[i];        }        int left = nums[i] - dfs(nums, i + 1, j);        int right = nums[j] - dfs(nums, i, j - 1);        return Math.max(left, right);    }}\nå¯ä»¥è®¾ç½®ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºå…ˆæ‰‹å’Œåæ‰‹å‡½æ•°ã€‚è®°ä¸ºf(arr, l, r)å’Œs(arr, l, r)åˆ†åˆ«è¡¨ç¤ºåœ¨arrä¸­çš„lå’ŒrèŒƒå›´å†…è¿›è¡Œå†³ç­–å¾—åˆ°çš„ç»“æœã€‚\nint f(arr, l, r) {    // å¦‚æœåªæœ‰ä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆå…ˆæ‰‹åªèƒ½æ‹¿è¿™ä¸€ä¸ª    if (l == r) {        return arr[l];    }    // å¦åˆ™æœ‰ä¸¤ç§å†³ç­–æƒ…å†µï¼Œä¸€ç§æ˜¯æ‹¿æœ€å·¦ä¾§ï¼Œä¸€ç§æ˜¯æ‹¿æœ€å³ä¾§    // è€Œæ‹¿å®Œåï¼Œå‰©ä¸‹çš„æ•°å¯¹äºå½“å‰æ¥è¯´å±äºåæ‰‹ï¼Œæ‰€ä»¥è°ƒç”¨åæ‰‹å‡½æ•°ï¼Œè€Œä¸ºäº†ä¿è¯å½“å‰åˆ†æ•°ä¸ºæœ€å¤§å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨maxå–æœ€å¤§å€¼    return max(arr[l] + s(arr, l + 1, r), arr[r] + s(arr, l, r - 1));}\nint s(arr, l, r) {    // å¦‚æœä¸ºåæ‰‹ï¼Œåªæœ‰ä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆå…ˆæ‰‹ä¼šæ‹¿åˆ°è¿™ä¸ªæ•°ï¼Œåæ‰‹æ²¡å¾—æ‹¿åªèƒ½è¿”å›0    if (l == r) {        return 0;    }    // åæ‰‹æ‹¿[l, r]èŒƒå›´å†…çš„æ•°ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼Œå› ä¸ºå…ˆæ‰‹åªèƒ½æ‹¿æœ€å·¦ä¾§æˆ–æœ€å³ä¾§ã€‚    // å…ˆæ‰‹æ‹¿å®Œåï¼Œåæ‰‹å˜æˆäº†å…ˆæ‰‹ï¼Œæ‰€ä»¥è°ƒç”¨å…ˆæ‰‹å‡½æ•°ã€‚    // è€ŒåŒæ—¶ä¸¤ä¸ªäººéƒ½ä¿è¯åˆ†æ•°æœ€å¤§åŒ–ï¼Œæ‰€ä»¥å…ˆæ‰‹æ‹¿å®Œåè‚¯å®šè¦ä¿è¯åæ‰‹æ˜¯åˆ†æ•°æœ€å°åŒ–ï¼Œæ‰€ä»¥éœ€è¦å–æœ€å°å€¼ã€‚    return min(f(arr, l + 1, r), f(arr, l, r - 1));}\n1423.\nå¯è·å¾—çš„æœ€å¤§ç‚¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰\n6.3 è§£ç æ–¹æ³•\nLeetCode\n91\né€’å½’æ–¹æ³•ï¼ˆä¼šè¶…æ—¶ï¼‰\nclass Solution {    public int numDecodings(String s) {        return numDecodings(s.toCharArray(), 0);    }    public int numDecodings(char[] chs, int i) {        if (i == chs.length) {            return 1;        }        if (chs[i] == '0') {            return 0;        }        int ret = numDecodings(chs, i + 1);        if (chs[i] == '1') {            if (i + 1 &lt; chs.length) {                ret += numDecodings(chs, i + 2);            }        }        if (chs[i] == '2') {            if (i + 1 &lt; chs.length &amp;&amp; chs[i + 1] &lt; '7') {                ret += numDecodings(chs, i + 2);            }        }        return ret;    }}\n6.4 nçš‡åé—®é¢˜\nå¸¸è§„æ–¹æ³•\n// å½“å‰æ¥åˆ°iè¡Œï¼Œä¸€å…±æ˜¯0~N-1è¡Œ// åœ¨iè¡Œä¸Šæ”¾çš‡åï¼Œæ‰€æœ‰åˆ—éƒ½å°è¯•// å¿…é¡»è¦ä¿è¯è·Ÿä¹‹å‰æ‰€æœ‰çš„çš‡åä¸æ‰“æ¶// int[] record record[x] = y ä¹‹å‰çš„ç¬¬xè¡Œçš„çš‡åï¼Œæ”¾åœ¨äº†yåˆ—ä¸Š// è¿”å›ï¼šä¸å…³å¿ƒiä»¥ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆï¼Œi.... åç»­æœ‰å¤šå°‘åˆæ³•çš„æ–¹æ³•æ•°public static int process1(int i, int[] record, int n) {    if (i == n) {        return 1;    }    int res = 0;    // iè¡Œçš„çš‡åï¼Œæ”¾å“ªä¸€åˆ—å‘¢ï¼Ÿjåˆ—ï¼Œ    for (int j = 0; j &lt; n; j++) {        if (isValid(record, i, j)) {            record[i] = j;            res += process1(i + 1, record, n);        }    }    return res;}public static boolean isValid(int[] record, int i, int j) {    // 0..i-1    for (int k = 0; k &lt; i; k++) {        // åˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨åŒä¸€åˆ—æˆ–è€…æ˜¯åœ¨åŒä¸€æ–œçº¿ä¸Šï¼Œæ­¤å¤„ç”¨æ–œç‡åˆ¤æ–­ï¼Œ1æˆ–è€…-1        if (j == record[k] || Math.abs(record[k] - j) == Math.abs(i - k)) {            return false;        }    }    return true;}\n// è¯·ä¸è¦è¶…è¿‡32çš‡åé—®é¢˜public static int num2(int n) {    if (n &lt; 1 || n &gt; 32) {        return 0;    }    // å¦‚æœä½ æ˜¯13çš‡åé—®é¢˜ï¼Œlimit æœ€å³13ä¸ª1ï¼Œå…¶ä»–éƒ½æ˜¯0    int limit = n == 32 ? -1 : (1 &lt;&lt; n) - 1;    return process2(limit, 0, 0, 0);}// 7çš‡åé—®é¢˜// limit : 0....0 1 1 1 1 1 1 1// ä¹‹å‰çš‡åçš„åˆ—å½±å“ï¼šcolLim// ä¹‹å‰çš‡åçš„å·¦ä¸‹å¯¹è§’çº¿å½±å“ï¼šleftDiaLim// ä¹‹å‰çš‡åçš„å³ä¸‹å¯¹è§’çº¿å½±å“ï¼šrightDiaLimpublic static int process2(int limit, int colLim, int leftDiaLim, int rightDiaLim) {    if (colLim == limit) {        return 1;    }    // posä¸­æ‰€æœ‰æ˜¯1çš„ä½ç½®ï¼Œæ˜¯ä½ å¯ä»¥å»å°è¯•çš‡åçš„ä½ç½®    int pos = limit &amp; (~(colLim | leftDiaLim | rightDiaLim));    int mostRightOne = 0;    int res = 0;    while (pos != 0) {        mostRightOne = pos &amp; (~pos + 1);        pos = pos - mostRightOne;        res += process2(limit, colLim | mostRightOne, (leftDiaLim | mostRightOne) &lt;&lt; 1,                        (rightDiaLim | mostRightOne) &gt;&gt;&gt; 1);    }    return res;}\næ‰“å°æ‰€æœ‰å¯èƒ½çš„nçš‡åè§£æ³•ï¼š\nimport java.util.*;class Main {    public static StringBuilder sb = new StringBuilder();    public static char[][] g;    public static int[] record;    public static void main(String[] args) {        Scanner sc = new Scanner(System.in);        int n = sc.nextInt();        g = new char[n][n];        record = new int[n];        Arrays.fill(record, -1);        for (int i = 0; i &lt; n; i++) {            Arrays.fill(g[i], '.');        }        recur(0, n);        sc.close();    }        public static void recur(int i, int n) {        if (i == n) {            // æ¸…ç©ºsbå†…å®¹ã€‚            sb.setLength(0);            for (int k = 0; k &lt; n; k++) {                for (int j = 0; j &lt; n; j++) {                    sb.append(g[k][j]);                }                sb.append('\\n');            }            System.out.println(sb);        } else {            for (int j = 0; j &lt; n; j++) {                if (isValid(i, j)) {                    record[i] = j;                    g[i][j] = 'Q';                    recur(i + 1, n);                    g[i][j] = '.';                    record[i] = -1;                }            }        }    }        public static boolean isValid(int i, int j) {        // (i, j) (k, record[k])        for (int k = 0; k &lt; i; k++) {            if (j == record[k] || Math.abs(i - k) == Math.abs(j - record[k])) {                return false;            }        }        return true;    }}\n51. N çš‡å -\nåŠ›æ‰£ï¼ˆLeetCodeï¼‰\nclass Solution {    public List&lt;List&lt;String&gt;&gt; solveNQueens(int n) {        List&lt;List&lt;String&gt;&gt; ret = new ArrayList&lt;&gt;();        char[][] g = new char[n][n];        StringBuilder sb = new StringBuilder();        int[] record = new int[n];        Arrays.fill(record, -1);        for (int i = 0; i &lt; n; i++) {            Arrays.fill(g[i], '.');        }        dfs(0, n, g, record, ret);        return ret;    }    public void dfs(int i, int n, char[][] g, int[] record, List&lt;List&lt;String&gt;&gt; ret) {        if (i == n) {            List&lt;String&gt; temp = new ArrayList&lt;&gt;();            for (int j = 0; j &lt; n; j++) {                temp.add(String.valueOf(g[j]));            }            ret.add(temp);            return;        }        for (int j = 0; j &lt; n; j++) {            if (isValid(i, j, record)) {                record[i] = j;                g[i][j] = 'Q';                dfs(i + 1, n, g, record, ret);                g[i][j] = '.';                record[i] = -1;            }        }    }    public boolean isValid(int i, int j, int[] record) {        for (int k = 0; k &lt; i; k++) {            if (j == record[k] || Math.abs(i - k) == Math.abs(j - record[k])) {                return false;            }        }        return true;    }}\n7 å“ˆå¸Œå‡½æ•°ä¸å“ˆå¸Œè¡¨\nå“ˆå¸Œå‡½æ•°çš„æ€§è´¨ï¼ˆç®€è¦è®°å½•ï¼‰ï¼š\n\næ— ç©·å¤šçš„å€¼æ˜ å°„åˆ°æœ‰èŒƒå›´çš„å€¼\nç›¸åŒçš„è¾“å…¥å¾—åˆ°ç›¸åŒçš„è¾“å‡º\nä¸åŒçš„è¾“å…¥å¯èƒ½å¾—åˆ°ç›¸åŒçš„è¾“å‡º\næ˜ å°„åçš„å€¼åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€\n\n7.1 ä¾‹é¢˜\né¢˜ç›®ï¼šå¦‚æœæœ‰ä¸€ä¸ª40äº¿æ¡è®°å½•çš„å¤§æ–‡ä»¶ï¼Œç°éœ€è¦æ±‚å‡ºç°æ¬¡æ•°æœ€å¤šçš„è®°å½•ï¼Œé™åˆ¶å†…å­˜ä½¿ç”¨ä¸º1GBã€‚è§£æ³•ï¼šå¦‚æœç›´æ¥é‡‡ç”¨å“ˆå¸Œè¡¨çš„æ–¹å¼æŒ‰ç…§ï¼ˆè®°å½•ï¼Œæ¬¡æ•°ï¼‰çš„æ–¹å¼å­˜å‚¨æ¯ä¸ªè®°å½•çš„æ¬¡æ•°ï¼Œå†…å­˜è‚¯å®šä¼šä¸å¤Ÿã€‚å› æ­¤é‡‡ç”¨å“ˆå¸Œå‡½æ•°é¦–å…ˆå°†è®°å½•åšä¸€æ¬¡å“ˆå¸Œï¼Œç„¶åå°†å¾—åˆ°çš„å€¼æ¨¡100ï¼Œæœ€åè‚¯å®šä¼šå¾—åˆ°ä¸€ä¸ª0-99çš„å€¼ï¼ŒæŒ‰ç…§æ¨¡é™¤åçš„ç»“æœå°†è¯¥æ¡è®°å½•å­˜åˆ°å¯¹åº”çš„å°æ–‡ä»¶ä¸­ï¼Œå†å¯¹æ¯ä¸ªå°æ–‡ä»¶ä½¿ç”¨å“ˆå¸Œè¡¨çš„æ–¹å¼è¿›è¡Œç»Ÿè®¡ï¼ˆæ­¤æ—¶çš„å†…å­˜ç©ºé—´æ˜¯å¤Ÿç”¨çš„ï¼‰ã€‚â—å¦‚æœé‡‡ç”¨æ‘©å°”æŠ•ç¥¨æ³•éœ€è¦ä¿è¯é‡å¤çš„è®°å½•è¶…è¿‡æ€»è®°å½•æ•°çš„ä¸€åŠã€‚\n7.2 å¸ƒéš†è¿‡æ»¤å™¨\nä¸»è¦ç”¨äºç±»ä¼¼é»‘åå•ç³»ç»Ÿï¼ŒæŸ¥æ‰¾å½“å‰è®°å½•æ˜¯å¦å­˜åœ¨äºâ€œé»‘åå•â€ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ªé»‘åå•åªä¼šæ·»åŠ è®°å½•ï¼Œä¸ä¼šåˆ é™¤è®°å½•ï¼Œä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥æ¯”ä½¿ç”¨hashè¡¨å¤§å¤§å‡å°‘ç©ºé—´ã€‚ä½†æ˜¯å¸ƒéš†è¿‡æ»¤å™¨å­˜åœ¨ä¸€å®šçš„å¤±è¯¯ç‡ï¼Œå³ä¸å­˜åœ¨äºé»‘åå•çš„è®°å½•å¯èƒ½ä¹Ÿä¼šè®¤ä¸ºæ˜¯é»‘åå•ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å¤§å°å¤§å¤§é™ä½å¤±è¯¯ç‡ï¼Œä½†æ˜¯å¤±è¯¯ç‡æ˜¯ä¸€ç›´å­˜åœ¨çš„ã€‚ä½¿ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼šäºŒè¿›åˆ¶ä½ç»„æˆçš„é›†åˆã€‚ç®—æ³•è¿‡ç¨‹ï¼š\n\nå‡†å¤‡ä¸ªå“ˆå¸Œå‡½æ•°\næ·»åŠ é»‘åå•\n\néå†é»‘åå•è®°å½•åˆ—è¡¨\n\néå†å“ˆå¸Œå‡½æ•°\n\næ¯ä¸ªå“ˆå¸Œå‡½æ•°æ±‚å¾—ä¸€ä¸ªå“ˆå¸Œå€¼\nå°†ä½é›†åˆä¸­çš„ä½è®¾ç½®ä¸º1\n\n\n\nåˆ¤æ–­æ˜¯å¦åœ¨é»‘åå•ä¸­\n\nå¯¹äºä¸€ä¸ªè®°å½•éå†å“ˆå¸Œå‡½æ•°\n\næ±‚å¾—ä¸€ä¸ªå“ˆå¸Œå€¼\nåˆ¤æ–­æ˜¯å¦ä¸º1\n\nå½“æ‰€æœ‰çš„ä½ç½®éƒ½ä¸º1æ—¶è¯´æ˜åœ¨é»‘åå•ä¸­ï¼ˆå¯èƒ½å­˜åœ¨å¤±è¯¯ï¼‰ï¼Œå¦åˆ™ä¸åœ¨\n\n\né¦–å…ˆéœ€è¦æ„é€ ä¸€ä¸ªäºŒè¿›åˆ¶ä½é›†åˆï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨intæ•°ç»„çš„å½¢å¼ï¼Œæ¯ä¸€ä¸ªå€¼è¡¨ç¤º32ä½\n// è®¾æ€»å…±éœ€è¦mä½çš„é›†åˆ// ä¸Šå–æ•´int a[ceil(m / 32)];// å°†ç¬¬iä½è®¾ç½®ä¸º1void setI1(int *a, int i) {    int index = i / 32, bit_index = i % 32;    a[index] = a[index] | (1 &lt;&lt; bit_index);}// å°†ç¬¬iä½è®¾ç½®ä¸º0void setI0(int *a, int i) {    int index = i / 32, bit_index = i % 32;    a[index] = a[index] &amp; (~(1 &lt;&lt; bit_index))}// è·å–ç¬¬iä½çš„å€¼ï¼ˆ0æˆ–1ï¼‰int getI(int *a, int i) {    int index = i / 32, bit_index = i % 32;    return (a[index] &gt;&gt; bit_index) &amp; 1;}\nğŸ°ä½çš„é›†åˆé•¿åº¦å’Œä¸ªå“ˆå¸Œå‡½æ•°æ€ä¹ˆç¡®å®šå’Œçš„å€¼å‘¢ï¼Ÿå¯ä»¥ç”¨ä¸‰ä¸ªå…¬å¼æ¥ç¡®å®šï¼Œé¦–å…ˆç»™å®šæ ·æœ¬é‡ï¼ˆå³é»‘åå•æ•°é‡ï¼‰å’Œå¤±è¯¯ç‡ï¼Œæœ‰ï¼šçœŸçœŸçœŸçœŸå‰ä¸¤ä¸ªå…¬å¼è®¡ç®—å‡ºçš„æ˜¯ç†è®ºä¸Šçš„é›†åˆé•¿åº¦å’Œç†è®ºä¸Šçš„å“ˆå¸Œå‡½æ•°ä¸ªæ•°ï¼Œå®é™…ä¸­é›†åˆé•¿åº¦å¯ä»¥æ›´å¤§ä¸€äº›å³çœŸï¼Œè€Œå“ˆå¸Œå‡½æ•°ä¸ªæ•°éœ€è¦é‡‡ç”¨ä¸Šå–æ•´çš„æ–¹å¼å³çœŸï¼Œä»¥æ­¤å†æ¬¡æ±‚å¾—çœŸå®çš„å¤±è¯¯ç‡ã€‚\n7.3 ä¸€è‡´æ€§å“ˆå¸Œ\næœåŠ¡å™¨åˆ©ç”¨hash\nkeyè¿›è¡Œåˆ’åˆ†åšè´Ÿè½½å‡è¡¡ï¼Œå°½é‡é€‰å–ç§ç±»å¤šï¼Œä¸”åˆ†å¸ƒè¾ƒå‡åŒ€çš„keyã€‚å¦åˆ™ä¼šå¯¼è‡´æŸäº›æœåŠ¡å™¨èµ„æºåˆ©ç”¨è¿‡å¤šï¼ˆå¦‚æŸäº›keyä½¿ç”¨å¾ˆå¤šï¼Œä½†å¦ä¸€äº›ä½¿ç”¨å¾ˆå°‘ï¼‰ã€‚å¦‚æœåæœŸéœ€è¦å¢åŠ æœåŠ¡å™¨æˆ–è€…å‡å°‘ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®è¿ç§»ï¼Œè€Œè¿™ä¸ªæ•°æ®è¿ç§»æ˜¯å…¨é‡çš„è¿ç§»ã€‚ä¸ºäº†è§£å†³æ•°æ®è¿ç§»çš„é—®é¢˜ï¼Œå¯ä»¥å°†è¿›è¡Œhashè¿ç®—è¿‡åçš„æ•°å€¼èŒƒå›´çœ‹ä½œä¸€ä¸ªç¯ï¼Œå°†æœåŠ¡å™¨åˆ†é…åˆ°hashç¯ä¸Šï¼Œç„¶åè®¿é—®æˆ–æ·»åŠ æ—¶ï¼Œè®¡ç®—hashå€¼åï¼Œåˆ¤æ–­ç»“æœè·ç¦»å“ªä¸ªæœåŠ¡å™¨çš„hashå€¼æœ€è¿‘ï¼ˆå¯ä»¥ç»Ÿä¸€é‡‡ç”¨é¡ºæ—¶é’ˆçš„æ–¹å¼ï¼‰ï¼Œè¿™æ ·ä¹‹åå¦‚æœè¦æ·»åŠ æœåŠ¡å™¨m4ï¼ˆå‡è®¾è®¡ç®—åä½äºm2å’Œm3ä¸­é—´ï¼‰ï¼Œæ•°æ®åªéœ€è¦è¿ç§»m2å’Œm4ä¹‹é—´çš„æ•°æ®åˆ°m4ä¸­å³å¯ã€‚å¤§å¤§å‡å°äº†è¿ç§»é‡ï¼Œä½†æ˜¯è¿™ä¼šå¼•èµ·æ–°çš„é—®é¢˜ï¼š\n\næ— æ³•ä¿è¯åˆå§‹åˆ†é…çš„èŠ‚ç‚¹æ¯”è¾ƒå°‘æ—¶æ˜¯å‡åŒ€åˆ†é…çš„ï¼ˆhashè®¡ç®—èƒ½ä¿è¯å¤§æ•°æ®é‡çš„æƒ…å†µä¸‹æ˜¯å‡åˆ†çš„ï¼‰\næ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹åä¹Ÿä¸èƒ½ä¿è¯æ·»åŠ ä¹‹åæ˜¯å‡åˆ†çš„\n\nè§£å†³æ–¹å¼ï¼šè™šæ‹ŸèŠ‚ç‚¹å‡è®¾m1æœ‰1000ä¸ªï¼ˆè™šæ‹Ÿï¼‰èŠ‚ç‚¹åç§°ï¼š(a1,\na2, a3, ...,\na1000ï¼‰ï¼Œm2å’Œm3åŒç†å°†è¿™3000ä¸ªè™šæ‹ŸèŠ‚ç‚¹è®¡ç®—hashååˆ†å¸ƒåˆ°hashç¯ä¸­ï¼Œæ•°æ®é‡è¾ƒå¤§ï¼Œå¯ä»¥ä¿è¯åˆ†é…æ¯”è¾ƒå‡åŒ€ã€‚åŒæ—¶å¦‚æœåŠ å…¥èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯æŒ‰ç…§è™šæ‹ŸèŠ‚ç‚¹åŠ å…¥ï¼Œä¹Ÿèƒ½ä¿è¯åŠ å…¥åçš„åˆ†å¸ƒè¾ƒå‡åŒ€ã€‚è¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœm1çš„æ€§èƒ½è¾ƒå¥½ï¼Œå¯ä»¥ç»™m1è®¾ç½®è¾ƒå¤šçš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œè®©æ›´å¤šçš„æ•°æ®åˆ†é…åˆ°m1ï¼Œå¦‚æœm3æ€§èƒ½è¾ƒå·®å¯ä»¥åˆ†é…è¾ƒå°‘çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»¥è¿›è¡ŒæœåŠ¡å™¨è´Ÿè½½çš„ç®¡ç†ã€‚\n8 æœ‰åºè¡¨ã€å¹¶æŸ¥é›†\nå²›å±¿é—®é¢˜\nint getIsland(vector&lt;vector&lt;int&gt;&gt; &amp;m, int N, int M) {    int ret = 0;    for (int i = 0; i &lt; N; i++) {        for (int j = 0; j &lt; M; j++) {            if (m[i][j] == 1) {                ret++;                dfs(m, i, j, N, M);            }        }    }    return ret;}void dfs(vector&lt;vector&lt;int&gt;&gt; &amp;m, int i, int j, int N, int M) {    if (i &lt; 0 || i &gt;= N || j &lt; 0 || j &gt;= M || m[i][j] == 0) {        return;    }    m[i][j] = 2;    dfs(m, i - 1, j, N, M);    dfs(m, i, j - 1, N, M);    dfs(m, i + 1, j, N, M);    dfs(m, i, j + 1, N, M);}\næ—¶é—´å¤æ‚åº¦â­è¿›é˜¶ï¼šåˆ©ç”¨å¹¶è¡Œç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜è§†é¢‘é“¾æ¥ï¼šå·¦ç¥è§†é¢‘é“¾æ¥\n8.1 å¹¶æŸ¥é›†\npublic class UnionFind {    private int[] p;    public UnionFind(int n) {        // åˆå§‹åŒ–ï¼Œè®¾ç½®æ¯ä¸ªå…ƒç´ çš„çˆ¶å…ƒç´ éƒ½ä¸ºè‡ªå·±        p = new int[n];        for (int i = 0; i &lt; n; i++) {            p[i] = i;        }    }    // æŸ¥æ‰¾    public int find(int x) {        if (x != p[x]) {            // æŸ¥æ‰¾åŒæ—¶ä¼˜åŒ–èŠ‚ç‚¹ï¼Œå‡å°‘æ ‘çš„å±‚æ•°            p[x] = find(p[x]);        }        return p[x];    }    // åˆå¹¶    public void union(int a, int b) {        int pa = find(a);        int pb = find(b);        if (pa != pb) {            p[pa] = pb;        }    }}\n9 KMPç®—æ³•\n","categories":["æŠ€æœ¯"],"tags":["ç®—æ³•"]},{"title":"J2Cacheå‡çº§è¸©å‘","url":"/70a03cd4baf9/j2cache%E5%8D%87%E7%BA%A7%E8%B8%A9%E5%9D%91/","content":"1. è¿è¡Œé¡¹ç›®\nä½¿ç”¨å‘½ä»¤git clone https://gitee.com/ld/J2Cacheå°†é¡¹ç›®å…‹éš†ä¸‹æ¥ï¼Œå…·ä½“å®‰è£…è¿è¡Œæ–¹æ³•å‚è§README.mdæ–‡æ¡£ã€‚\n\n2. éƒ¨åˆ†å‡çº§\n2.1 Javaå‡çº§\né¡¹ç›®é»˜è®¤ä½¿ç”¨çš„jdk1.8ï¼Œå°†é¡¹ç›®å‡çº§ä¸ºjdk17ã€‚ä¿®æ”¹jdkç‰ˆæœ¬åï¼Œä½¿ç”¨mavenæ‰“åŒ…é¡¹ç›®ä¼šæŠ¥é”™ç¨‹åºåŒ…javax.annotationä¸å­˜åœ¨ã€‚éœ€è¦åœ¨æ ¹ç›®å½•çš„pom.xmlæ·»åŠ ä¾èµ–å¼•å…¥javax.annotationã€‚\n&lt;dependency&gt;    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;    &lt;artifactId&gt;jsr250-api&lt;/artifactId&gt;    &lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;\nç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥ï¼Œæ‰§è¡Œå‘½ä»¤runtest.batï¼Œä¼šæŠ¥é”™Unable to make field private final byte[] java.lang.String.value accessible: module java.base does not \"opens java.lang\" to unnamed module @4ed07f8cã€‚é€šå¸¸åœ¨jdk9åŠä»¥ä¸Šä¼šé‡åˆ°è¯¥é—®é¢˜ã€‚\né€šè¿‡mvnå‘½ä»¤è§£å†³è¯¥é—®é¢˜æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ã€‚\nå¯ä»¥é€šè¿‡åœ¨IDEAä¸­ç›´æ¥è¿è¡Œmainæ–¹æ³•ï¼Œæ·»åŠ vmå‚æ•°ï¼Œè§£å†³è¯¥é—®é¢˜ã€‚éœ€è¦æ·»åŠ çš„vmå‚æ•°ä¸ºï¼š\n--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.math=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens java.base/java.util.concurrent=ALL-UNNAMED--add-opens java.base/java.net=ALL-UNNAMED--add-opens java.base/java.text=ALL-UNNAMED\nç”±äºmainæ–¹æ³•ä¸­ï¼Œè·å–çš„æ˜¯System.Consoleï¼Œè€Œåœ¨IDEAä¸­ç›´æ¥è¿è¡Œï¼Œè·å–ä¸åˆ°è¯¥å¯¹è±¡ï¼Œéœ€è¦ä¿®æ”¹è¯»å…¥è¾“å…¥çš„å¯¹è±¡ï¼Œå°†å…¶ä¿®æ”¹ä¸ºScannerå¯¹è±¡è¿›è¡Œè¯»å…¥ã€‚\n\n2.2 Rediså‡çº§\nå°†Rediså‡çº§5.0ç‰ˆæœ¬åã€‚\nBinaryJedisCommandsç±»æŠ¥é”™ï¼ŒåŸå› æ˜¯åˆ é™¤äº†è¯¥ç±»ï¼Œä½¿ç”¨JedisBinaryCommandsç±»æ›¿ä»£ã€‚\nåœ¨RedisClient.javaç±»ä¸­ï¼Œ\né‡å†™æ³¨è§£æŠ¥é”™ï¼Œçˆ¶ç±»æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œåˆ é™¤å³å¯ã€‚\n\nåŒ…è£…ç±»æŠ¥é”™ï¼ŒåŸå› æ˜¯æ–°ç‰ˆæœ¬ä½¿ç”¨åŸºæœ¬ç±»å‹ä»£æ›¿äº†åŒ…è£…ç±»ã€‚\n\næ–°ç‰ˆæœ¬ä¸­å°†è¿”å›å€¼ç”±Setç±»å‹æ”¹ä¸ºäº†Listã€‚\n\næ–°ç‰ˆæœ¬ä¸­ç§»é™¤äº†ç±»ShardedJedisPoolï¼Œå¼•å…¥JedisShardingæ›¿æ¢ã€‚\n\nå‚æ•°è®¾ç½®é”™è¯¯ï¼Œåªéœ€è¦ä¸€ä¸ªHostAndPortçš„åˆ—è¡¨å³å¯ã€‚\n\næœ€åä¸€ä¸ªå‚æ•°poolConfigåŸæ¥å‚æ•°ç±»å‹ä¸ºJedisPoolConfigï¼Œæ–°ç‰ˆæœ¬æ„é€ å‡½æ•°çš„ç±»å‹ä¿®æ”¹ä¸ºGenericObjectPoolConfig&lt;Connection&gt;ã€‚\nåœ¨RedisUtilså·¥å…·ç±»ä¸­ï¼Œå°†newPoolConfigæ–¹æ³•å‚æ•°ä¿®æ”¹ä¸ºGenericObjectPoolConfig&lt;Jedis&gt;ã€‚åŒæ—¶æ·»åŠ æ–¹æ³•transferPoolConfigï¼Œå°†GenericObjectPoolConfig&lt;Jedis&gt;è½¬æ¢ä¸ºGenericObjectPoolConfig&lt;Connection&gt;ã€‚\nåœ¨ç±»RedisPubSubClusterPolicyç±»ä¸­ï¼Œæ‰¾ä¸åˆ°Poolç±»ï¼Œå°†è¿™ä¸ªç±»çš„åŒ…ä¿®æ”¹ä¸ºimport redis.clients.jedis.util.Pool;\nåœ¨RedisGenericCacheç±»ä¸­ï¼Œ\nå°†æŠ¥é”™ç±»æ›´æ”¹ä¸ºä»¥ä¸Šç±»ã€‚\nRedisPubSubClusterPolicyç±»ä¸­ï¼Œçˆ¶ç±»æ–¹æ³•æŒ‡å®šä¸ºfinalï¼Œä¸èƒ½è¢«é‡å†™äº†ã€‚\n\n2.3 Rocketmqå‡çº§\nå‡çº§åˆ°5.1.4åæŠ¥é”™\n\n2.4 FastJsonå‡çº§\n\nå‡çº§åˆ°2.0.41ï¼Œå…¶ä¸­groupIdå’ŒartifactIdä¹Ÿè¿›è¡Œäº†æ›´æ”¹ã€‚\nFastjsonSerializerç±»é‡Œ\n\néœ€è¦ä¿®æ”¹ä¸ºcom.alibaba.fastjson2ï¼ŒåŒæ—¶å¼•å…¥æ–°ç±»ã€‚\n","tags":["J2Cache","SpringBoot3"]},{"title":"ç‰›å®¢ç½‘SQLé¢˜","url":"/1a70f07977f9/%E7%89%9B%E5%AE%A2%E7%BD%91sql%E9%A2%98/","content":"SQL212\nè·å–å½“å‰è–ªæ°´ç¬¬äºŒå¤šçš„å‘˜å·¥çš„emp_noä»¥åŠå…¶å¯¹åº”çš„è–ªæ°´salary\næè¿°\næœ‰ä¸€ä¸ªå‘˜å·¥è¡¨employeesç®€å†µå¦‚ä¸‹:\n\n\n\n\nemp_no\nbirth_date\nfirst_name\nlast_name\ngender\nhire_date\n\n\n\n\n10001\n1953-09-02\nGeorgi\nFacello\nM\n1986-06-26\n\n\n10002\n1964-06-02\nBezalel\nSimmel\nF\n1985-11-21\n\n\n10003\n1959-12-03\nParto\nBamford\nM\n1986-08-28\n\n\n10004\n1954-05-01\nChirstian\nKoblick\nM\n1986-12-01\n\n\n\næœ‰ä¸€ä¸ªè–ªæ°´è¡¨salariesç®€å†µå¦‚ä¸‹:\n\n\n\nemp_no\nsalary\nfrom_date\nto_date\n\n\n\n\n10001\n88958\n2002-06-26\n9999-01-01\n\n\n10002\n72527\n2001-08-02\n9999-01-01\n\n\n10003\n43311\n2001-12-01\n9999-01-01\n\n\n10004\n74057\n2001-11-27\n9999-01-01\n\n\n\nè¯·ä½ æŸ¥æ‰¾è–ªæ°´æ’åç¬¬äºŒå¤šçš„å‘˜å·¥ç¼–å·emp_noã€è–ªæ°´salaryã€last_nameä»¥åŠfirst_nameï¼Œä¸èƒ½ä½¿ç”¨order\nbyå®Œæˆï¼Œä»¥ä¸Šä¾‹å­è¾“å‡ºä¸º:\nï¼ˆæ¸©é¦¨æç¤º:sqliteé€šè¿‡çš„ä»£ç ä¸ä¸€å®šèƒ½é€šè¿‡mysqlï¼Œå› ä¸ºSQLè¯­æ³•è§„å®šï¼Œä½¿ç”¨èšåˆå‡½æ•°æ—¶ï¼Œselectå­å¥ä¸­ä¸€èˆ¬åªèƒ½å­˜åœ¨ä»¥ä¸‹ä¸‰ç§å…ƒç´ ï¼šå¸¸æ•°ã€èšåˆå‡½æ•°ï¼Œgroup\nby æŒ‡å®šçš„åˆ—åã€‚å¦‚æœä½¿ç”¨égroup byçš„åˆ—åï¼Œsqliteçš„ç»“æœå’Œmysql\nå¯èƒ½ä¸ä¸€æ ·)\n\n\n\nemp_no\nsalary\nlast_name\nfirst_name\n\n\n\n\n10004\n74057\nKoblick\nChirstian\n\n\n\nè§£æ\nè¿™é“é¢˜ä¸å…è®¸ä½¿ç”¨order byè¿›è¡Œæ’åºï¼Œå› æ­¤éœ€è¦é‡‡ç”¨å¦ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨è‡ªè¿æ¥çš„æ–¹æ³•ã€‚\nselect    s1.salaryfrom    salaries s1    join salaries s2    on s1.salary &lt;= s2.salarygroup by    s1.emp_nohaving    count(distinct s2.salary) = 2\nè‡ªè¿æ¥ï¼Œç„¶åè¿æ¥æ¡ä»¶æ˜¯s1.salary &lt;= s2.salaryï¼Œæ€è€ƒä¸€ä¸‹è¿æ¥è¿‡ç¨‹ï¼Œå·¦è¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œå·¦è¡¨s1ä»è¡¨ä¸­å–å‡ºä¸€è¡Œæ•°æ®ï¼Œç„¶åä¾æ¬¡å’Œå³è¡¨s2è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœs1.salary\nå°äºç­‰äº\ns2.salaryï¼Œåˆ™æ»¡è¶³æ¡ä»¶ï¼Œéå†å®Œå³è¡¨åï¼Œå¯ä»¥æ‰¾åˆ°æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼Œç„¶åå’Œs1è¡¨çš„è¿™è¡Œæ•°æ®å­˜åˆ°è™šæ‹Ÿè¡¨ä¸­ï¼Œè¿™ä¸ªä¸€è¡Œçš„åŒ¹é…è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯åç»­çš„group byæ“ä½œï¼Œå½“ä¸€ééå†å®Œå³è¡¨s2åï¼Œå¦‚æœå³è¡¨åŒ¹é…çš„ä¸é‡å¤æ•°æ®æœ‰ä¸€ä¸ªï¼Œé‚£è¯´æ˜å·¦è¡¨æ•°æ®æ˜¯æœ€å¤§çš„ï¼Œå› ä¸ºæœ‰ç­‰äºæ¡ä»¶ï¼Œå³è¡¨å¿…å®šæœ‰ä¸€ä¸ªæ•°æ®æ»¡è¶³ï¼Œè€Œå…¶ä»–æ•°æ®éƒ½ä¸æ»¡è¶³ï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯æœ€å¤§çš„ã€‚å¦‚æœå³è¡¨åŒ¹é…çš„æœ‰ä¸¤ä¸ªï¼Œé‚£è¯´æ˜å³è¡¨æœ‰ä¸¤ä¸ªæ•°æ®å¤§äºç­‰äºå½“å‰æ•°æ®ï¼Œè€Œæœ‰ä¸€ä¸ªæ˜¯ä»–è‡ªå·±æœ¬èº«ï¼Œæ‰€ä»¥å½“å‰æ•°æ®æ˜¯ç¬¬äºŒå¤§çš„ã€‚å› æ­¤å¯¹s1.salaryè¿›è¡Œåˆ†ç»„åç„¶ååˆ¤æ–­å³è¾¹çš„ä¸é‡å¤æ•°æ®çš„ä¸ªæ•°å³å¯æ‰¾åˆ°æ’åã€‚\nSQL229\næ‰¹é‡æ’å…¥æ•°æ®ï¼Œä¸é€‚ç”¨replaceæ“ä½œ\næè¿°\né¢˜ç›®å·²ç»å…ˆæ‰§è¡Œäº†å¦‚ä¸‹è¯­å¥:\ndrop table if exists actor; CREATE TABLE actor (  actor_id smallint(5) NOT NULL PRIMARY KEY,  first_name varchar(45) NOT NULL,  last_name varchar(45) NOT NULL,  last_update DATETIME NOT NULL); insert into actor values ('3', 'WD', 'GUINESS', '2006-02-15 12:34:33');\nå¯¹äºè¡¨actoræ’å…¥å¦‚ä¸‹æ•°æ®,å¦‚æœæ•°æ®å·²ç»å­˜åœ¨ï¼Œè¯·å¿½ç•¥(ä¸æ”¯æŒä½¿ç”¨replaceæ“ä½œ)\n\n\n\nactor_id\nfirst_name\nlast_name\nlast_update\n\n\n\n\n'3'\n'ED'\n'CHASE'\n'2006-02-15 12:34:33'\n\n\n\nè§£æ\n# mysqlä¸­å¸¸ç”¨çš„ä¸‰ç§æ’å…¥æ•°æ®çš„è¯­å¥: # insert intoè¡¨ç¤ºæ’å…¥æ•°æ®ï¼Œæ•°æ®åº“ä¼šæ£€æŸ¥ä¸»é”®ï¼Œå¦‚æœå‡ºç°é‡å¤ä¼šæŠ¥é”™ï¼› # replace intoè¡¨ç¤ºæ’å…¥æ›¿æ¢æ•°æ®ï¼Œéœ€æ±‚è¡¨ä¸­æœ‰PrimaryKeyï¼Œ#             æˆ–è€…uniqueç´¢å¼•ï¼Œå¦‚æœæ•°æ®åº“å·²ç»å­˜åœ¨æ•°æ®ï¼Œåˆ™ç”¨æ–°æ•°æ®æ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®æ•ˆæœåˆ™å’Œinsert intoä¸€æ ·ï¼› # insert ignoreè¡¨ç¤ºï¼Œå¦‚æœä¸­å·²ç»å­˜åœ¨ç›¸åŒçš„è®°å½•ï¼Œåˆ™å¿½ç•¥å½“å‰æ–°æ•°æ®ï¼›insert ignore into actor values(\"3\",\"ED\",\"CHASE\",\"2006-02-15 12:34:33\");\nSQL230 åˆ›å»ºä¸€ä¸ªactor_nameè¡¨\næè¿°\nå¯¹äºå¦‚ä¸‹è¡¨actorï¼Œå…¶å¯¹åº”çš„æ•°æ®ä¸º:\n\n\n\nactor_id\nfirst_name\nlast_name\nlast_update\n\n\n\n\n1\nPENELOPE\nGUINESS\n2006-02-15 12:34:33\n\n\n2\nNICK\nWAHLBERG\n2006-02-15 12:34:33\n\n\n\nè¯·ä½ åˆ›å»ºä¸€ä¸ªactor_nameè¡¨ï¼Œå¹¶ä¸”å°†actorè¡¨ä¸­çš„æ‰€æœ‰first_nameä»¥åŠlast_nameå¯¼å…¥è¯¥è¡¨.\nactor_nameè¡¨ç»“æ„å¦‚ä¸‹ï¼Œé¢˜ç›®æœ€åä¼šæŸ¥è¯¢actor_nameè¡¨é‡Œé¢çš„æ•°æ®æ¥å¯¹æ¯”ç»“æœè¾“å‡ºï¼š\n\n\n\nåˆ—è¡¨\nç±»å‹\næ˜¯å¦ä¸ºNULL\nå«ä¹‰\n\n\n\n\nfirst_name\nvarchar(45)\nnot null\nåå­—\n\n\nlast_name\nvarchar(45)\nnot null\nå§“æ°\n\n\n\nè§£æ\nè€ƒå¯Ÿåˆ›å»ºè¡¨çš„ä¸‰ç§æ–¹å¼\n1. å¸¸è§„åˆ›å»ºcreate table if not exists ç›®æ ‡è¡¨2. å¤åˆ¶è¡¨æ ¼create ç›®æ ‡è¡¨ like æ¥æºè¡¨3. å°†table1çš„éƒ¨åˆ†æ‹¿æ¥åˆ›å»ºtable2create table if not exists actor_name(first_name varchar(45) not null,last_name varchar(45) not null)select first_name,last_namefrom actor\nSQL231 åˆ›å»ºç´¢å¼•\né’ˆå¯¹å¦‚ä¸‹è¡¨actorç»“æ„åˆ›å»ºç´¢å¼•ï¼š\n(æ³¨:åœ¨ SQLite ä¸­,é™¤äº†é‡å‘½åè¡¨å’Œåœ¨å·²æœ‰çš„è¡¨ä¸­æ·»åŠ åˆ—,ALTER TABLE\nå‘½ä»¤ä¸æ”¯æŒå…¶ä»–æ“ä½œï¼Œ\nmysqlæ”¯æŒALTER TABLEåˆ›å»ºç´¢å¼•)\nCREATE TABLE actor  (   actor_id  smallint(5)  NOT NULL PRIMARY KEY,   first_name  varchar(45) NOT NULL,   last_name  varchar(45) NOT NULL,   last_update  datetime NOT NULL);\nå¯¹first_nameåˆ›å»ºå”¯ä¸€ç´¢å¼•uniq_idx_firstnameï¼Œå¯¹last_nameåˆ›å»ºæ™®é€šç´¢å¼•idx_lastname\nè§£æ\n\næ·»åŠ ä¸»é”®\n\nALTER TABLE tbl_name ADD PRIMARY KEY (col_list);// è¯¥è¯­å¥æ·»åŠ ä¸€ä¸ªä¸»é”®ï¼Œè¿™æ„å‘³ç€ç´¢å¼•å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸”ä¸èƒ½ä¸ºNULLã€‚\n\næ·»åŠ å”¯ä¸€ç´¢å¼•\n\nALTER TABLE tbl_name ADD UNIQUE index_name (col_list);// è¿™æ¡è¯­å¥åˆ›å»ºç´¢å¼•çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚\n\næ·»åŠ æ™®é€šç´¢å¼•\n\nALTER TABLE tbl_name ADD INDEX index_name (col_list);// æ·»åŠ æ™®é€šç´¢å¼•ï¼Œç´¢å¼•å€¼å¯å‡ºç°å¤šæ¬¡ã€‚\n\næ·»åŠ å…¨æ–‡ç´¢å¼•\n\nALTER TABLE tbl_name ADD FULLTEXT index_name (col_list);// è¯¥è¯­å¥æŒ‡å®šäº†ç´¢å¼•ä¸º FULLTEXT ï¼Œç”¨äºå…¨æ–‡ç´¢å¼•ã€‚\n\nåˆ é™¤ç´¢å¼•çš„è¯­æ³•ï¼š\n\nDROP INDEX index_name ON tbl_name;// æˆ–è€…ALTER TABLE tbl_name DROP INDEX index_name;ALTER TABLE tbl_name DROP PRIMARY KEY;\nå¦ä¸€ç§åˆ›å»ºç´¢å¼•çš„æ–¹æ³•ï¼Œä½¿ç”¨createï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸èƒ½åˆ›å»ºä¸»é”®\nCREATE [UNIQUE | FULLTEXT | SPATIAL] INDEX index_name ON tbl_name (col_name);//è¯¥è¯­å¥æŒ‡å®šäº†ç´¢å¼•å¯ä»¥æ˜¯å”¯ä¸€ç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ã€ç©ºé—´ç´¢å¼•ï¼ˆä¸€ç§åŸºäºç©ºé—´å¯¹è±¡çš„ç©ºé—´å…³ç³»æ’åˆ—çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„åœ°å›¾å®šä½åº”ç”¨ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œè°·æ­Œä¸€ä¸‹ï¼‰ä»¥åŠæ™®é€šç´¢å¼•ã€‚\nSQL163\næ¯ç¯‡æ–‡ç« åŒä¸€æ—¶åˆ»æœ€å¤§åœ¨çœ‹äººæ•°\nç”¨æˆ·è¡Œä¸ºæ—¥å¿—è¡¨tb_user_log\n\n\n\n\n\n\n\n\n\n\n\nid\nuid\nartical_id\nin_time\nout_time\nsign_cin\n\n\n\n\n1\n101\n9001\n2021-11-01 10:00:00\n2021-11-01 10:00:11\n0\n\n\n2\n102\n9001\n2021-11-01 10:00:09\n2021-11-01 10:00:38\n0\n\n\n3\n103\n9001\n2021-11-01 10:00:28\n2021-11-01 10:00:58\n0\n\n\n4\n104\n9002\n2021-11-01 11:00:45\n2021-11-01 11:01:11\n0\n\n\n5\n105\n9001\n2021-11-01 10:00:51\n2021-11-01 10:00:59\n0\n\n\n6\n106\n9002\n2021-11-01 11:00:55\n2021-11-01 11:01:24\n0\n\n\n7\n107\n9001\n2021-11-01 10:00:01\n2021-11-01 10:01:50\n0\n\n\n\nï¼ˆuid-ç”¨æˆ·ID, artical_id-æ–‡ç« ID, in_time-è¿›å…¥æ—¶é—´, out_time-ç¦»å¼€æ—¶é—´,\nsign_in-æ˜¯å¦ç­¾åˆ°ï¼‰\nåœºæ™¯é€»è¾‘è¯´æ˜ï¼šartical_id-æ–‡ç« IDä»£è¡¨ç”¨æˆ·æµè§ˆçš„æ–‡ç« çš„IDï¼Œartical_id-æ–‡ç« IDä¸º0è¡¨ç¤ºç”¨æˆ·åœ¨éæ–‡ç« å†…å®¹é¡µï¼ˆæ¯”å¦‚Appå†…çš„åˆ—è¡¨é¡µã€æ´»åŠ¨é¡µç­‰ï¼‰ã€‚\né—®é¢˜ï¼šç»Ÿè®¡æ¯ç¯‡æ–‡ç« åŒä¸€æ—¶åˆ»æœ€å¤§åœ¨çœ‹äººæ•°ï¼Œå¦‚æœåŒä¸€æ—¶åˆ»æœ‰è¿›å…¥ä¹Ÿæœ‰ç¦»å¼€æ—¶ï¼Œå…ˆè®°å½•ç”¨æˆ·æ•°å¢åŠ å†è®°å½•å‡å°‘ï¼Œç»“æœæŒ‰æœ€å¤§äººæ•°é™åºã€‚\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹\n\n\n\nartical_id\nmax_uv\n\n\n\n\n9001\n3\n\n\n9002\n2\n\n\n\nè§£é‡Šï¼š10ç‚¹0åˆ†10ç§’æ—¶ï¼Œæœ‰3ä¸ªç”¨æˆ·æ­£åœ¨æµè§ˆæ–‡ç« 9001ï¼›11ç‚¹01åˆ†0ç§’æ—¶ï¼Œæœ‰2ä¸ªç”¨æˆ·æ­£åœ¨æµè§ˆæ–‡ç« 9002ã€‚\nè§£æï¼ˆè®¡ç®—ç¬æ—¶çš„æœ€å¤§è®¡æ•°ï¼‰\næœ¬é¢˜éš¾ç‚¹åœ¨äºå¦‚ä½•è®¡ç®—ç¬æ—¶çš„æœ€å¤§è®¡æ•°ï¼ˆåœ¨çœ‹äººæ•°ï¼‰ã€‚\né€šå¸¸æƒ³åˆ°çš„æ–¹æ³•æ˜¯ç¼–ç +è”ç«‹ã€‚é¦–å…ˆå¯¹åŸè¡¨çš„in_timeå’Œout_timeè¿›è¡Œç¼–ç ï¼Œå¦‚æœæ˜¯in_timeåˆ™è¯´æ˜è§‚çœ‹äººæ•°+1ï¼Œå¦‚æœæ˜¯out_timeåˆ™è¯´æ˜è§‚çœ‹äººæ•°-1ï¼Œåˆ†åˆ«è¿›è¡Œç¼–ç ï¼Œç„¶ååˆå¹¶ã€‚\nselect artical_id, in_time dt, 1 difffrom tb_user_logwhere artical_id &lt;&gt; 0union allselect artical_id, out_time dt, -1 difffrom tb_user_logwhere artical_id &lt;&gt;0\nè¿™ä¸‰ä¸ªå­—æ®µè¡¨ç¤ºartical_idæ–‡ç« åœ¨dtè¿™ä¸ªæ—¶åˆ»çš„å˜åŒ–äººæ•°ä¸ºdiffã€‚\nç„¶åå¯¹è¿™ä¸ªè¡¨ä½¿ç”¨çª—å£å‡½æ•°sumæ±‚å’Œå³å¯æ±‚å¾—æ¯ä¸€ä¸ªæ—¶åˆ»çš„è§‚çœ‹äººæ•°ã€‚\nselect    artical_id, sum(diff) over (partition by artical_id order by dt, diff desc) viewer_cntfrom (    select artical_id, in_time dt, 1 diff    from tb_user_log    where artical_id &lt;&gt; 0    union all    select artical_id, out_time dt, -1 diff    from tb_user_log    where artical_id &lt;&gt;0) t\nè¿™é‡Œæ’åºå…ˆæ˜¯ä½¿ç”¨dtå‡åºï¼ŒæŒ‰ç…§æ—¶é—´æˆ³çš„é¡ºåºï¼Œç„¶åä½¿ç”¨diffé™åºã€‚å› ä¸ºé¢˜ç›®ä¸­è¯´å¦‚æœåŒä¸€æ—¶åˆ»æœ‰è¿›å…¥å’Œç¦»å¼€ï¼Œåˆ™å…ˆå¢åŠ å†å‡å°‘ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæ’åºæ—¶dtç›¸åŒï¼Œåˆ™æŒ‰ç…§diffé™åºæ’åˆ—ã€‚\nå¾—åˆ°æ¯ä¸ªæ—¶åˆ»çš„è§‚çœ‹äººæ•°åï¼Œéœ€è¦æ±‚è§‚çœ‹äººæ•°æœ€å¤šçš„æ—¶åˆ»çš„äººæ•°ã€‚å› æ­¤æœ€åå†æŒ‰ç…§artical_idåˆ†ç»„ï¼Œæ±‚max(viewer_cnt)å³å¯ã€‚\nselect artical_id, max(viewer_cnt) max_uvfrom (    select        artical_id, sum(diff) over (partition by artical_id order by dt, diff desc) viewer_cnt    from (        select artical_id, in_time dt, 1 diff        from tb_user_log        where artical_id &lt;&gt; 0        union all        select artical_id, out_time dt, -1 diff        from tb_user_log        where artical_id &lt;&gt;0    ) t) ttgroup by artical_idorder by max_uv desc\næœ¬é¢˜è§£å‚è€ƒäº†é¢˜è§£ã€‚\nSQL164\n2021å¹´11æœˆæ¯å¤©æ–°ç”¨æˆ·çš„æ¬¡æ—¥ç•™å­˜ç‡\nç”¨æˆ·è¡Œä¸ºæ—¥å¿—è¡¨tb_user_log\n\n\n\n\n\n\n\n\n\n\n\nid\nuid\nartical_id\nin_time\nout_time\nsign_cin\n\n\n\n\n1\n101\n0\n2021-11-01 10:00:00\n2021-11-01 10:00:42\n1\n\n\n2\n102\n9001\n2021-11-01 10:00:00\n2021-11-01 10:00:09\n0\n\n\n3\n103\n9001\n2021-11-01 10:00:01\n2021-11-01 10:01:50\n0\n\n\n4\n101\n9002\n2021-11-02 10:00:09\n2021-11-02 10:00:28\n0\n\n\n5\n103\n9002\n2021-11-02 10:00:51\n2021-11-02 10:00:59\n0\n\n\n6\n104\n9001\n2021-11-02 11:00:28\n2021-11-02 11:01:24\n0\n\n\n7\n101\n9003\n2021-11-03 11:00:55\n2021-11-03 11:01:24\n0\n\n\n8\n104\n9003\n2021-11-03 11:00:45\n2021-11-03 11:00:55\n0\n\n\n9\n105\n9003\n2021-11-03 11:00:53\n2021-11-03 11:00:59\n0\n\n\n10\n101\n9002\n2021-11-04 11:00:55\n2021-11-04 11:00:59\n0\n\n\n\nï¼ˆuid-ç”¨æˆ·ID, artical_id-æ–‡ç« ID, in_time-è¿›å…¥æ—¶é—´, out_time-ç¦»å¼€æ—¶é—´,\nsign_in-æ˜¯å¦ç­¾åˆ°ï¼‰\né—®é¢˜ï¼šç»Ÿè®¡2021å¹´11æœˆæ¯å¤©æ–°ç”¨æˆ·çš„æ¬¡æ—¥ç•™å­˜ç‡ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰\næ³¨ï¼š\n\næ¬¡æ—¥ç•™å­˜ç‡ä¸ºå½“å¤©æ–°å¢çš„ç”¨æˆ·æ•°ä¸­ç¬¬äºŒå¤©åˆæ´»è·ƒäº†çš„ç”¨æˆ·æ•°å æ¯”ã€‚\nå¦‚æœin_time-è¿›å…¥æ—¶é—´å’Œout_time-ç¦»å¼€æ—¶é—´è·¨å¤©äº†ï¼Œåœ¨ä¸¤å¤©é‡Œéƒ½è®°ä¸ºè¯¥ç”¨æˆ·æ´»è·ƒè¿‡ï¼Œç»“æœæŒ‰æ—¥æœŸå‡åºã€‚\n\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹\n\n\n\ndt\nuv_left_rate\n\n\n\n\n2021-11-01\n0.67\n\n\n2021-11-02\n1.00\n\n\n2021-11-03\n0.00\n\n\n\nè§£é‡Šï¼š\n11.01æœ‰3ä¸ªç”¨æˆ·æ´»è·ƒ101ã€102ã€103ï¼Œå‡ä¸ºæ–°ç”¨æˆ·ï¼Œåœ¨11.02åªæœ‰101ã€103ä¸¤ä¸ªåˆæ´»è·ƒäº†ï¼Œå› æ­¤11.01çš„æ¬¡æ—¥ç•™å­˜ç‡ä¸º0.67ï¼›\n11.02æœ‰104ä¸€ä½æ–°ç”¨æˆ·ï¼Œåœ¨11.03åˆæ´»è·ƒäº†ï¼Œå› æ­¤11.02çš„æ¬¡æ—¥ç•™å­˜ç‡ä¸º1.00ï¼›\n11.03æœ‰105ä¸€ä½æ–°ç”¨æˆ·ï¼Œåœ¨11.04æœªæ´»è·ƒï¼Œå› æ­¤11.03çš„æ¬¡æ—¥ç•™å­˜ç‡ä¸º0.00ï¼›\n11.04æ²¡æœ‰æ–°ç”¨æˆ·ï¼Œä¸è¾“å‡ºã€‚\nè§£æ\næœ¬é¢˜é’ˆå¯¹çš„æ˜¯æ–°ç”¨æˆ·çš„æ¬¡æ—¥ç•™å­˜ç‡ã€‚å› æ­¤åº”è¯¥é¦–å…ˆæŸ¥å‡ºæ¯ä¸ªç”¨æˆ·çš„æœ€æ—©ç™»é™†æ—¥æœŸï¼Œä¹Ÿå°±æ˜¯æ–°ç”¨æˆ·çš„ç¬¬ä¸€æ¬¡ç™»é™†æ—¥æœŸï¼Œè¿™æ ·å¯ä»¥æ‰¾åˆ°æ¯ä¸ªæ—¥æœŸçš„æ³¨å†Œç”¨æˆ·ã€‚\nç„¶åå†æŸ¥è¯¢å‡ºæ¯å¤©éƒ½æœ‰å“ªäº›ç”¨æˆ·ç™»å½•ï¼Œå°†è¿™ä¸¤ä¸ªè¡¨è¿æ¥ï¼Œè¿æ¥æ¡ä»¶æ˜¯ç›¸åŒç”¨æˆ·å’Œç”¨æˆ·æœ€æ—©ç™»å½•æ—¥æœŸçš„ä¸‹ä¸€å¤©ä»ç„¶ç™»å½•ã€‚å¦‚æœä¸‹ä¸€å¤©ä»ç„¶ç™»å½•ï¼Œåˆ™è¯¥å€¼ä¸ä¸ºnullå¦åˆ™ä¸ºnull\nselect t1.dt, round(count(t2.dt) / count(t1.dt), 2) uv_left_ratefrom (    select uid, min(date(in_time)) dt    from tb_user_log    group by uid) t1  -- æŸ¥è¯¢æ–°ç”¨æˆ·å’Œæ–°ç”¨æˆ·çš„æœ€æ—©ç™»å½•æ—¥æœŸleft join (    select uid, date(in_time) dt    from tb_user_log    union    select uid, date(out_time) dt    from tb_user_log) t2  -- æŸ¥è¯¢æ¯å¤©ç™»å½•çš„ç”¨æˆ·ï¼Œå¦‚æœè·¨æ—¥æœŸï¼Œåˆ™è®¤ä¸ºä¸¤å¤©éƒ½ç™»å½•äº†ï¼Œæ‰€ä»¥éœ€è¦æŸ¥è¯¢ä¸¤æ¬¡ç„¶ååˆå¹¶on t1.uid = t2.uidand datediff(t2.dt, t1.dt) = 1where date_format(t1.dt, '%Y-%m') = '2021-11'group by t1.dtorder by t1.dt\nSQL167 è¿ç»­ç­¾åˆ°é¢†é‡‘å¸\nç”¨æˆ·è¡Œä¸ºæ—¥å¿—è¡¨tb_user_log\n\n\n\n\n\n\n\n\n\n\n\nid\nuid\nartical_id\nin_time\nout_time\nsign_in\n\n\n\n\n1\n101\n0\n2021-07-07 10:00:00\n2021-07-07 10:00:09\n1\n\n\n2\n101\n0\n2021-07-08 10:00:00\n2021-07-08 10:00:09\n1\n\n\n3\n101\n0\n2021-07-09 10:00:00\n2021-07-09 10:00:42\n1\n\n\n4\n101\n0\n2021-07-10 10:00:00\n2021-07-10 10:00:09\n1\n\n\n5\n101\n0\n2021-07-11 23:59:55\n2021-07-11 23:59:59\n1\n\n\n6\n101\n0\n2021-07-12 10:00:28\n2021-07-12 10:00:50\n1\n\n\n7\n101\n0\n2021-07-13 10:00:28\n2021-07-13 10:00:50\n1\n\n\n8\n102\n0\n2021-10-01 10:00:28\n2021-10-01 10:00:50\n1\n\n\n9\n102\n0\n2021-10-02 10:00:01\n2021-10-02 10:01:50\n1\n\n\n10\n102\n0\n2021-10-03 10:00:55\n2021-10-03 11:00:59\n1\n\n\n11\n102\n0\n2021-10-04 10:00:45\n2021-10-04 11:00:55\n0\n\n\n12\n102\n0\n2021-10-05 10:00:53\n2021-10-05 11:00:59\n1\n\n\n13\n102\n0\n2021-10-06 10:00:45\n2021-10-06 11:00:55\n1\n\n\n\nï¼ˆuid-ç”¨æˆ·ID, artical_id-æ–‡ç« ID, in_time-è¿›å…¥æ—¶é—´, out_time-ç¦»å¼€æ—¶é—´,\nsign_in-æ˜¯å¦ç­¾åˆ°ï¼‰\nåœºæ™¯é€»è¾‘è¯´æ˜ï¼š\n\nartical_id-æ–‡ç« IDä»£è¡¨ç”¨æˆ·æµè§ˆçš„æ–‡ç« çš„IDï¼Œç‰¹æ®Šæƒ…å†µartical_id-æ–‡ç« IDä¸º0è¡¨ç¤ºç”¨æˆ·åœ¨éæ–‡ç« å†…å®¹é¡µï¼ˆæ¯”å¦‚Appå†…çš„åˆ—è¡¨é¡µã€æ´»åŠ¨é¡µç­‰ï¼‰ã€‚æ³¨æ„ï¼šåªæœ‰artical_idä¸º0æ—¶sign_inå€¼æ‰æœ‰æ•ˆã€‚\nä»2021å¹´7æœˆ7æ—¥0ç‚¹å¼€å§‹ï¼Œç”¨æˆ·æ¯å¤©ç­¾åˆ°å¯ä»¥é¢†1é‡‘å¸ï¼Œå¹¶å¯ä»¥å¼€å§‹ç´¯ç§¯ç­¾åˆ°å¤©æ•°ï¼Œè¿ç»­ç­¾åˆ°çš„ç¬¬3ã€7å¤©åˆ†åˆ«å¯é¢å¤–é¢†2ã€6é‡‘å¸ã€‚\næ¯è¿ç»­ç­¾åˆ°7å¤©åé‡æ–°ç´¯ç§¯ç­¾åˆ°å¤©æ•°ï¼ˆå³é‡ç½®ç­¾åˆ°å¤©æ•°ï¼šè¿ç»­ç¬¬8å¤©ç­¾åˆ°æ—¶è®°ä¸ºæ–°çš„ä¸€è½®ç­¾åˆ°çš„ç¬¬ä¸€å¤©ï¼Œé¢†1é‡‘å¸ï¼‰\n\né—®é¢˜ï¼šè®¡ç®—æ¯ä¸ªç”¨æˆ·2021å¹´7æœˆä»¥æ¥æ¯æœˆè·å¾—çš„é‡‘å¸æ•°ï¼ˆè¯¥æ´»åŠ¨åˆ°10æœˆåº•ç»“æŸï¼Œ11æœˆ1æ—¥å¼€å§‹çš„ç­¾åˆ°ä¸å†è·å¾—é‡‘å¸ï¼‰ã€‚ç»“æœæŒ‰æœˆä»½ã€IDå‡åºæ’åºã€‚\næ³¨ï¼šå¦‚æœç­¾åˆ°è®°å½•çš„in_time-è¿›å…¥æ—¶é—´å’Œout_time-ç¦»å¼€æ—¶é—´è·¨å¤©äº†ï¼Œä¹Ÿåªè®°ä½œin_timeå¯¹åº”çš„æ—¥æœŸç­¾åˆ°äº†ã€‚\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n\n\n\nuid\nmonth\ncoin\n\n\n\n\n101\n202107\n15\n\n\n102\n202110\n7\n\n\n\nè§£é‡Šï¼š\n101åœ¨æ´»åŠ¨æœŸå†…è¿ç»­ç­¾åˆ°äº†7å¤©ï¼Œå› æ­¤è·å¾—1*7+2+6=15é‡‘å¸ï¼›\n102åœ¨10.01~10.03è¿ç»­ç­¾åˆ°3å¤©è·å¾—5é‡‘å¸\n10.04æ–­ç­¾äº†ï¼Œ10.05~10.06è¿ç»­ç­¾åˆ°2å¤©è·å¾—2é‡‘å¸ï¼Œå…±å¾—åˆ°7é‡‘å¸ã€‚\nè§£æ\næœ¬é¢˜æœ€ä¸»è¦çš„é—®é¢˜æ˜¯å¦‚ä½•åˆ¤æ–­ç­¾åˆ°æ—¥æœŸæ˜¯å¦è¿ç»­ï¼Œå› æ­¤å¯ä»¥è”æƒ³åˆ°è¿ç»­é—®é¢˜ã€‚è¿ç»­é—®é¢˜é€šå¸¸è§£å†³æ–¹æ³•æ˜¯æ–°å»ºä¸€ä¸ªè¿ç»­çš„åˆ—ï¼Œç›¸å‡å¾—åˆ°ä¸€ä¸ªå¸¸æ•°å€¼ï¼Œé€šè¿‡è¿™ä¸ªç›¸åŒçš„å€¼åˆ¤æ–­è¿ç»­æƒ…å†µã€‚ä¹Ÿå°±æ˜¯è¿ç»­né—®é¢˜ã€‚\nwith t_sign_info as (    select         distinct uid        , date(in_time) sign_dt        , date(in_time) - row_number() over (partition by uid order by date(in_time)) row_num    from tb_user_log    where artical_id = 0    and sign_in = 1    and datediff(in_time, '2021-07-07') &gt;= 0    and datediff(in_time, '2021-10-31') &lt;= 0)select uid, date_format(sign_dt, '%Y%m') month, sum(coin) coinfrom (    select         uid        , sign_dt        , case row_id % 7            when 3 then 3            when 0 then 7            else 1        end coin    from (        select *, row_number() over (partition by row_num, uid order by sign_dt) row_id        from t_sign_info    ) t) ttgroup by uid, monthorder by month, uid\né¦–å…ˆæ‰¾åˆ°æ¯ä¸ªç”¨æˆ·çš„åˆæ³•çš„ç­¾åˆ°æ—¥æœŸï¼Œç„¶åæŒ‰ç…§ç”¨æˆ·å·åˆ†ç»„ä½¿ç”¨çª—å£å‡½æ•°åˆ†é…åºå·ã€‚ç„¶åä½¿ç”¨ç­¾åˆ°æ—¥æœŸå’Œåˆ†é…çš„åºå·ç›¸å‡ï¼Œå¦‚æœç­¾åˆ°æ—¥æœŸæ˜¯è¿ç»­çš„ï¼Œé‚£ä¹ˆå’Œåºå·ç›¸å‡å¾—åˆ°çš„ç»“æœçš„å€¼æ˜¯å›ºå®šçš„ï¼Œå¦‚æœä¸åŒäº†ï¼Œè¯´æ˜æ—¥æœŸå‘ç”Ÿäº†æ–­è¿ã€‚\nç„¶åå†æ¬¡ä½¿ç”¨çª—å£å‡½æ•°åˆ†é…åºå·ï¼Œè¿™æ ·å¯ä»¥çœ‹åˆ°ç”¨æˆ·ç­¾åˆ°çš„å¤©æ•°æƒ…å†µã€‚\nSQL171\né›¶é£Ÿç±»å•†å“ä¸­å¤è´­ç‡top3é«˜çš„å•†å“\nå•†å“ä¿¡æ¯è¡¨tb_product_info\n\n\n\n\n\n\n\n\n\n\n\n\nid\nproduct_id\nshop_id\ntag\nint_\nquantity\nrelease_time\n\n\n\n\n1\n8001\n901\né›¶é£Ÿ\n60\n1000\n2020-01-01 10:00:00\n\n\n2\n8002\n901\né›¶é£Ÿ\n140\n500\n2020-01-01 10:00:00\n\n\n3\n8003\n901\né›¶é£Ÿ\n160\n500\n2020-01-01 10:00:00\n\n\n\nï¼ˆproduct_id-å•†å“ID, shop_id-åº—é“ºID, tag-å•†å“ç±»åˆ«æ ‡ç­¾,\nin_price-è¿›è´§ä»·æ ¼, quantity-è¿›è´§æ•°é‡, release_time-ä¸Šæ¶æ—¶é—´ï¼‰\nè®¢å•æ€»è¡¨tb_order_overall\n\n\n\n\n\n\n\n\n\n\n\n\nid\norder_id\nuid\nevent_time\ntotal_amount\ntotal_cnt\nstatus\n\n\n\n\n1\n301001\n101\n2021-09-30 10:00:00\n140\n1\n1\n\n\n2\n301002\n102\n2021-10-01 11:00:00\n235\n2\n1\n\n\n3\n301011\n102\n2021-10-31 11:00:00\n250\n2\n1\n\n\n4\n301003\n101\n2021-10-02 10:00:00\n300\n2\n1\n\n\n5\n301013\n105\n2021-10-02 10:00:00\n300\n2\n1\n\n\n6\n301005\n104\n2021-10-03 10:00:00\n170\n1\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, uid-ç”¨æˆ·ID, event_time-ä¸‹å•æ—¶é—´,\ntotal_amount-è®¢å•æ€»é‡‘é¢, total_cnt-è®¢å•å•†å“æ€»ä»¶æ•°, status-è®¢å•çŠ¶æ€ï¼‰\nè®¢å•æ˜ç»†è¡¨tb_order_detail\n\n\n\nid\norder_id\nproduct_id\nprice\ncnt\n\n\n\n\n1\n301001\n8002\n150\n1\n\n\n2\n301011\n8003\n200\n1\n\n\n3\n301011\n8001\n80\n1\n\n\n4\n301002\n8001\n85\n1\n\n\n5\n301002\n8003\n180\n1\n\n\n6\n301003\n8002\n140\n1\n\n\n7\n301003\n8003\n180\n1\n\n\n8\n301013\n8002\n140\n2\n\n\n9\n301005\n8003\n180\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, product_id-å•†å“ID, price-å•†å“å•ä»·,\ncnt-ä¸‹å•æ•°é‡ï¼‰\nåœºæ™¯é€»è¾‘è¯´æ˜ï¼š\n\nç”¨æˆ·å°†è´­ç‰©è½¦ä¸­å¤šä»¶å•†å“ä¸€èµ·ä¸‹å•æ—¶ï¼Œè®¢å•æ€»è¡¨ä¼šç”Ÿæˆä¸€ä¸ªè®¢å•ï¼ˆä½†æ­¤æ—¶æœªä»˜æ¬¾ï¼Œ\nstatus-è®¢å•çŠ¶æ€-\nè®¢å•çŠ¶æ€ä¸º0è¡¨ç¤ºå¾…ä»˜æ¬¾ï¼‰ï¼Œåœ¨è®¢å•æ˜ç»†è¡¨ç”Ÿæˆè¯¥è®¢å•ä¸­æ¯ä¸ªå•†å“çš„ä¿¡æ¯ï¼›\nå½“ç”¨æˆ·æ”¯ä»˜å®Œæˆæ—¶ï¼Œåœ¨è®¢å•æ€»è¡¨ä¿®æ”¹å¯¹åº”è®¢å•è®°å½•çš„status-è®¢å•çŠ¶æ€-\nè®¢å•çŠ¶æ€ä¸º1è¡¨ç¤ºå·²ä»˜æ¬¾ï¼›\nè‹¥ç”¨æˆ·é€€è´§é€€æ¬¾ï¼Œåœ¨è®¢å•æ€»è¡¨ç”Ÿæˆä¸€æ¡äº¤æ˜“æ€»é‡‘é¢ä¸ºè´Ÿå€¼çš„è®°å½•ï¼ˆè¡¨ç¤ºé€€æ¬¾é‡‘é¢ï¼Œè®¢å•å·ä¸ºé€€æ¬¾å•å·ï¼Œè®¢å•çŠ¶æ€ä¸º2è¡¨ç¤ºå·²é€€æ¬¾ï¼‰ã€‚\n\né—®é¢˜ï¼šè¯·ç»Ÿè®¡é›¶é£Ÿç±»å•†å“ä¸­å¤è´­ç‡top3é«˜çš„å•†å“ã€‚\næ³¨ï¼šå¤è´­ç‡æŒ‡ç”¨æˆ·åœ¨ä¸€æ®µæ—¶é—´å†…å¯¹æŸå•†å“çš„é‡å¤è´­ä¹°æ¯”ä¾‹ï¼Œå¤è´­ç‡è¶Šå¤§ï¼Œåˆ™åæ˜ å‡ºæ¶ˆè´¹è€…å¯¹å“ç‰Œçš„å¿ è¯šåº¦å°±è¶Šé«˜ï¼Œä¹Ÿå«å›å¤´ç‡\næ­¤å¤„æˆ‘ä»¬å®šä¹‰ï¼šæŸå•†å“å¤è´­ç‡ = è¿‘90å¤©å†…è´­ä¹°å®ƒè‡³å°‘ä¸¤æ¬¡çš„äººæ•° Ã·\nè´­ä¹°å®ƒçš„æ€»äººæ•°\nè¿‘90å¤©æŒ‡åŒ…å«æœ€å¤§æ—¥æœŸï¼ˆè®°ä¸ºå½“å¤©ï¼‰åœ¨å†…çš„è¿‘90å¤©ã€‚ç»“æœä¸­å¤è´­ç‡ä¿ç•™3ä½å°æ•°ï¼Œå¹¶æŒ‰å¤è´­ç‡å€’åºã€å•†å“IDå‡åºæ’åº\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n\n\n\nproduct_id\nrepurchase_rate\n\n\n\n\n8001\n1.000\n\n\n8002\n0.500\n\n\n8003\n0.333\n\n\n\nè§£é‡Šï¼š\nå•†å“8001ã€8002ã€8003éƒ½æ˜¯é›¶é£Ÿç±»å•†å“ï¼Œ8001åªè¢«ç”¨æˆ·102è´­ä¹°äº†ä¸¤æ¬¡ï¼Œå¤è´­ç‡1.000ï¼›\nå•†å“8002è¢«101è´­ä¹°äº†ä¸¤æ¬¡ï¼Œè¢«105è´­ä¹°äº†1æ¬¡ï¼Œå¤è´­ç‡0.500ï¼›\nå•†å“8003è¢«102è´­ä¹°ä¸¤æ¬¡ï¼Œè¢«101å’Œ105å„è´­ä¹°1æ¬¡ï¼Œå¤è´­ç‡ä¸º0.333ã€‚\nè§£æ\næœ¬é¢˜éš¾ç‚¹åœ¨äºæ‰¾åˆ°å¤è´­çš„å•†å“çš„äººæ•°ã€‚\né¦–å…ˆçœ‹å¤è´­çš„å®šä¹‰ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªç”¨æˆ·åœ¨æŸæ®µæ—¶é—´å†…å¯¹ä¸€ä¸ªå•†å“é‡å¤è´­ä¹°ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è¡¨ä¸­çš„è®°å½•é‡Œï¼Œç”¨æˆ·å¤è´­ä¸€ä¸ªå•†å“æ—¶çš„uidå’Œproduct_idæ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºç”¨æˆ·ç›¸åŒã€å•†å“ç›¸åŒã€‚å› æ­¤å¯ä»¥é¦–å…ˆä½¿ç”¨uid, product_idè¿›è¡Œåˆ†ç»„ï¼Œæ‰¾åˆ°æŸç”¨æˆ·å¯¹å¯¹æŸå•†å“çš„è´­ä¹°æ¬¡æ•°ï¼Œå¯ä»¥é€šè¿‡event_timeåˆ¤æ–­è´­ä¹°äº†å¤šå°‘æ¬¡ã€‚\nselect    product_id    , round(avg(if_repurchase), 3) repurchase_ratefrom (    select        info.product_id        , if(count(overall.event_time) &gt; 1, 1, 0) if_repurchase    from tb_product_info info    inner join tb_order_detail detail    on info.product_id = detail.product_id    inner join tb_order_overall overall    on detail.order_id = overall.order_id    where info.tag = 'é›¶é£Ÿ'    and datediff((select max(event_time) from tb_order_overall), overall.event_time) &lt; 90    group by info.product_id, overall.uid) tgroup by product_idorder by repurchase_rate desc, product_id asclimit 3\nSQL173\nåº—é“º901å›½åº†æœŸé—´çš„7æ—¥åŠ¨é”€ç‡å’Œæ»é”€ç‡\nå•†å“ä¿¡æ¯è¡¨tb_product_info\n\n\n\n\n\n\n\n\n\n\n\n\nid\nproduct_id\nshop_id\ntag\nint_\nquantity\nrelease_time\n\n\n\n\n1\n8001\n901\næ—¥ç”¨\n60\n1000\n2020-01-01 10:00:00\n\n\n2\n8002\n901\né›¶é£Ÿ\n140\n500\n2020-01-01 10:00:00\n\n\n3\n8003\n901\né›¶é£Ÿ\n160\n500\n2020-01-01 10:00:00\n\n\n\nï¼ˆproduct_id-å•†å“ID, shop_id-åº—é“ºID, tag-å•†å“ç±»åˆ«æ ‡ç­¾,\nin_price-è¿›è´§ä»·æ ¼, quantity-è¿›è´§æ•°é‡, release_time-ä¸Šæ¶æ—¶é—´ï¼‰\nè®¢å•æ€»è¡¨tb_order_overall\n\n\n\n\n\n\n\n\n\n\n\n\nid\norder_id\nuid\nevent_time\ntotal_amount\ntotal_cnt\nstatus\n\n\n\n\n1\n301004\n102\n2021-09-30 10:00:00\n170\n1\n1\n\n\n2\n301005\n104\n2021-10-01 10:00:00\n160\n1\n1\n\n\n3\n301003\n101\n2021-10-02 10:00:00\n300\n2\n1\n\n\n4\n301002\n102\n2021-10-03 11:00:00\n235\n2\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, uid-ç”¨æˆ·ID, event_time-ä¸‹å•æ—¶é—´,\ntotal_amount-è®¢å•æ€»é‡‘é¢, total_cnt-è®¢å•å•†å“æ€»ä»¶æ•°, status-è®¢å•çŠ¶æ€ï¼‰\nè®¢å•æ˜ç»†è¡¨tb_order_detail\n\n\n\nid\norder_id\nproduct_id\nprice\ncnt\n\n\n\n\n1\n301004\n8002\n180\n1\n\n\n2\n301005\n8002\n170\n1\n\n\n3\n301002\n8001\n85\n1\n\n\n4\n301002\n8003\n180\n1\n\n\n5\n301003\n8002\n150\n1\n\n\n6\n301003\n8003\n180\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, product_id-å•†å“ID, price-å•†å“å•ä»·,\ncnt-ä¸‹å•æ•°é‡ï¼‰\né—®é¢˜ï¼šè¯·è®¡ç®—åº—é“º901åœ¨2021å¹´å›½åº†å¤´3å¤©çš„7æ—¥åŠ¨é”€ç‡å’Œæ»é”€ç‡ï¼Œç»“æœä¿ç•™3ä½å°æ•°ï¼ŒæŒ‰æ—¥æœŸå‡åºæ’åºã€‚\næ³¨ï¼š\n\nåŠ¨é”€ç‡å®šä¹‰ä¸ºåº—é“ºä¸­ä¸€æ®µæ—¶é—´å†…æœ‰é”€é‡çš„å•†å“å å½“å‰å·²ä¸Šæ¶æ€»å•†å“æ•°çš„æ¯”ä¾‹ï¼ˆæœ‰é”€é‡çš„å•†å“/å·²ä¸Šæ¶æ€»å•†å“æ•°)ã€‚\næ»é”€ç‡å®šä¹‰ä¸ºåº—é“ºä¸­ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰é”€é‡çš„å•†å“å å½“å‰å·²ä¸Šæ¶æ€»å•†å“æ•°çš„æ¯”ä¾‹ã€‚ï¼ˆæ²¡æœ‰é”€é‡çš„å•†å“/å·²ä¸Šæ¶æ€»å•†å“æ•°)ã€‚\nåªè¦å½“å¤©ä»»ä¸€åº—é“ºæœ‰ä»»ä½•å•†å“çš„é”€é‡å°±è¾“å‡ºè¯¥å¤©çš„ç»“æœï¼Œå³ä½¿åº—é“º901å½“å¤©çš„åŠ¨é”€ç‡ä¸º0ã€‚\n\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n\n\n\ndt\nsale_rate\nunsale_rate\n\n\n\n\n2021-10-01\n0.333\n0.667\n\n\n2021-10-02\n0.667\n0.333\n\n\n2021-10-03\n1.000\n0.000\n\n\n\nè§£é‡Šï¼š\n10æœˆ1æ—¥çš„è¿‘7æ—¥ï¼ˆ9æœˆ25æ—¥---10æœˆ1æ—¥ï¼‰åº—é“º901æœ‰é”€é‡çš„å•†å“æœ‰8002ï¼Œæˆªæ­¢å½“å¤©åœ¨å”®å•†å“æ•°ä¸º3ï¼ŒåŠ¨é”€ç‡ä¸º0.333ï¼Œæ»é”€ç‡ä¸º0.667ï¼›\n10æœˆ2æ—¥çš„è¿‘7æ—¥ï¼ˆ9æœˆ26æ—¥---10æœˆ2æ—¥ï¼‰åº—é“º901æœ‰é”€é‡çš„å•†å“æœ‰8002ã€8003ï¼Œæˆªæ­¢å½“å¤©åœ¨å”®å•†å“æ•°ä¸º3ï¼ŒåŠ¨é”€ç‡ä¸º0.667ï¼Œæ»é”€ç‡ä¸º0.333ï¼›\n10æœˆ3æ—¥çš„è¿‘7æ—¥ï¼ˆ9æœˆ27æ—¥---10æœˆ3æ—¥ï¼‰åº—é“º901æœ‰é”€é‡çš„å•†å“æœ‰8002ã€8003ã€8001ï¼Œæˆªæ­¢å½“å¤©åº—é“º901åœ¨å”®å•†å“æ•°ä¸º3ï¼ŒåŠ¨é”€ç‡ä¸º1.000ï¼Œ\næ»é”€ç‡ä¸º0.000ï¼›\nè§£æ\næ€»ä½“æ€è·¯å…ˆæ±‚è¿™ä¸‰å¤©æ¯å¤©çš„ä¸Šæ¶å•†å“æ€»æ•°ï¼Œç„¶åå†æ±‚ä¸ƒå¤©å†…çš„å”®å‡ºå•†å“æ€»æ•°ã€‚\nè¦è®¡ç®—è¿‡å»ä¸ƒå¤©çš„ï¼Œé¦–å…ˆæƒ³åˆ°ä½¿ç”¨çª—å£å‡½æ•°ï¼Œä½†æ˜¯å› ä¸ºå”®å‡ºæ—¥æœŸä¸æ˜¯è¿ç»­çš„ï¼Œä½¿ç”¨çª—å£å‡½æ•°ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨è¿æ¥æ–¹å¼ï¼Œåœ¨è¿æ¥æ¡ä»¶ä¸Šåˆ¤æ–­ã€‚\né¦–å…ˆæ±‚å‡ºè¦æ±‚çš„ä¸‰å¤©çš„æ—¥æœŸï¼Œé¢˜ç›®è¦æ±‚åªè¦å½“å¤©æœ‰å•†å“å–å‡ºå°±è¦å±•ç¤ºå½“å¤©çš„ç»“æœï¼Œå¦ä¸€ä¸ªæ„æ€æ˜¯å¦‚æœä¸€å¤©æ²¡æœ‰ä»»ä½•å•†å“å”®å‡ºå°±ä¸å±•ç¤ºè¯¥å¤©ã€‚æ‰€ä»¥å…ˆæ ¹æ®è®¢å•æ±‚å‡ºéœ€è¦å±•ç¤ºå“ªäº›å¤©ã€‚\nSELECT DATE(event_time) dtFROM tb_order_overallWHERE DATE(event_time) BETWEEN '2021-10-01' AND '2021-10-03'\nç„¶åæ±‚å‡ºè¿™å‡ å¤©çš„æ¯å¤©çš„ä¸Šæ¶çš„å•†å“æ•°é‡ï¼Œé¢˜ç›®ç»™çš„æ¡ä»¶é‡Œæ²¡æœ‰è¯´æ˜ä¸‹æ¶æ—¥æœŸï¼Œé»˜è®¤å•†å“ä¸ä¼šä¸‹æ¶ï¼Œè¿™é‡Œæ ¹æ®ä¸Šæ¶æ—¥æœŸå°äºé¢˜ç›®ä¸­è¦æ±‚çš„ä¸‰å¤©å³å¯ï¼Œä½¿ç”¨è¿æ¥çš„æ–¹æ³•å³å¯æ±‚å‡ºã€‚\n-- t_dateä¸ºä¸Šä¸€æ¬¡æ±‚çš„ä¸‰å¤©æ—¥æœŸSELECT dt, COUNT(DISTINCT product_id) cntFROM tb_product_infoINNER JOIN t_dateON DATEDIFF(dt, release_time) &gt;= 0WHERE shop_id = 901GROUP BY dt \næ¥ä¸‹æ¥æ±‚å‡ºä¸ƒå¤©å†…çš„å‡ºå”®çš„å•†å“ï¼Œå¯¹ä¸‰ä¸ªè¡¨è¿›è¡Œè¿æ¥ï¼Œæ ¹æ®è¦æ±‚çš„åº—é“ºidå’Œæ—¥æœŸï¼Œå³å¯æ±‚å¾—æ¯å¤©å‡ºå”®çš„å•†å“idã€‚æ³¨ï¼šè¿™é‡Œä¸èƒ½æ±‚æ¯å¤©å‡ºå”®çš„å•†å“æ•°ï¼Œé¢˜ç›®ä¸­è¦æ±‚çš„æ˜¯ä¸ƒå¤©å†…å”®å‡ºçš„ä¸åŒçš„å•†å“æ•°ï¼Œå¦‚æœä¸¤å¤©å”®å‡ºåŒæ ·çš„å•†å“ï¼Œæ­£ç¡®çš„ç»“æœä¸º1ï¼Œè€Œå¦‚æœæ±‚æ¯å¤©å‡ºå”®çš„å•†å“æ•°ï¼Œç»“æœåˆ™å¤§äº1äº†\nSELECT DATE(oo.event_time) dt, od.product_id FROM tb_order_detail odINNER JOIN tb_order_overall ooON od.order_id = oo.order_idINNER JOIN tb_product_info piON od.product_id = pi.product_idWHERE pi.shop_id = 901AND DATE(oo.event_time) BETWEEN '2021-09-25' AND '2021-10-03'\næœ€åå¯¹ä¸Šæ¶å•†å“è¡¨å’Œå‡ºå”®å•†å“è¡¨è¿æ¥ï¼Œæ±‚å‡ºç»“æœã€‚\nSELECT    t_onsale.dt,    ROUND(COUNT(DISTINCT t_sold.product_id) / t_onsale.cnt, 3) sale_rate,    ROUND(1 - COUNT(DISTINCT t_sold.product_id) / t_onsale.cnt, 3) unsale_rateFROM t_onsaleLEFT JOIN t_soldON DATEDIFF(t_onsale.dt, t_sold.dt) BETWEEN 0 AND 6GROUP BY t_onsale.dtORDER BY t_onsale.dt\nSQL 165\nç»Ÿè®¡æ´»è·ƒé—´éš”å¯¹ç”¨æˆ·åˆ†çº§ç»“æœ\nç”¨æˆ·è¡Œä¸ºæ—¥å¿—è¡¨tb_user_log\n\n\n\n\n\n\n\n\n\n\n\nid\nuid\nartical_id\nin_time\nout_time\nsign_cin\n\n\n\n\n1\n109\n9001\n2021-08-31 10:00:00\n2021-08-31 10:00:09\n0\n\n\n2\n109\n9002\n2021-11-04 11:00:55\n2021-11-04 11:00:59\n0\n\n\n3\n108\n9001\n2021-09-01 10:00:01\n2021-09-01 10:01:50\n0\n\n\n4\n108\n9001\n2021-11-03 10:00:01\n2021-11-03 10:01:50\n0\n\n\n5\n104\n9001\n2021-11-02 10:00:28\n2021-11-02 10:00:50\n0\n\n\n6\n104\n9003\n2021-09-03 11:00:45\n2021-09-03 11:00:55\n0\n\n\n7\n105\n9003\n2021-11-03 11:00:53\n2021-11-03 11:00:59\n0\n\n\n8\n102\n9001\n2021-10-30 10:00:00\n2021-10-30 10:00:09\n0\n\n\n9\n103\n9001\n2021-10-21 10:00:00\n2021-10-21 10:00:09\n0\n\n\n10\n101\n0\n2021-10-01 10:00:00\n2021-10-01 10:00:42\n1\n\n\n\nï¼ˆuid-ç”¨æˆ·ID, artical_id-æ–‡ç« ID, in_time-è¿›å…¥æ—¶é—´, out_time-ç¦»å¼€æ—¶é—´,\nsign_in-æ˜¯å¦ç­¾åˆ°ï¼‰\né—®é¢˜ï¼šç»Ÿè®¡æ´»è·ƒé—´éš”å¯¹ç”¨æˆ·åˆ†çº§åï¼Œå„æ´»è·ƒç­‰çº§ç”¨æˆ·å æ¯”ï¼Œç»“æœä¿ç•™ä¸¤ä½å°æ•°ï¼Œä¸”æŒ‰å æ¯”é™åºæ’åºã€‚\næ³¨ï¼š\n\nç”¨æˆ·ç­‰çº§æ ‡å‡†ç®€åŒ–ä¸ºï¼šå¿ å®ç”¨æˆ·(è¿‘7å¤©æ´»è·ƒè¿‡ä¸”éæ–°æ™‹ç”¨æˆ·)ã€æ–°æ™‹ç”¨æˆ·(è¿‘7å¤©æ–°å¢)ã€æ²‰ç¡ç”¨æˆ·(è¿‘7å¤©æœªæ´»è·ƒä½†æ›´æ—©å‰æ´»è·ƒè¿‡)ã€æµå¤±ç”¨æˆ·(è¿‘30å¤©æœªæ´»è·ƒä½†æ›´æ—©å‰æ´»è·ƒè¿‡)ã€‚\nå‡è®¾ä»Šå¤©å°±æ˜¯æ•°æ®ä¸­æ‰€æœ‰æ—¥æœŸçš„æœ€å¤§å€¼ã€‚\nè¿‘7å¤©è¡¨ç¤ºåŒ…å«å½“å¤©Tçš„è¿‘7å¤©ï¼Œå³é—­åŒºé—´[T-6, T]ã€‚\n\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹\n\n\n\nuser_grade\nratio\n\n\n\n\nå¿ å®ç”¨æˆ·\n0.43\n\n\næ–°æ™‹ç”¨æˆ·\n0.29\n\n\næ²‰ç¡ç”¨æˆ·\n0.14\n\n\næµå¤±ç”¨æˆ·\n0.14\n\n\n\nè§£é‡Šï¼š\nä»Šå¤©æ—¥æœŸä¸º2021.11.04ï¼Œæ ¹æ®ç”¨æˆ·åˆ†çº§æ ‡å‡†ï¼Œç”¨æˆ·è¡Œä¸ºæ—¥å¿—è¡¨tb_user_logä¸­å¿ å®ç”¨æˆ·æœ‰ï¼š109ã€108ã€104ï¼›æ–°æ™‹ç”¨æˆ·æœ‰105ã€102ï¼›æ²‰ç¡ç”¨æˆ·æœ‰103ï¼›æµå¤±ç”¨æˆ·æœ‰101ï¼›å…±7ä¸ªç”¨æˆ·ï¼Œå› æ­¤ä»–ä»¬çš„æ¯”ä¾‹åˆ†åˆ«ä¸º0.43ã€0.29ã€0.14ã€0.14ã€‚\nè§£æ\næœ¬é¢˜ä¸»è¦åˆ¤æ–­çš„æ˜¯ç”¨æˆ·çš„æœ€åä¸€æ¬¡æ´»è·ƒã€ç¬¬ä¸€æ¬¡æ´»è·ƒå’Œæ‰€æœ‰æ´»è·ƒæ—¥æœŸçš„æœ€å¤§å€¼çš„æ¯”è¾ƒã€‚\næ‰€ä»¥é¦–å…ˆåº”è¯¥æŸ¥æ‰¾å‡ºæ‰€æœ‰ç”¨æˆ·çš„é¦–æ¬¡æ´»è·ƒå’Œæœ€åä¸€æ¬¡æ´»è·ƒæ—¥æœŸï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨åˆ†ç»„çš„æ–¹æ³•ï¼Œæ¯ä¸€ç»„é‡Œçš„æœ€å¤§å€¼å’Œæœ€å°å€¼å³æ˜¯ç»“æœã€‚\næ‰€æœ‰æ—¥æœŸçš„æœ€å¤§å€¼å¯ä»¥é€šè¿‡å†æ¬¡æŸ¥æ‰¾è¡¨å–æ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯è¿™æ ·ä¼šé‡å¤æŸ¥æ‰¾ã€‚å¯ä»¥åœ¨åˆšåˆšæŸ¥æ‰¾æ¯ä¸ªç”¨æˆ·çš„æ´»è·ƒæ—¥æœŸæ—¶é¡ºä¾¿æŸ¥æ‰¾å‡ºæ‰€æœ‰ç”¨æˆ·çš„æœ€åæ´»è·ƒæ—¥æœŸã€‚å³åœ¨åˆ†ç»„åä½¿ç”¨ä¸€æ¬¡çª—å£å‡½æ•°ï¼Œæ±‚åˆ†ç»„åçš„ç»“æœçš„æœ€å¤§å€¼ï¼Œå³ä¸ºå…¨å±€çš„æœ€å¤§å€¼ã€‚\nSELECT    uid, MAX(out_time) last_dt, MIN(out_time) first_dt, MAX(MAX(out_time)) OVER () todayFROM tb_user_logGROUP BY uid\nè¿™é‡Œæä¾›äº†ä¸€ä¸ªæ€è·¯ï¼šå¦‚æœæƒ³åœ¨åˆ†ç»„åæ±‚å…¨å±€çš„èšåˆç»“æœï¼Œå¯ä»¥å†æ¬¡ä½¿ç”¨çª—å£å‡½æ•°è¿›è¡Œæ±‚è§£ã€‚\næ‰€ä»¥æœ¬é¢˜è§£æ³•ä¸ºï¼š\nWITH t_all AS (    SELECT        uid, MAX(out_time) last_dt, MIN(out_time) first_dt, MAX(MAX(out_time)) OVER () today    FROM tb_user_log    GROUP BY uid),t_grade AS (    SELECT        uid,        CASE            WHEN DATEDIFF(today, last_dt) &lt;= 6 AND DATEDIFF(today, first_dt) &gt; 6 THEN 'å¿ å®ç”¨æˆ·'            WHEN DATEDIFF(today, first_dt) &lt;= 6 THEN 'æ–°æ™‹ç”¨æˆ·'            WHEN DATEDIFF(today, last_dt) &gt; 29 THEN 'æµå¤±ç”¨æˆ·'            ELSE 'æ²‰ç¡ç”¨æˆ·'        END user_grade    FROM t_all)SELECT    user_grade,    ROUND(COUNT(uid) / SUM(COUNT(user_grade)) OVER (), 2) ratioFROM t_gradeGROUP BY user_gradeORDER BY ratio DESC\nåŒæ ·çš„æ€è·¯ï¼Œæœ€åéœ€è¦åˆ¤æ–­æ‰€å æ¯”ç‡ï¼Œæ¯ç±»ç”¨æˆ·çš„æ•°é‡é™¤ä»¥æ‰€æœ‰ç”¨æˆ·çš„æ•°é‡ï¼Œå·²ç»æŒ‰ç…§ç”¨æˆ·ç­‰çº§åˆ†ç»„äº†ï¼Œå¯¹åˆ†ç»„åçš„ç»“æœä½¿ç”¨çª—å£å‡½æ•°å¯¹æ¯ä¸ªç»„çš„è¡Œæ•°è¿›è¡Œæ±‚å’Œï¼Œå°±å¾—åˆ°äº†æ€»æ•°ã€‚\nSQL 170\næŸåº—é“ºçš„å„å•†å“æ¯›åˆ©ç‡åŠåº—é“ºæ•´ä½“æ¯›åˆ©ç‡\næè¿°\nå•†å“ä¿¡æ¯è¡¨tb_product_info\n\n\n\n\n\n\n\n\n\n\n\n\nid\nproduct_id\nshop_id\ntag\nin_price\nquantity\nrelease_time\n\n\n\n\n1\n8001\n901\nå®¶ç”µ\n6000\n100\n2020-01-01 10:00:00\n\n\n2\n8002\n902\nå®¶ç”µ\n12000\n50\n2020-01-01 10:00:00\n\n\n3\n8003\n901\n3Cæ•°ç \n12000\n50\n2020-01-01 10:00:00\n\n\n\nï¼ˆproduct_id-å•†å“ID, shop_id-åº—é“ºID, tag-å•†å“ç±»åˆ«æ ‡ç­¾,\nin_price-è¿›è´§ä»·æ ¼, quantity-è¿›è´§æ•°é‡, release_time-ä¸Šæ¶æ—¶é—´ï¼‰\nè®¢å•æ€»è¡¨tb_order_overall\n\n\n\n\n\n\n\n\n\n\n\n\nid\norder_id\nuid\nevent_time\ntotal_amount\ntotal_cnt\nstatus\n\n\n\n\n1\n301001\n101\n2021-10-01 10:00:00\n30000\n3\n1\n\n\n2\n301002\n102\n2021-10-01 11:00:00\n23900\n2\n1\n\n\n3\n301003\n103\n2021-10-02 10:00:00\n31000\n2\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, uid-ç”¨æˆ·ID, event_time-ä¸‹å•æ—¶é—´,\ntotal_amount-è®¢å•æ€»é‡‘é¢, total_cnt-è®¢å•å•†å“æ€»ä»¶æ•°, status-è®¢å•çŠ¶æ€ï¼‰\nè®¢å•æ˜ç»†è¡¨tb_order_detail\n\n\n\nid\norder_id\nproduct_id\nprice\ncnt\n\n\n\n\n1\n301001\n8001\n8500\n2\n\n\n2\n301001\n8002\n15000\n1\n\n\n3\n301002\n8001\n8500\n1\n\n\n4\n301002\n8002\n16000\n1\n\n\n5\n301003\n8002\n14000\n1\n\n\n6\n301003\n8003\n18000\n1\n\n\n\nï¼ˆorder_id-è®¢å•å·, product_id-å•†å“ID, price-å•†å“å•ä»·,\ncnt-ä¸‹å•æ•°é‡ï¼‰\nåœºæ™¯é€»è¾‘è¯´æ˜ï¼š\n\nç”¨æˆ·å°†è´­ç‰©è½¦ä¸­å¤šä»¶å•†å“ä¸€èµ·ä¸‹å•æ—¶ï¼Œè®¢å•æ€»è¡¨ä¼šç”Ÿæˆä¸€ä¸ªè®¢å•ï¼ˆä½†æ­¤æ—¶æœªä»˜æ¬¾ï¼Œstatus-è®¢å•çŠ¶æ€ä¸º0è¡¨ç¤ºå¾…ä»˜æ¬¾ï¼‰ï¼Œåœ¨è®¢å•æ˜ç»†è¡¨ç”Ÿæˆè¯¥è®¢å•ä¸­æ¯ä¸ªå•†å“çš„ä¿¡æ¯ï¼›\nå½“ç”¨æˆ·æ”¯ä»˜å®Œæˆæ—¶ï¼Œåœ¨è®¢å•æ€»è¡¨ä¿®æ”¹å¯¹åº”è®¢å•è®°å½•çš„status-è®¢å•çŠ¶æ€ä¸º1è¡¨ç¤ºå·²ä»˜æ¬¾ï¼›\nè‹¥ç”¨æˆ·é€€è´§é€€æ¬¾ï¼Œåœ¨è®¢å•æ€»è¡¨ç”Ÿæˆä¸€æ¡äº¤æ˜“æ€»é‡‘é¢ä¸ºè´Ÿå€¼çš„è®°å½•ï¼ˆè¡¨ç¤ºé€€æ¬¾é‡‘é¢ï¼Œè®¢å•å·ä¸ºé€€æ¬¾å•å·ï¼Œstatus-è®¢å•çŠ¶æ€ä¸º2è¡¨ç¤ºå·²é€€æ¬¾ï¼‰ã€‚\n\né—®é¢˜ï¼šè¯·è®¡ç®—2021å¹´10æœˆä»¥æ¥åº—é“º901ä¸­å•†å“æ¯›åˆ©ç‡å¤§äº24.9%çš„å•†å“ä¿¡æ¯åŠåº—é“ºæ•´ä½“æ¯›åˆ©ç‡ã€‚\næ³¨ï¼šå•†å“æ¯›åˆ©ç‡=(1-è¿›ä»·/å¹³å‡å•ä»¶å”®ä»·)*100%ï¼›\nåº—é“ºæ¯›åˆ©ç‡=(1-æ€»è¿›ä»·æˆæœ¬/æ€»é”€å”®æ”¶å…¥)*100%ã€‚\nç»“æœå…ˆè¾“å‡ºåº—é“ºæ¯›åˆ©ç‡ï¼Œå†æŒ‰å•†å“IDå‡åºè¾“å‡ºå„å•†å“æ¯›åˆ©ç‡ï¼Œå‡ä¿ç•™1ä½å°æ•°ã€‚\nè¾“å‡ºç¤ºä¾‹ï¼š\nç¤ºä¾‹æ•°æ®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n\n\n\nproduct_id\nprofit_rate\n\n\n\n\nåº—é“ºæ±‡æ€»\n31.0%\n\n\n8001\n29.4%\n\n\n8003\n33.3%\n\n\n\nè§£é‡Šï¼š\nåº—é“º901æœ‰ä¸¤ä»¶å•†å“8001å’Œ8003ï¼›8001å”®å‡ºäº†3ä»¶ï¼Œé”€å”®æ€»é¢ä¸º25500ï¼Œè¿›ä»·æ€»é¢ä¸º18000ï¼Œæ¯›åˆ©ç‡ä¸º1-18000/25500=29.4%ï¼Œ8003å”®å‡ºäº†1ä»¶ï¼Œå”®ä»·ä¸º18000ï¼Œè¿›ä»·ä¸º12000ï¼Œæ¯›åˆ©ç‡ä¸º33.3%ï¼›\nåº—é“ºå–å‡ºçš„è¿™4ä»¶å•†å“æ€»é”€å”®é¢ä¸º43500ï¼Œæ€»è¿›ä»·ä¸º30000ï¼Œæ¯›åˆ©ç‡ä¸º1-30000/43500=31.0%\nè§£æï¼ˆWITH ROLLUPï¼‰\né¢˜ç›®ç†è§£ä¸éš¾ï¼Œéš¾ç‚¹åœ¨äºæ€ä¹ˆåŒæ—¶è®¡ç®—å‡ºæ¯ä¸ªå•†å“çš„æ¯›åˆ©ç‡å’Œåº—é“ºæ•´ä½“æ¯›åˆ©ç‡ã€‚\nç¬¬ä¸€ç§å¯ä»¥é‡‡ç”¨åˆ†åˆ«è®¡ç®—çš„æ–¹æ³•ï¼Œå…ˆè®¡ç®—å‡ºåº—é“ºçš„æ¯›åˆ©ç‡ç„¶åå†è®¡ç®—æ¯ä¸ªå•†å“çš„æ¯›åˆ©ç‡ï¼Œæœ€åè¿›è¡Œåˆå¹¶å³å¯ã€‚\nç¬¬äºŒç§æ˜¯é‡‡ç”¨WITH ROLLUPæ–¹æ³•ï¼Œå› ä¸ºæ•´ä½“æ¯›åˆ©ç‡å’ŒæŸä¸ªå•†å“çš„æ¯›åˆ©ç‡è®¡ç®—æ–¹æ³•ç›¸ä¼¼ã€‚\nè¿™é‡Œéœ€è¦å¯¹å•†å“æ¯›åˆ©ç‡çš„è®¡ç®—æ–¹æ³•åšä¸€ä¸ªè½¬æ¢ã€‚è¿›ä»·å¹³å‡å•ä»¶å”®ä»·ï¼Œä¸Šä¸‹åŒæ—¶ä¹˜å‡ºå”®çš„æ€»æ•°é‡ï¼Œå°±å˜æˆäº†æ€»è¿›ä»·æˆæœ¬è¯¥å•†å“æ€»é”€å”®æ”¶å…¥ï¼Œæ‰€ä»¥è®¡ç®—æ–¹æ³•å’Œè®¡ç®—æ•´ä½“æ¯›åˆ©ç‡ç›¸åŒã€‚\nSELECT    product_id, CONCAT(profit_rate, '%') profit_rateFROM (    SELECT        COALESCE(product_id, 'åº—é“ºæ±‡æ€»') product_id,        ROUND(100 * (1 - SUM(in_price*cnt) / SUM(price*cnt)), 1) profit_rate    FROM (        SELECT info.product_id, info.in_price, detail.price, detail.cnt        FROM tb_order_detail detail        INNER JOIN tb_product_info info        ON detail.product_id = info.product_id        INNER JOIN tb_order_overall overall        ON detail.order_id = overall.order_id        WHERE info.shop_id = 901        AND DATE(overall.event_time) &gt;= '2021-10-01'    ) t1    GROUP BY product_id WITH ROLLUP    HAVING profit_rate &gt;= 24.9    OR product_id IS NULL    ORDER BY product_id) t2\n","categories":["ç‰›å®¢"],"tags":["SQL","ç‰›å®¢"]},{"title":"LeetCode SQLé¢˜ç¬”è®°","url":"/ef9b8a95b3fe/leetcode-sql%E9%A2%98%E7%AC%94%E8%AE%B0/","content":"197.ä¸Šå‡çš„æ¸©åº¦\nè¡¨ï¼š Weather\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| id            | int     || recordDate    | date    || temperature   | int     |+---------------+---------+id æ˜¯è¯¥è¡¨å…·æœ‰å”¯ä¸€å€¼çš„åˆ—ã€‚è¯¥è¡¨åŒ…å«ç‰¹å®šæ—¥æœŸçš„æ¸©åº¦ä¿¡æ¯\n\nç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œæ‰¾å‡ºä¸ä¹‹å‰ï¼ˆæ˜¨å¤©çš„ï¼‰æ—¥æœŸç›¸æ¯”æ¸©åº¦æ›´é«˜çš„æ‰€æœ‰æ—¥æœŸçš„\nid ã€‚\nè¿”å›ç»“æœ æ— é¡ºåºè¦æ±‚ ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹å­æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šWeather è¡¨ï¼š+----+------------+-------------+| id | recordDate | Temperature |+----+------------+-------------+| 1  | 2015-01-01 | 10          || 2  | 2015-01-02 | 25          || 3  | 2015-01-03 | 20          || 4  | 2015-01-04 | 30          |+----+------------+-------------+è¾“å‡ºï¼š+----+| id |+----+| 2  || 4  |+----+è§£é‡Šï¼š2015-01-02 çš„æ¸©åº¦æ¯”å‰ä¸€å¤©é«˜ï¼ˆ10 -&gt; 25ï¼‰2015-01-04 çš„æ¸©åº¦æ¯”å‰ä¸€å¤©é«˜ï¼ˆ20 -&gt; 30ï¼‰\nè§£æ(datediffå‡½æ•°)\nè¿™é“é¢˜é¦–å…ˆæ˜¯è¦å¾—åˆ°idï¼Œå…¶æ¬¡æ˜¯éœ€è¦æ¯”è¾ƒæ—¥æœŸå’Œæ¸©åº¦ï¼Œæ¸©åº¦å®¹æ˜“æ¯”è¾ƒï¼Œä½¿ç”¨&gt; &lt;ç­‰å³å¯ï¼Œä½†æ˜¯æ—¥æœŸç±»å‹ä¸èƒ½ç›´æ¥æ¯”è¾ƒï¼Œå¦åˆ™ä¼šæœ‰é—®é¢˜ï¼Œå¦‚1å·çš„å‰ä¸€å¤©æ˜¯30å·æˆ–è€…31å·ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æ—¥æœŸæ¯”è¾ƒå‡½æ•°ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯datediff(æ—¥æœŸ1ï¼Œ æ—¥æœŸ2)å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„æ˜¯æ—¥æœŸ1 - æ—¥æœŸ2ç›¸å·®çš„å¤©æ•°ï¼Œå¦‚datediff('2023-01-11', '2023-01-10')è¿”å›çš„æ˜¯1ï¼Œè€Œdatediff('2023-01-10', '2023-01-11')è¿”å›çš„æ˜¯-1ã€‚\nä½¿ç”¨ä»€ä¹ˆç¬¦å·ã€å‡½æ•°è¿›è¡Œæ¯”è¾ƒè§£å†³äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦æ€è€ƒå¦‚ä½•è§£ç­”è¿™é“é¢˜ã€‚éœ€è¦åˆ¤æ–­çš„æ˜¯â€œä»Šå¤©â€æ¯”â€œæ˜¨å¤©â€çš„æ¸©åº¦é«˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´datediff(ä»Šå¤©, æ˜¨å¤©)åº”è¯¥è¿”å›1ï¼Œä½†æ˜¯åœ¨ä¸€ä¸ªè¡¨ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸä¸å®¹æ˜“å®ç°ï¼Œå› æ­¤å¯ä»¥å°è¯•ä½¿ç”¨è‡ªè¿æ¥ã€‚\nselect w2.id idfrom weather w1, weather w2where datediff(w2.recordDate , w1.recordDate) = 1and w2.temperature &gt; w1.temperature;\nä»¥ä¸Šsqlè¡¨ç¤ºï¼Œä»å·¦è¡¨w1ï¼ˆé©±åŠ¨è¡¨ï¼‰å–å‡ºæ‰€æœ‰æ•°æ®ï¼Œç„¶åä¾æ¬¡ç”¨æ¯ä¸€æ¡æ•°æ®å¯¹æ¯”å³è¡¨w2ï¼ˆè¢«é©±åŠ¨è¡¨ï¼‰çš„æ•°æ®ï¼Œå¯¹æ¯”çš„æ¡ä»¶å°±æ˜¯datediff(w2.recordDate , w1.recordDate) = 1 and w2.temperature &gt; w1.temperatureï¼Œå½“æ»¡è¶³è¿™ä¸ªæ¡ä»¶æ—¶ï¼Œå³è¿”å›â€œä»Šå¤©â€ï¼ˆw2.idï¼‰çš„æ•°æ®ï¼Œå› ä¸ºæ¡ä»¶æ˜¯w2æ—¥æœŸæ¯”è¾ƒå¤§ï¼Œå¦‚æœéœ€è¦è¿”å›â€œæ˜¨å¤©â€çš„æ•°æ®å³è¿”å›w1.idã€‚\n586.è®¢å•æœ€å¤šçš„å®¢æˆ·\nè¡¨: Orders\n+-----------------+----------+| Column Name     | Type     |+-----------------+----------+| order_number    | int      || customer_number | int      |+-----------------+----------+åœ¨ SQL ä¸­ï¼ŒOrder_numberæ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚æ­¤è¡¨åŒ…å«å…³äºè®¢å•IDå’Œå®¢æˆ·IDçš„ä¿¡æ¯ã€‚\næŸ¥æ‰¾ä¸‹äº† æœ€å¤šè®¢å• çš„å®¢æˆ·çš„\ncustomer_number ã€‚\næµ‹è¯•ç”¨ä¾‹ç”Ÿæˆåï¼Œ æ°å¥½æœ‰ä¸€ä¸ªå®¢æˆ·\næ¯”ä»»ä½•å…¶ä»–å®¢æˆ·ä¸‹äº†æ›´å¤šçš„è®¢å•ã€‚\næŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥: Orders è¡¨:+--------------+-----------------+| order_number | customer_number |+--------------+-----------------+| 1            | 1               || 2            | 2               || 3            | 3               || 4            | 3               |+--------------+-----------------+è¾“å‡º: +-----------------+| customer_number |+-----------------+| 3               |+-----------------+è§£é‡Š: customer_number ä¸º '3' çš„é¡¾å®¢æœ‰ä¸¤ä¸ªè®¢å•ï¼Œæ¯”é¡¾å®¢ '1' æˆ–è€… '2' éƒ½è¦å¤šï¼Œå› ä¸ºä»–ä»¬åªæœ‰ä¸€ä¸ªè®¢å•ã€‚æ‰€ä»¥ç»“æœæ˜¯è¯¥é¡¾å®¢çš„ customer_number ï¼Œä¹Ÿå°±æ˜¯ 3 ã€‚\nè¿›é˜¶ï¼š\nå¦‚æœæœ‰å¤šä½é¡¾å®¢è®¢å•æ•°å¹¶åˆ—æœ€å¤šï¼Œä½ èƒ½æ‰¾åˆ°ä»–ä»¬æ‰€æœ‰çš„\ncustomer_number å—ï¼Ÿ\nè§£æ\nè¿™é“é¢˜éœ€è¦æŸ¥è¯¢æœ€å¤šè®¢å•çš„å®¢æˆ·ï¼Œè¡¨ä¸­çš„è®¢å•å·order_numberæ˜¯ä¸»é”®ï¼Œä¹Ÿå°±æ˜¯å”¯ä¸€çš„ï¼Œè€Œå®¢æˆ·å·customer_numberå¯ä»¥é‡å¤ï¼Œå› æ­¤ç›¸åŒçš„å®¢æˆ·å·çš„æ•°é‡å³ä¸ºè®¢å•æ•°é‡ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ä½¿ç”¨åˆ†ç»„èšåˆï¼Œä½¿ç”¨countè¿›è¡ŒæŸ¥è¯¢æ¯ä¸ªå®¢æˆ·çš„è®¢å•æ•°é‡ï¼Œç„¶åå†è¿›è¡Œå€’åºæ’åºå–ç¬¬ä¸€ä¸ªå³å¯æŸ¥è¯¢åˆ°æœ€å¤šæ•°é‡çš„å®¢æˆ·å·ã€‚\nselect customer_numberfrom ordersgroup by customer_numberorder by count(customer_number) desclimit 1;\né¢˜ç›®ä¸­è¿›é˜¶è¦æ±‚ï¼Œå¦‚æœå¤šä½é¡¾å®¢è®¢å•æ•°å¹¶åˆ—æœ€å¤šï¼ŒæŠŠæ‰€æœ‰çš„æŸ¥è¯¢å‡ºæ¥ã€‚é¦–å…ˆå¯ä»¥æ˜ç¡®ï¼Œå¦‚æœå¤šä¸ªé¡¾å®¢è®¢å•æ•°é‡éƒ½æ˜¯æœ€å¤šçš„ï¼Œä¸Šè¿°ä»£ç ä¸­æŸ¥è¯¢åˆ°çš„æ˜¯æœ€å¤šæ•°é‡ï¼Œå› æ­¤å¤šä¸ªé¡¾å®¢è®¢å•æ•°é‡æœ€å¤šä¹Ÿæ˜¯è¿™ä¸ªæ•°çš„å¤§å°ã€‚å› æ­¤åªéœ€è¦å†åŒ…ä¸€å±‚æŸ¥è¯¢è¿›è¡ŒåµŒå¥—ï¼Œæ¯”è¾ƒä¸€ä¸‹å½“å‰é¡¾å®¢çš„æ•°é‡æ˜¯ä¸æ˜¯ç­‰äºå½“å‰æ•°é‡å³å¯ã€‚\nselect customer_numberfrom ordersgroup by customer_numberhaving count(customer_number) = (    select count(customer_number) cnt    from orders    group by customer_number    order by cnt desc    limit 1);\nç•¥ä½œä¿®æ”¹ï¼Œå¦‚æœç›´æ¥å¯¹count(customer_number)æ’åºä¼šæŠ¥é”™ï¼Œéœ€è¦åœ¨selectä¸­è¿›è¡ŒæŸ¥è¯¢å–åˆ«åï¼Œç„¶åå†å¯¹åˆ«åè¿›è¡Œæ’åºã€‚\n610.åˆ¤æ–­ä¸‰è§’å½¢\nè¡¨: Triangle\n+-------------+------+| Column Name | Type |+-------------+------+| x           | int  || y           | int  || z           | int  |+-------------+------+åœ¨ SQL ä¸­ï¼Œ(x, y, z)æ˜¯è¯¥è¡¨çš„ä¸»é”®åˆ—ã€‚è¯¥è¡¨çš„æ¯ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªçº¿æ®µçš„é•¿åº¦ã€‚\nå¯¹æ¯ä¸‰ä¸ªçº¿æ®µæŠ¥å‘Šå®ƒä»¬æ˜¯å¦å¯ä»¥å½¢æˆä¸€ä¸ªä¸‰è§’å½¢ã€‚\nä»¥ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚\næŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥: Triangle è¡¨:+----+----+----+| x  | y  | z  |+----+----+----+| 13 | 15 | 30 || 10 | 20 | 15 |+----+----+----+è¾“å‡º: +----+----+----+----------+| x  | y  | z  | triangle |+----+----+----+----------+| 13 | 15 | 30 | No       || 10 | 20 | 15 | Yes      |+----+----+----+----------+\nè§£æ(case whenæ¡ä»¶åˆ¤æ–­)\né¢˜ç›®ä¸éš¾ï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚é—®é¢˜åœ¨äºå¦‚ä½•åˆ¤æ–­å¹¶ä¸”è¾“å‡ºYesorNoã€‚\nè¿™é‡Œä½¿ç”¨case whenè¿›è¡Œåˆ¤æ–­ã€‚\nselect x, y, z,     case        when x + y &gt; z and x + z &gt; y and y + z &gt; x then 'Yes'        else 'No'    end 'triangle'from triangle;\n619.åªå‡ºç°ä¸€æ¬¡çš„æœ€å¤§æ•°å­—\nMyNumbers è¡¨ï¼š\n+-------------+------+| Column Name | Type |+-------------+------+| num         | int  |+-------------+------+è¯¥è¡¨å¯èƒ½åŒ…å«é‡å¤é¡¹ï¼ˆæ¢å¥è¯è¯´ï¼Œåœ¨SQLä¸­ï¼Œè¯¥è¡¨æ²¡æœ‰ä¸»é”®ï¼‰ã€‚è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œéƒ½å«æœ‰ä¸€ä¸ªæ•´æ•°ã€‚\nå•ä¸€æ•°å­— æ˜¯åœ¨ MyNumbers\nè¡¨ä¸­åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚\næ‰¾å‡ºæœ€å¤§çš„ å•ä¸€æ•°å­— ã€‚å¦‚æœä¸å­˜åœ¨\nå•ä¸€æ•°å­— ï¼Œåˆ™è¿”å› null ã€‚\næŸ¥è¯¢ç»“æœå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šMyNumbers è¡¨ï¼š+-----+| num |+-----+| 8   || 8   || 3   || 3   || 1   || 4   || 5   || 6   |+-----+è¾“å‡ºï¼š+-----+| num |+-----+| 6   |+-----+è§£é‡Šï¼šå•ä¸€æ•°å­—æœ‰ 1ã€4ã€5 å’Œ 6 ã€‚6 æ˜¯æœ€å¤§çš„å•ä¸€æ•°å­—ï¼Œè¿”å› 6 ã€‚\nç¤ºä¾‹ 2ï¼š\nè¾“å…¥ï¼šMyNumbers table:+-----+| num |+-----+| 8   || 8   || 7   || 7   || 3   || 3   || 3   |+-----+è¾“å‡ºï¼š+------+| num  |+------+| null |+------+è§£é‡Šï¼šè¾“å…¥çš„è¡¨ä¸­ä¸å­˜åœ¨å•ä¸€æ•°å­—ï¼Œæ‰€ä»¥è¿”å› null ã€‚\nè§£æ(maxå‡½æ•°)\né¢˜ç›®å®¹æ˜“ç†è§£ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†è§£å†³ï¼Œé¦–å…ˆæ˜¯æŸ¥è¯¢åˆ°åªå‡ºç°äº†ä¸€æ¬¡çš„æ•°å­—ï¼Œç„¶åä»ä¸­å–æœ€å¤§å€¼ã€‚\nå…¶ä¸­çš„æ¯”è¾ƒéš¾å¤„ç†çš„æ˜¯å¦‚æœæ²¡æœ‰å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œéœ€è¦è¿”å›nullã€‚\nè¿™é‡Œä½¿ç”¨åµŒå¥—æŸ¥è¯¢å’Œmaxå‡½æ•°ã€‚å…¶ä¸­maxå‡½æ•°åœ¨æŸ¥è¯¢è¡¨ä¸ºç©ºæ—¶ä¼šè¿”å›nullå€¼ã€‚\nselect max(num) numfrom (    select num    from mynumbers    group by num    having count(num) = 1) t\n1084.é”€å”®åˆ†æIII\nè¡¨ï¼š Product\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| product_id   | int     || product_name | varchar || unit_price   | int     |+--------------+---------+product_id æ˜¯è¯¥è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—ï¼‰ã€‚è¯¥è¡¨çš„æ¯ä¸€è¡Œæ˜¾ç¤ºæ¯ä¸ªäº§å“çš„åç§°å’Œä»·æ ¼ã€‚\nè¡¨ï¼šSales\n+-------------+---------+| Column Name | Type    |+-------------+---------+| seller_id   | int     || product_id  | int     || buyer_id    | int     || sale_date   | date    || quantity    | int     || price       | int     |+------ ------+---------+è¿™ä¸ªè¡¨å¯èƒ½æœ‰é‡å¤çš„è¡Œã€‚product_id æ˜¯ Product è¡¨çš„å¤–é”®ï¼ˆreference åˆ—ï¼‰ã€‚è¯¥è¡¨çš„æ¯ä¸€è¡ŒåŒ…å«å…³äºä¸€ä¸ªé”€å”®çš„ä¸€äº›ä¿¡æ¯ã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆï¼ŒæŠ¥å‘Š2019å¹´æ˜¥å­£æ‰å”®å‡ºçš„äº§å“ã€‚å³ä»…åœ¨2019-01-01è‡³2019-03-31ï¼ˆå«ï¼‰ä¹‹é—´å‡ºå”®çš„å•†å“ã€‚\nä»¥ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šProduct table:+------------+--------------+------------+| product_id | product_name | unit_price |+------------+--------------+------------+| 1          | S8           | 1000       || 2          | G4           | 800        || 3          | iPhone       | 1400       |+------------+--------------+------------+Sales table:+-----------+------------+----------+------------+----------+-------+| seller_id | product_id | buyer_id | sale_date  | quantity | price |+-----------+------------+----------+------------+----------+-------+| 1         | 1          | 1        | 2019-01-21 | 2        | 2000  || 1         | 2          | 2        | 2019-02-17 | 1        | 800   || 2         | 2          | 3        | 2019-06-02 | 1        | 800   || 3         | 3          | 4        | 2019-05-13 | 2        | 2800  |+-----------+------------+----------+------------+----------+-------+è¾“å‡ºï¼š+-------------+--------------+| product_id  | product_name |+-------------+--------------+| 1           | S8           |+-------------+--------------+è§£é‡Š:id ä¸º 1 çš„äº§å“ä»…åœ¨ 2019 å¹´æ˜¥å­£é”€å”®ã€‚id ä¸º 2 çš„äº§å“åœ¨ 2019 å¹´æ˜¥å­£é”€å”®ï¼Œä½†ä¹Ÿåœ¨ 2019 å¹´æ˜¥å­£ä¹‹åé”€å”®ã€‚id ä¸º 3 çš„äº§å“åœ¨ 2019 å¹´æ˜¥å­£ä¹‹åé”€å”®ã€‚æˆ‘ä»¬åªè¿”å› id ä¸º 1 çš„äº§å“ï¼Œå› ä¸ºå®ƒæ˜¯ 2019 å¹´æ˜¥å­£æ‰é”€å”®çš„äº§å“ã€‚\nè§£æ(countæ¡ä»¶è®¡æ•°)\nè¿™é“é¢˜æ˜¯è¦å¯»æ‰¾ä»…åœ¨ç¬¬ä¸€å­£åº¦é”€å”®çš„äº§å“ï¼Œè½¬æ¢æ€è·¯æ˜¯ï¼šåœ¨ç¬¬ä¸€å­£åº¦é”€å”®çš„äº§å“æ•°é‡å’Œé”€å”®çš„æ€»äº§å“æ•°é‡æ˜¯ç›¸ç­‰çš„ã€‚\nå› æ­¤å¯ä»¥åˆ©ç”¨countå‡½æ•°çš„æ¡ä»¶è®¡æ•°æ¥åšã€‚\nselect s.product_id, p.product_namefrom Sales sinner join Product pon s.product_id = p.product_idgroup by s.product_idhaving count(s.sale_date between '2019-01-01' and '2019-03-31' or null) = count(*);\nå…¶ä¸­count(s.sale_date between '2019-01-01' and '2019-03-31' or null)ä¸­çš„or nullæ˜¯å›ºå®šå†™æ³•ï¼Œä¸å†™çš„è¯ç­‰ä»·äºcount(*)ã€‚ä¹Ÿå¯ä»¥å†™æˆcount(if(s.sale_date between '2019-01-01' and '2019-03-31', 1, null))\nMySQLå¸¸ç”¨å››èˆäº”å…¥å‡½æ•°\n\n\n\n\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nfloor(x)\nè¿”å›ä¸å¤§äºxçš„æœ€å¤§æ•´æ•°ï¼ˆä¸‹å–æ•´ï¼‰\n\n\nceil(x), ceiling(x)\nè¿”å›ä¸å°äºxçš„æœ€å°æ•´æ•°ï¼ˆä¸Šå–æ•´ï¼‰\n\n\ntruncate(x, d)\nè¿”å›æ•°å€¼xä¿ç•™åˆ°å°æ•°ç‚¹ådä½çš„å€¼ï¼Œç›´æ¥æˆªæ–­ï¼Œä¸å››èˆäº”å…¥\n\n\nround(x, d)\nä¿ç•™å°æ•°ç‚¹ådä½çš„å€¼ï¼Œæˆªæ–­æ—¶å››èˆäº”å…¥\n\n\nformat(x, d)\nå°†æ•°å­—xæ ¼å¼åŒ–ï¼Œä¿ç•™åˆ°å°æ•°ç‚¹ådä½ï¼Œæˆªæ–­æ—¶å››èˆäº”å…¥\n\n\n\nMySQLå¸¸ç”¨å­—ç¬¦ä¸²å‡½æ•°\n\n\n\n\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nleft(str, len)\nå­—ç¬¦ä¸²ä»å·¦å‘å³æˆªå–lené•¿åº¦çš„å­—ç¬¦ä¸²\n\n\nright(str, len)\nå­—ç¬¦ä¸²ä»å³å‘å·¦æˆªå–lené•¿åº¦çš„å­—ç¬¦ä¸²\n\n\nsubstring(str, pos [, len])\nå­—ç¬¦ä¸²ä»posä½ç½®å¼€å§‹æˆªå–é•¿åº¦ä¸ºlençš„å­—ç¬¦ä¸²ï¼Œå¦‚æœlençœç•¥ï¼Œåˆ™æˆªå–åˆ°æœ€å\n\n\nupper(str)\nå¤§å†™å­—ç¬¦ä¸²\n\n\nlower(str)\nå°å†™å­—ç¬¦ä¸²\n\n\nconcat(str1, str2 [, ...])\nè¿æ¥å­—ç¬¦ä¸²\n\n\nlength(str)\nè¿”å›å­—ç¬¦ä¸²çš„å­˜å‚¨é•¿åº¦\n\n\nchar_length(str)\nè¿”å›å­—ç¬¦ä¸²çš„å­—ç¬¦é•¿åº¦\n\n\n\nMySQLæ—¶é—´æ—¥æœŸå‡½æ•°\n\n\n\n\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\ndatediff(endtime, starttime)\næ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸç›¸å·®å¤šå°‘å¤©ï¼Œè¿”å›endtime - starttimeç›¸å·®çš„æ•°å€¼\n\n\ntimediff(endtime, starttime)\næ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸç›¸å·®å¤šé•¿æ—¶é—´ï¼Œè¿”å›endtime -\nstarttimeç›¸å·®çš„æ—¶é—´ï¼Œä»¥hh:MM:sså½¢å¼è¿”å›\n\n\ntimestampdiff(unit, starttime, endtime)\næŒ‰ç…§unitæŒ‡å®šçš„å•ä½è¿”å›endtime - starttimeï¼Œå¦‚second dayç­‰\n\n\nweekday(time)\nè¿”å›æ˜ŸæœŸçš„ç´¢å¼•ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸä¸€ï¼Œ1è¡¨ç¤ºæ˜ŸæœŸäºŒï¼Œä»¥æ­¤ç±»æ¨\n\n\ndate_format(time, format)\ndate_format(now(), '%Y-%m-%d\n%H:%i:%s')æ ¼å¼åŒ–æˆå¹´æœˆæ—¥æ—¶åˆ†ç§’çš„å½¢å¼ï¼Œæ³¨æ„åˆ†é’Ÿæ˜¯%i\n\n\nstr_to_date(time, format)\nå°†å­—ç¬¦ä¸²è½¬æˆæ—¥æœŸ\n\n\n\nmysql\nbetween and è¾¹ç•Œé—®é¢˜-CSDNåšå®¢\nSQLè¯­å¥between\nandè¾¹ç•Œé—®é¢˜ - æ¥¼å…°èƒ¡æ¨ - åšå®¢å›­ (cnblogs.com)\nsqlæ‰§è¡Œé¡ºåº\nmysql\nä¸­çš„select,from,where,group byç­‰ å…³é”®å­— æ‰§è¡Œé¡ºåºä¸åˆ«åé—®é¢˜_mysql join\nwhere group é¡ºåº-CSDNåšå®¢\nSQLé«˜çº§:çª—å£å‡½æ•°+èšåˆå‡½æ•° -\nçŸ¥ä¹ (zhihu.com)\n1179.é‡æ–°æ ¼å¼åŒ–éƒ¨é—¨è¡¨\n\n\n\nè¡¨ Departmentï¼š\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| id            | int     || revenue       | int     || month         | varchar |+---------------+---------+åœ¨ SQL ä¸­ï¼Œ(id, month) æ˜¯è¡¨çš„è”åˆä¸»é”®ã€‚è¿™ä¸ªè¡¨æ ¼æœ‰å…³äºæ¯ä¸ªéƒ¨é—¨æ¯æœˆæ”¶å…¥çš„ä¿¡æ¯ã€‚æœˆä»½ï¼ˆmonthï¼‰å¯ä»¥å–ä¸‹åˆ—å€¼ [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]ã€‚\né‡æ–°æ ¼å¼åŒ–è¡¨æ ¼ï¼Œä½¿å¾— æ¯ä¸ªæœˆ éƒ½æœ‰ä¸€ä¸ªéƒ¨é—¨ id\nåˆ—å’Œä¸€ä¸ªæ”¶å…¥åˆ—ã€‚\nä»¥ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚\nç»“æœæ ¼å¼å¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šDepartment table:+------+---------+-------+| id   | revenue | month |+------+---------+-------+| 1    | 8000    | Jan   || 2    | 9000    | Jan   || 3    | 10000   | Feb   || 1    | 7000    | Feb   || 1    | 6000    | Mar   |+------+---------+-------+è¾“å‡ºï¼š+------+-------------+-------------+-------------+-----+-------------+| id   | Jan_Revenue | Feb_Revenue | Mar_Revenue | ... | Dec_Revenue |+------+-------------+-------------+-------------+-----+-------------+| 1    | 8000        | 7000        | 6000        | ... | null        || 2    | 9000        | null        | null        | ... | null        || 3    | null        | 10000       | null        | ... | null        |+------+-------------+-------------+-------------+-----+-------------+è§£é‡Šï¼šå››æœˆåˆ°åäºŒæœˆçš„æ”¶å…¥ä¸ºç©ºã€‚ è¯·æ³¨æ„ï¼Œç»“æœè¡¨å…±æœ‰ 13 åˆ—ï¼ˆ1 åˆ—ç”¨äºéƒ¨é—¨ IDï¼Œå…¶ä½™ 12 åˆ—ç”¨äºå„ä¸ªæœˆä»½ï¼‰ã€‚\nè§£æ(group byåŸç†ï¼Œè¡Œè½¬åˆ—)\nä¸€é“è¡Œè½¬åˆ—é—®é¢˜ã€‚å‚è€ƒåŠ›æ‰£é¢˜è§£ã€‚\né¦–å…ˆéœ€è¦äº†è§£group byçš„åŸç†ï¼Œå¯ä»¥å‚è€ƒé“¾æ¥ã€‚\nselect    id    , sum(case when month = 'Jan' then revenue end) Jan_Revenue    , sum(case when month = 'Feb' then revenue end) Feb_Revenue    , sum(case when month = 'Mar' then revenue end) Mar_Revenue    , sum(case when month = 'Apr' then revenue end) Apr_Revenue    , sum(case when month = 'May' then revenue end) May_Revenue    , sum(case when month = 'Jun' then revenue end) Jun_Revenue    , sum(case when month = 'Jul' then revenue end) Jul_Revenue    , sum(case when month = 'Aug' then revenue end) Aug_Revenue    , sum(case when month = 'Sep' then revenue end) Sep_Revenue    , sum(case when month = 'Oct' then revenue end) Oct_Revenue    , sum(case when month = 'Nov' then revenue end) Nov_Revenue    , sum(case when month = 'Dec' then revenue end) Dec_Revenuefrom Departmentgroup by id;\nè¿™é‡Œä¸»è¦è§£é‡Šä¸€ä¸‹ä»£ç ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨sumèšåˆå‡½æ•°ã€‚\nåˆ†ç»„åçš„è™šæ‹Ÿè¡¨å¯ä»¥çœ‹æˆå¦‚ä¸‹å½¢å¼ï¼š\n+------+---------+-------+| id   | revenue | month |+------+---------+-------+|      | 8000    | Jan   || 1    | 7000    | Feb   ||      | 6000    | Mar   |+------+---------+-------+| 2    | 9000    | Jan   |+------+---------+-------+| 3    | 10000   | Feb   |+------+---------+-------+\nå› ä¸ºcase whenæ¡ä»¶åªè¯»å–å•å…ƒæ ¼ä¸­ç¬¬ä¸€ä¸ªæ•°æ®ï¼Œè€Œåˆ†ç»„åçš„å•å…ƒæ ¼monthåˆ—çš„å•å…ƒæ ¼å¯èƒ½ä¼šæœ‰å¤šä¸ªæ•°æ®ï¼Œå› æ­¤éœ€è¦éå†å•å…ƒæ ¼æ‰€æœ‰æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨èšåˆå‡½æ•°è¿›è¡Œéå†ã€‚æ¯ä¸€ä¸ªæŸ¥è¯¢å±æ€§åœ¨å•å…ƒæ ¼ä¸­åªä¼šå¯¹åº”ä¸€ä¸ªæ•°æ®æˆ–è€…æ²¡æœ‰å¯¹åº”æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç»“æœä¸ºrevenueæˆ–è€…nullï¼Œå› æ­¤ç»“æœæ²¡æœ‰åå·®ã€‚\n1795.æ¯ä¸ªäº§å“åœ¨ä¸åŒå•†åº—çš„ä»·æ ¼\nè¡¨ï¼šProducts\n+-------------+---------+| Column Name | Type    |+-------------+---------+| product_id  | int     || store1      | int     || store2      | int     || store3      | int     |+-------------+---------+åœ¨ SQL ä¸­ï¼Œè¿™å¼ è¡¨çš„ä¸»é”®æ˜¯ product_idï¼ˆäº§å“Idï¼‰ã€‚æ¯è¡Œå­˜å‚¨äº†è¿™ä¸€äº§å“åœ¨ä¸åŒå•†åº— store1, store2, store3 çš„ä»·æ ¼ã€‚å¦‚æœè¿™ä¸€äº§å“åœ¨å•†åº—é‡Œæ²¡æœ‰å‡ºå”®ï¼Œåˆ™å€¼å°†ä¸º nullã€‚\nè¯·ä½ é‡æ„ Products\nè¡¨ï¼ŒæŸ¥è¯¢æ¯ä¸ªäº§å“åœ¨ä¸åŒå•†åº—çš„ä»·æ ¼ï¼Œä½¿å¾—è¾“å‡ºçš„æ ¼å¼å˜ä¸º(product_id, store, price)\nã€‚å¦‚æœè¿™ä¸€äº§å“åœ¨å•†åº—é‡Œæ²¡æœ‰å‡ºå”®ï¼Œåˆ™ä¸è¾“å‡ºè¿™ä¸€è¡Œã€‚\nè¾“å‡ºç»“æœè¡¨ä¸­çš„ é¡ºåºä¸ä½œè¦æ±‚ ã€‚\næŸ¥è¯¢è¾“å‡ºæ ¼å¼è¯·å‚è€ƒä¸‹é¢ç¤ºä¾‹ã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šProducts table:+------------+--------+--------+--------+| product_id | store1 | store2 | store3 |+------------+--------+--------+--------+| 0          | 95     | 100    | 105    || 1          | 70     | null   | 80     |+------------+--------+--------+--------+è¾“å‡ºï¼š+------------+--------+-------+| product_id | store  | price |+------------+--------+-------+| 0          | store1 | 95    || 0          | store2 | 100   || 0          | store3 | 105   || 1          | store1 | 70    || 1          | store3 | 80    |+------------+--------+-------+è§£é‡Šï¼šäº§å“ 0 åœ¨ store1ã€store2ã€store3 çš„ä»·æ ¼åˆ†åˆ«ä¸º 95ã€100ã€105ã€‚äº§å“ 1 åœ¨ store1ã€store3 çš„ä»·æ ¼åˆ†åˆ«ä¸º 70ã€80ã€‚åœ¨ store2 æ— æ³•ä¹°åˆ°ã€‚\nè§£æ(åˆ—è½¬è¡Œ)\nè¿™æ˜¯ä¸€é“åˆ—è½¬è¡Œé—®é¢˜ï¼Œè§£é¢˜æ€è·¯å¦‚ä¸‹ï¼š\n\nä¸€åˆ—ä¸€åˆ—å¤„ç†ï¼šæŠŠåŸæ¥çš„åˆ—åä½œä¸ºæ–°åˆ—(store)çš„valueï¼ŒåŸæ¥çš„åˆ—çš„valueä½œä¸ºå¦ä¸€ä¸ªæ–°åˆ—(price)çš„valueã€‚\nå°†æ‰€æœ‰ç»“æœunion allåˆå¹¶\nå€¼ä¸ºnullçš„éœ€è¦è·³è¿‡\n\nselect product_id, 'store1' store, store1 pricefrom Productswhere store1 is not nullunion allselect product_id, 'store2' store, store2 pricefrom Productswhere store2 is not nullunion allselect product_id, 'store3' store, store3 pricefrom Productswhere store3 is not null;\nè¿™é‡Œæ–°åˆ—'store1' storeç­‰éœ€è¦åŠ å¼•å·ï¼Œå› ä¸ºè¿™æ˜¯è¦æŠŠå¸¸é‡å€¼ä¸º'store1'çš„ä½œä¸ºstoreåˆ—ï¼Œå¦‚æœä¸åŠ å¼•å·ï¼Œåˆ™æ˜¯è®¤ä¸ºstore1è¿™åˆ—çš„å€¼ä½œä¸ºstoreåˆ—ã€‚\n1251.å¹³å‡å”®ä»·\nè¡¨ï¼šPrices\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| product_id    | int     || start_date    | date    || end_date      | date    || price         | int     |+---------------+---------+(product_idï¼Œstart_dateï¼Œend_date) æ˜¯ prices è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆï¼‰ã€‚prices è¡¨çš„æ¯ä¸€è¡Œè¡¨ç¤ºçš„æ˜¯æŸä¸ªäº§å“åœ¨ä¸€æ®µæ—¶æœŸå†…çš„ä»·æ ¼ã€‚æ¯ä¸ªäº§å“çš„å¯¹åº”æ—¶é—´æ®µæ˜¯ä¸ä¼šé‡å çš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€åŒä¸€ä¸ªäº§å“çš„ä»·æ ¼æ—¶æ®µä¸ä¼šå‡ºç°äº¤å‰ã€‚\nè¡¨ï¼šUnitsSold\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| product_id    | int     || purchase_date | date    || units         | int     |+---------------+---------+è¯¥è¡¨å¯èƒ½åŒ…å«é‡å¤æ•°æ®ã€‚è¯¥è¡¨çš„æ¯ä¸€è¡Œè¡¨ç¤ºçš„æ˜¯æ¯ç§äº§å“çš„å‡ºå”®æ—¥æœŸï¼Œå•ä½å’Œäº§å“ idã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆä»¥æŸ¥æ‰¾æ¯ç§äº§å“çš„å¹³å‡å”®ä»·ã€‚average_price åº”è¯¥\nå››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ã€‚\nè¿”å›ç»“æœè¡¨ æ— é¡ºåºè¦æ±‚ ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šPrices table:+------------+------------+------------+--------+| product_id | start_date | end_date   | price  |+------------+------------+------------+--------+| 1          | 2019-02-17 | 2019-02-28 | 5      || 1          | 2019-03-01 | 2019-03-22 | 20     || 2          | 2019-02-01 | 2019-02-20 | 15     || 2          | 2019-02-21 | 2019-03-31 | 30     |+------------+------------+------------+--------+UnitsSold table:+------------+---------------+-------+| product_id | purchase_date | units |+------------+---------------+-------+| 1          | 2019-02-25    | 100   || 1          | 2019-03-01    | 15    || 2          | 2019-02-10    | 200   || 2          | 2019-03-22    | 30    |+------------+---------------+-------+è¾“å‡ºï¼š+------------+---------------+| product_id | average_price |+------------+---------------+| 1          | 6.96          || 2          | 16.96         |+------------+---------------+è§£é‡Šï¼šå¹³å‡å”®ä»· = äº§å“æ€»ä»· / é”€å”®çš„äº§å“æ•°é‡ã€‚äº§å“ 1 çš„å¹³å‡å”®ä»· = ((100 * 5)+(15 * 20) )/ 115 = 6.96äº§å“ 2 çš„å¹³å‡å”®ä»· = ((200 * 15)+(30 * 30) )/ 230 = 16.96\nè§£æ\nè¿™é“é¢˜éš¾ç‚¹åœ¨äºä½¿ç”¨èšåˆå‡½æ•°å°†ä¸¤ä¸ªè¡¨çš„unitså’Œpriceè¿›è¡Œç›¸åŠ å†æ±‚å¹³å‡å€¼æ— æ³•ä½¿ç”¨èšåˆå‡½æ•°å¯¹ä¸¤ä¸ªè¡¨æ“ä½œï¼Œå› æ­¤éœ€è¦å…ˆåˆ©ç”¨product_idè¿›è¡Œå·¦å¤–è¿æ¥åˆå¹¶æˆä¸€ä¸ªè¡¨ç„¶åè¿›è¡Œè¿æ¥æ“ä½œã€‚ä½¿ç”¨å·¦å¤–è¿æ¥çš„åŸå› æ˜¯äº§å“å¯èƒ½æ²¡æœ‰å–å‡ºå»ï¼Œä½†æ˜¯å®šä»·æ˜¯å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¿è¯æ¯ä¸ªäº§å“éƒ½è¢«æŸ¥è¯¢åˆ°ï¼Œéœ€è¦ä½¿ç”¨å·¦å¤–è¿æ¥ã€‚è¿æ¥åéœ€è¦æ»¡è¶³æ¡ä»¶ï¼Œå”®å–çš„æ—¥æœŸéœ€è¦æ˜¯åœ¨å®šä»·å¼€å§‹æ—¥æœŸåˆ°ç»“æŸæ—¥æœŸä¹‹é—´çš„ï¼Œå·¦å¤–è¿æ¥æ˜¯ä»¥å·¦è¡¨ä¸ºåŸºç¡€çš„å…¨è¿æ¥ï¼Œä¼šè¿æ¥å‡ºæ¥ä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ®è¡Œï¼Œå› æ­¤éœ€è¦æ ¹æ®è¿™ä¸ªæ¡ä»¶è¿›è¡Œè¿‡æ»¤ï¼ŒåŒæ—¶ä¸ºäº†ä¿è¯æ²¡æœ‰å”®å–çš„æ•°æ®å¯ä»¥ä¿ç•™ä¸‹æ¥ï¼Œéœ€è¦å†æ·»åŠ ä¸€ä¸ªnullçš„ç‰¹æ®Šå¤„ç†ã€‚\nä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¿›è¡Œå·¦å¤–è¿æ¥æ²¡æœ‰è¿‡æ»¤çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š\n| product_id | start_date | end_date   | price | product_id | purchase_date | units || ---------- | ---------- | ---------- | ----- | ---------- | ------------- | ----- || 1          | 2019-02-17 | 2019-02-28 | 5     | 1          | 2019-03-01    | 15    || 1          | 2019-02-17 | 2019-02-28 | 5     | 1          | 2019-02-25    | 100   || 1          | 2019-03-01 | 2019-03-22 | 20    | 1          | 2019-03-01    | 15    || 1          | 2019-03-01 | 2019-03-22 | 20    | 1          | 2019-02-25    | 100   || 2          | 2019-02-01 | 2019-02-20 | 15    | 2          | 2019-03-22    | 30    || 2          | 2019-02-01 | 2019-02-20 | 15    | 2          | 2019-02-10    | 200   || 2          | 2019-02-21 | 2019-03-31 | 30    | 2          | 2019-03-22    | 30    || 2          | 2019-02-21 | 2019-03-31 | 30    | 2          | 2019-02-10    | 200   || 3          | 2019-02-21 | 2019-03-31 | 30    | null       | null          | null  |\næœ€åä½¿ç”¨èšåˆå‡½æ•°è¿›è¡Œæ±‚å¹³å‡ä»·æ ¼ï¼Œæ³¨æ„çš„æ˜¯å¦‚æœè¯¥äº§å“æ²¡æœ‰å–å‡ºå»ï¼Œåœ¨è¿æ¥åä¼šå‡ºç°nullçš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ifnullå‡½æ•°è¿›è¡Œç‰¹æ®Šåˆ¤æ–­ã€‚\nselect     p.product_id    , round(ifnull(sum(units * price) / sum(units), 0), 2) average_pricefrom Prices pleft join UnitsSold uon u.product_id = p.product_idwhere u.purchase_date between p.start_date and p.end_date or u.purchase_date is nullgroup by p.product_id;\n1280.å­¦ç”Ÿä»¬å‚åŠ å„ç§‘æµ‹è¯•çš„æ¬¡æ•°\nå­¦ç”Ÿè¡¨: Students\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| student_id    | int     || student_name  | varchar |+---------------+---------+åœ¨ SQL ä¸­ï¼Œä¸»é”®ä¸º student_idï¼ˆå­¦ç”ŸIDï¼‰ã€‚è¯¥è¡¨å†…çš„æ¯ä¸€è¡Œéƒ½è®°å½•æœ‰å­¦æ ¡ä¸€åå­¦ç”Ÿçš„ä¿¡æ¯ã€‚\nç§‘ç›®è¡¨: Subjects\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| subject_name | varchar |+--------------+---------+åœ¨ SQL ä¸­ï¼Œä¸»é”®ä¸º subject_nameï¼ˆç§‘ç›®åç§°ï¼‰ã€‚æ¯ä¸€è¡Œè®°å½•å­¦æ ¡çš„ä¸€é—¨ç§‘ç›®åç§°ã€‚\nè€ƒè¯•è¡¨: Examinations\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| student_id   | int     || subject_name | varchar |+--------------+---------+è¿™ä¸ªè¡¨å¯èƒ½åŒ…å«é‡å¤æ•°æ®ï¼ˆæ¢å¥è¯è¯´ï¼Œåœ¨ SQL ä¸­ï¼Œè¿™ä¸ªè¡¨æ²¡æœ‰ä¸»é”®ï¼‰ã€‚å­¦ç”Ÿè¡¨é‡Œçš„ä¸€ä¸ªå­¦ç”Ÿä¿®è¯»ç§‘ç›®è¡¨é‡Œçš„æ¯ä¸€é—¨ç§‘ç›®ã€‚è¿™å¼ è€ƒè¯•è¡¨çš„æ¯ä¸€è¡Œè®°å½•å°±è¡¨ç¤ºå­¦ç”Ÿè¡¨é‡Œçš„æŸä¸ªå­¦ç”Ÿå‚åŠ äº†ä¸€æ¬¡ç§‘ç›®è¡¨é‡ŒæŸé—¨ç§‘ç›®çš„æµ‹è¯•ã€‚\næŸ¥è¯¢å‡ºæ¯ä¸ªå­¦ç”Ÿå‚åŠ æ¯ä¸€é—¨ç§‘ç›®æµ‹è¯•çš„æ¬¡æ•°ï¼Œç»“æœæŒ‰\nstudent_id å’Œ subject_name æ’åºã€‚\næŸ¥è¯¢ç»“æ„æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šStudents table:+------------+--------------+| student_id | student_name |+------------+--------------+| 1          | Alice        || 2          | Bob          || 13         | John         || 6          | Alex         |+------------+--------------+Subjects table:+--------------+| subject_name |+--------------+| Math         || Physics      || Programming  |+--------------+Examinations table:+------------+--------------+| student_id | subject_name |+------------+--------------+| 1          | Math         || 1          | Physics      || 1          | Programming  || 2          | Programming  || 1          | Physics      || 1          | Math         || 13         | Math         || 13         | Programming  || 13         | Physics      || 2          | Math         || 1          | Math         |+------------+--------------+è¾“å‡ºï¼š+------------+--------------+--------------+----------------+| student_id | student_name | subject_name | attended_exams |+------------+--------------+--------------+----------------+| 1          | Alice        | Math         | 3              || 1          | Alice        | Physics      | 2              || 1          | Alice        | Programming  | 1              || 2          | Bob          | Math         | 1              || 2          | Bob          | Physics      | 0              || 2          | Bob          | Programming  | 1              || 6          | Alex         | Math         | 0              || 6          | Alex         | Physics      | 0              || 6          | Alex         | Programming  | 0              || 13         | John         | Math         | 1              || 13         | John         | Physics      | 1              || 13         | John         | Programming  | 1              |+------------+--------------+--------------+----------------+è§£é‡Šï¼šç»“æœè¡¨éœ€åŒ…å«æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç§‘ç›®ï¼ˆå³ä¾¿æµ‹è¯•æ¬¡æ•°ä¸º0ï¼‰ï¼šAlice å‚åŠ äº† 3 æ¬¡æ•°å­¦æµ‹è¯•, 2 æ¬¡ç‰©ç†æµ‹è¯•ï¼Œä»¥åŠ 1 æ¬¡ç¼–ç¨‹æµ‹è¯•ï¼›Bob å‚åŠ äº† 1 æ¬¡æ•°å­¦æµ‹è¯•, 1 æ¬¡ç¼–ç¨‹æµ‹è¯•ï¼Œæ²¡æœ‰å‚åŠ ç‰©ç†æµ‹è¯•ï¼›Alex å•¥æµ‹è¯•éƒ½æ²¡å‚åŠ ï¼›John  å‚åŠ äº†æ•°å­¦ã€ç‰©ç†ã€ç¼–ç¨‹æµ‹è¯•å„ 1 æ¬¡ã€‚\nè§£æ\nç¬¬ä¸€æ¬¡åšè¿™é“é¢˜ï¼Œå› ä¸ºæ ·ä¾‹è¾“å‡ºå­¦ç”Ÿæ²¡æœ‰å‚åŠ çš„ç§‘ç›®çš„è€ƒè¯•è¾“å‡ºæ¬¡æ•°ä¸º0ï¼Œå› æ­¤é¦–å…ˆæƒ³åˆ°äº†ä½¿ç”¨å·¦å¤–è¿æ¥ï¼Œè®©Studentsæ˜¯å·¦è¡¨ï¼Œç„¶åè¿æ¥å¦å¤–ä¸¤ä¸ªè¡¨ï¼Œä½†æ˜¯è¿™åªèƒ½ä¿è¯æ‰¾åˆ°æ‰€æœ‰å­¦ç”Ÿï¼Œå¹¶ä¸èƒ½æ‰¾åˆ°æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç§‘ç›®ã€‚å› æ­¤éœ€è¦è½¬å˜æ€è·¯ã€‚\nè¦ä¿è¯æœ‰æ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰ç§‘ç›®ï¼Œè€ŒStudentså’ŒSubjectsè¡¨æ˜¯å®Œæ•´çš„å­¦ç”Ÿå’Œç§‘ç›®æ•°æ®ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äº¤å‰è¿æ¥è·å¾—æ‰€æœ‰å­¦ç”Ÿçš„è€ƒæ‰€æœ‰ç§‘ç›®çš„ä¿¡æ¯ï¼Œç„¶åå†ä»Examinationsè¡¨ä¸­è·å–æ¯ä¸ªå­¦ç”Ÿè€ƒæ¯ç§‘çš„æ¬¡æ•°ï¼Œè¿›è¡Œè¿æ¥å³å¯ã€‚\nselect     stu.student_id    , stu.student_name    , sub.subject_name    , ifnull(exams.attended_exams, 0) attended_examsfrom Students stucross join Subjects subleft join (    select student_id, subject_name, count(*) attended_exams    from Examinations    group by student_id, subject_name) examson stu.student_id = exams.student_idand sub.subject_name = exams.subject_nameorder by stu.student_id, sub.subject_name;\nå‚è€ƒäº†å…¶ä»–äººçš„é¢˜è§£åï¼Œå¯¹ä»£ç è¿›è¡Œäº†ä¿®æ”¹ã€‚\nselect     stu.student_id    , stu.student_name    , sub.subject_name    , count(exams.subject_name) attended_examsfrom Students stucross join Subjects subleft join Examinations examson stu.student_id = exams.student_idand sub.subject_name = exams.subject_namegroup by stu.student_id, sub.subject_nameorder by stu.student_id, sub.subject_name;\n1484.æŒ‰æ—¥æœŸåˆ†ç»„é”€å”®äº§å“\nè¡¨ Activitiesï¼š\n+-------------+---------+| åˆ—å         | ç±»å‹    |+-------------+---------+| sell_date   | date    || product     | varchar |+-------------+---------+è¯¥è¡¨æ²¡æœ‰ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚å®ƒå¯èƒ½åŒ…å«é‡å¤é¡¹ã€‚æ­¤è¡¨çš„æ¯ä¸€è¡Œéƒ½åŒ…å«äº§å“åç§°å’Œåœ¨å¸‚åœºä¸Šé”€å”®çš„æ—¥æœŸã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆæ‰¾å‡ºæ¯ä¸ªæ—¥æœŸã€é”€å”®çš„ä¸åŒäº§å“çš„æ•°é‡åŠå…¶åç§°ã€‚\næ¯ä¸ªæ—¥æœŸçš„é”€å”®äº§å“åç§°åº”æŒ‰è¯å…¸åºæ’åˆ—ã€‚ è¿”å›æŒ‰ sell_date\næ’åºçš„ç»“æœè¡¨ã€‚ ç»“æœè¡¨ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šActivities è¡¨ï¼š+------------+-------------+| sell_date  | product     |+------------+-------------+| 2020-05-30 | Headphone   || 2020-06-01 | Pencil      || 2020-06-02 | Mask        || 2020-05-30 | Basketball  || 2020-06-01 | Bible       || 2020-06-02 | Mask        || 2020-05-30 | T-Shirt     |+------------+-------------+è¾“å‡ºï¼š+------------+----------+------------------------------+| sell_date  | num_sold | products                     |+------------+----------+------------------------------+| 2020-05-30 | 3        | Basketball,Headphone,T-shirt || 2020-06-01 | 2        | Bible,Pencil                 || 2020-06-02 | 1        | Mask                         |+------------+----------+------------------------------+è§£é‡Šï¼šå¯¹äº2020-05-30ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Headphone, Basketball, T-shirt)ï¼ŒæŒ‰è¯å…¸åºæ’åˆ—ï¼Œå¹¶ç”¨é€—å· ',' åˆ†éš”ã€‚å¯¹äº2020-06-01ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Pencil, Bible)ï¼ŒæŒ‰è¯å…¸åºæ’åˆ—ï¼Œå¹¶ç”¨é€—å·åˆ†éš”ã€‚å¯¹äº2020-06-02ï¼Œå‡ºå”®çš„ç‰©å“æ˜¯ (Mask)ï¼Œåªéœ€è¿”å›è¯¥ç‰©å“åã€‚\nè§£æ(group_concatå‡½æ•°)\nè¿™é“é¢˜éš¾ç‚¹åœ¨äºgroup_concatå‡½æ•°çš„ä½¿ç”¨ã€‚å‚è€ƒäº†åšå®¢\nè¿™ä¸ªå‡½æ•°çš„è¯­æ³•èŒƒå¼ï¼šgroup_concat([distinct] éœ€è¦è¿æ¥çš„å­—æ®µå [order by æ’åºå­—æ®µ desc/asc] [separator 'åˆ†éš”ç¬¦'])\nselect     sell_date    , count(distinct product) num_sold    , group_concat(        distinct product        order by product asc        separator ','    ) productsfrom Activitiesgroup by sell_date;\n1517.æŸ¥æ‰¾æ‹¥æœ‰æœ‰æ•ˆé‚®ç®±çš„ç”¨æˆ·\nè¡¨: Users\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| user_id       | int     || name          | varchar || mail          | varchar |+---------------+---------+user_id æ˜¯è¯¥è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—ï¼‰ã€‚è¯¥è¡¨åŒ…å«äº†ç½‘ç«™å·²æ³¨å†Œç”¨æˆ·çš„ä¿¡æ¯ã€‚æœ‰ä¸€äº›ç”µå­é‚®ä»¶æ˜¯æ— æ•ˆçš„ã€‚\nç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä»¥æŸ¥æ‰¾å…·æœ‰æœ‰æ•ˆç”µå­é‚®ä»¶çš„ç”¨æˆ·ã€‚\nä¸€ä¸ªæœ‰æ•ˆçš„ç”µå­é‚®ä»¶å…·æœ‰å‰ç¼€åç§°å’ŒåŸŸï¼Œå…¶ä¸­ï¼š\n\nå‰ç¼€\nåç§°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥åŒ…å«å­—æ¯ï¼ˆå¤§å†™æˆ–å°å†™ï¼‰ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿\n'_' ï¼Œç‚¹ '.' å’Œ/æˆ–ç ´æŠ˜å· '-'\nã€‚å‰ç¼€åç§° å¿…é¡» ä»¥å­—æ¯å¼€å¤´ã€‚\nåŸŸ ä¸º '@leetcode.com' ã€‚\n\nä»¥ä»»ä½•é¡ºåºè¿”å›ç»“æœè¡¨ã€‚\nç»“æœçš„æ ¼å¼å¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šUsers è¡¨:+---------+-----------+-------------------------+| user_id | name      | mail                    |+---------+-----------+-------------------------+| 1       | Winston   | winston@leetcode.com    || 2       | Jonathan  | jonathanisgreat         || 3       | Annabelle | bella-@leetcode.com     || 4       | Sally     | sally.come@leetcode.com || 5       | Marwan    | quarz#2020@leetcode.com || 6       | David     | david69@gmail.com       || 7       | Shapiro   | .shapo@leetcode.com     |+---------+-----------+-------------------------+è¾“å‡ºï¼š+---------+-----------+-------------------------+| user_id | name      | mail                    |+---------+-----------+-------------------------+| 1       | Winston   | winston@leetcode.com    || 3       | Annabelle | bella-@leetcode.com     || 4       | Sally     | sally.come@leetcode.com |+---------+-----------+-------------------------+è§£é‡Šï¼šç”¨æˆ· 2 çš„ç”µå­é‚®ä»¶æ²¡æœ‰åŸŸã€‚ ç”¨æˆ· 5 çš„ç”µå­é‚®ä»¶å¸¦æœ‰ä¸å…è®¸çš„ '#' ç¬¦å·ã€‚ç”¨æˆ· 6 çš„ç”µå­é‚®ä»¶æ²¡æœ‰ leetcode åŸŸã€‚ ç”¨æˆ· 7 çš„ç”µå­é‚®ä»¶ä»¥ç‚¹å¼€å¤´ã€‚\nè§£æ(æ­£åˆ™è¡¨è¾¾å¼çš„åº”ç”¨)\n^ è¡¨ç¤ºä»¥åé¢çš„å­—ç¬¦ä¸ºå¼€å¤´ []\nè¡¨ç¤ºæ‹¬å·å†…ä»»æ„å­—ç¬¦\n- è¡¨ç¤ºè¿ç»­\n* è¡¨ç¤ºé‡å¤å‰é¢ä»»æ„å­—ç¬¦ä»»æ„æ¬¡æ•° \\\nç”¨æ¥è½¬ä¹‰åé¢çš„ç‰¹æ®Šå­—ç¬¦ï¼Œä»¥è¡¨ç¤ºå­—ç¬¦åŸæœ¬çš„æ ·å­ï¼Œè€Œä¸æ˜¯å°†å…¶ä½œä¸ºç‰¹æ®Šå­—ç¬¦ä½¿ç”¨\n$ è¡¨ç¤ºä»¥å‰é¢çš„å­—ç¬¦ä¸ºç»“å°¾\nå› æ­¤ï¼Œå‰ç¼€å¿…é¡»ä»¥å­—æ¯å¼€å¤´å¯ä»¥è¡¨ç¤º^[a-zA-Z]ï¼Œå‰ç¼€ååŒ…å«è‹¥å¹²æ•°å­—ã€ä¸‹åˆ’çº¿ã€å¥ç‚¹ã€æ¨ªæ [a-zA-Z0-9_\\.\\-]*ï¼Œä»¥@leetcode.comç»“å°¾åˆ™æ˜¯\\@leetcode\\.com$ã€‚å› ä¸º. - @å±äºç‰¹æ®Šå­—ç¬¦ï¼Œè¦ä½¿ç”¨æœ¬èº«çš„æ—¶å€™éœ€è¦åŠ \\è½¬ä¹‰ã€‚\nselect *from Userswhere mail regexp '^[a-zA-Z][a-zA-Z0-9_\\\\.\\\\-]*\\\\@leetcode\\\\.com$';\næ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨\\.è¿›è¡Œè½¬ä¹‰ï¼Œè€Œåœ¨MySQLä¸­éœ€è¦å¯¹\\è¿›è¡Œè½¬ä¹‰ï¼Œå› æ­¤éœ€è¦å†åŠ ä¸€ä¸ª\\ã€‚\n1527.æ‚£æŸç§ç–¾ç—…çš„æ‚£è€…\næ‚£è€…ä¿¡æ¯è¡¨ï¼š Patients\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| patient_id   | int     || patient_name | varchar || conditions   | varchar |+--------------+---------+åœ¨ SQL ä¸­ï¼Œpatient_id ï¼ˆæ‚£è€… IDï¼‰æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚'conditions' ï¼ˆç–¾ç—…ï¼‰åŒ…å« 0 ä¸ªæˆ–ä»¥ä¸Šçš„ç–¾ç—…ä»£ç ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚è¿™ä¸ªè¡¨åŒ…å«åŒ»é™¢ä¸­æ‚£è€…çš„ä¿¡æ¯ã€‚\næŸ¥è¯¢æ‚£æœ‰ I ç±»ç³–å°¿ç—…çš„æ‚£è€… ID\nï¼ˆpatient_idï¼‰ã€æ‚£è€…å§“åï¼ˆpatient_nameï¼‰ä»¥åŠå…¶æ‚£æœ‰çš„æ‰€æœ‰ç–¾ç—…ä»£ç ï¼ˆconditionsï¼‰ã€‚I\nç±»ç³–å°¿ç—…çš„ä»£ç æ€»æ˜¯åŒ…å«å‰ç¼€ DIAB1 ã€‚\næŒ‰ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚\næŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ç¤ºä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šPatientsè¡¨ï¼š+------------+--------------+--------------+| patient_id | patient_name | conditions   |+------------+--------------+--------------+| 1          | Daniel       | YFEV COUGH   || 2          | Alice        |              || 3          | Bob          | DIAB100 MYOP || 4          | George       | ACNE DIAB100 || 5          | Alain        | DIAB201      |+------------+--------------+--------------+è¾“å‡ºï¼š+------------+--------------+--------------+| patient_id | patient_name | conditions   |+------------+--------------+--------------+| 3          | Bob          | DIAB100 MYOP || 4          | George       | ACNE DIAB100 | +------------+--------------+--------------+è§£é‡Šï¼šBob å’Œ George éƒ½æ‚£æœ‰ä»£ç ä»¥ DIAB1 å¼€å¤´çš„ç–¾ç—…ã€‚\nè§£æ(like)\né¢˜ç›®å¾ˆç®€å•ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•åŒ¹é…conditionsä¸­çš„å­—ç¬¦ä¸²ã€‚åœ¨æ¯ä¸€ä¸ªç–¾ç—…ä»£ç ä¸­ï¼Œè¦æœ‰ä»¥DIAB1å¼€å¤´çš„æ‰å¯ä»¥ï¼Œè€Œä¸æ˜¯åŒ…å«è¿™ä¸ªå­å­—ç¬¦ä¸²ã€‚å› æ­¤å¯ä»¥ç”¨ä¸¤ç§æƒ…å†µè€ƒè™‘ï¼š\n\næ’åœ¨ç¬¬ä¸€ä¸ªç–¾ç—…ä»£ç ä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨likeåŒ¹é…æ˜¯like 'DIAB1%'\næ’åœ¨éç¬¬ä¸€ä¸ªç–¾ç—…ä»£ç ä¸­ï¼Œæ‰€ä»¥ä½¿ç”¨likeåŒ¹é…æ˜¯like '% DIAB1%'ï¼Œå› ä¸ºæ¯ä¸€ä¸ªç–¾ç—…ä»£ç ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ï¼Œæ‰€ä»¥ä¿è¯ä»¥è¯¥å­—ç¬¦ä¸²å¼€å¤´ï¼Œéœ€è¦åœ¨å‰è¾¹åŠ ä¸Šç©ºæ ¼ã€‚\n\nselect *from Patientswhere conditions like 'DIAB1%' or conditions like '% DIAB1%';\næ–¹æ³•äºŒï¼š\nå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼š^DIAB1|\\sDIAB1\nselect *from Patientswhere conditions regexp '^DIAB1|\\\\sDIAB1';\n1661.æ¯å°æœºå™¨çš„è¿›ç¨‹å¹³å‡è¿è¡Œæ—¶é—´\nè¡¨: Activity\n+----------------+---------+| Column Name    | Type    |+----------------+---------+| machine_id     | int     || process_id     | int     || activity_type  | enum    || timestamp      | float   |+----------------+---------+è¯¥è¡¨å±•ç¤ºäº†ä¸€å®¶å·¥å‚ç½‘ç«™çš„ç”¨æˆ·æ´»åŠ¨ã€‚(machine_id, process_id, activity_type) æ˜¯å½“å‰è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆï¼‰ã€‚machine_id æ˜¯ä¸€å°æœºå™¨çš„IDå·ã€‚process_id æ˜¯è¿è¡Œåœ¨å„æœºå™¨ä¸Šçš„è¿›ç¨‹IDå·ã€‚activity_type æ˜¯æšä¸¾ç±»å‹ ('start', 'end')ã€‚timestamp æ˜¯æµ®ç‚¹ç±»å‹,ä»£è¡¨å½“å‰æ—¶é—´(ä»¥ç§’ä¸ºå•ä½)ã€‚'start' ä»£è¡¨è¯¥è¿›ç¨‹åœ¨è¿™å°æœºå™¨ä¸Šçš„å¼€å§‹è¿è¡Œæ—¶é—´æˆ³ , 'end' ä»£è¡¨è¯¥è¿›ç¨‹åœ¨è¿™å°æœºå™¨ä¸Šçš„ç»ˆæ­¢è¿è¡Œæ—¶é—´æˆ³ã€‚åŒä¸€å°æœºå™¨ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€å¯¹å¼€å§‹æ—¶é—´æˆ³å’Œç»“æŸæ—¶é—´æˆ³ï¼Œè€Œä¸”å¼€å§‹æ—¶é—´æˆ³æ°¸è¿œåœ¨ç»“æŸæ—¶é—´æˆ³å‰é¢ã€‚\nç°åœ¨æœ‰ä¸€ä¸ªå·¥å‚ç½‘ç«™ç”±å‡ å°æœºå™¨è¿è¡Œï¼Œæ¯å°æœºå™¨ä¸Šè¿è¡Œç€\nç›¸åŒæ•°é‡çš„è¿›ç¨‹\nã€‚ç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œè®¡ç®—æ¯å°æœºå™¨å„è‡ªå®Œæˆä¸€ä¸ªè¿›ç¨‹ä»»åŠ¡çš„å¹³å‡è€—æ—¶ã€‚\nå®Œæˆä¸€ä¸ªè¿›ç¨‹ä»»åŠ¡çš„æ—¶é—´æŒ‡è¿›ç¨‹çš„'end' æ—¶é—´æˆ³ å‡å»\n'start' æ—¶é—´æˆ³ã€‚å¹³å‡è€—æ—¶é€šè¿‡è®¡ç®—æ¯å°æœºå™¨ä¸Šæ‰€æœ‰è¿›ç¨‹ä»»åŠ¡çš„æ€»è€—è´¹æ—¶é—´é™¤ä»¥æœºå™¨ä¸Šçš„æ€»è¿›ç¨‹æ•°é‡è·å¾—ã€‚\nç»“æœè¡¨å¿…é¡»åŒ…å«machine_idï¼ˆæœºå™¨IDï¼‰ å’Œå¯¹åº”çš„\naverage timeï¼ˆå¹³å‡è€—æ—¶ï¼‰ åˆ«å\nprocessing_timeï¼Œä¸”å››èˆäº”å…¥ä¿ç•™3ä½å°æ•°ã€‚\nä»¥ ä»»æ„é¡ºåº è¿”å›è¡¨ã€‚\nå…·ä½“å‚è€ƒä¾‹å­å¦‚ä¸‹ã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šActivity table:+------------+------------+---------------+-----------+| machine_id | process_id | activity_type | timestamp |+------------+------------+---------------+-----------+| 0          | 0          | start         | 0.712     || 0          | 0          | end           | 1.520     || 0          | 1          | start         | 3.140     || 0          | 1          | end           | 4.120     || 1          | 0          | start         | 0.550     || 1          | 0          | end           | 1.550     || 1          | 1          | start         | 0.430     || 1          | 1          | end           | 1.420     || 2          | 0          | start         | 4.100     || 2          | 0          | end           | 4.512     || 2          | 1          | start         | 2.500     || 2          | 1          | end           | 5.000     |+------------+------------+---------------+-----------+è¾“å‡ºï¼š+------------+-----------------+| machine_id | processing_time |+------------+-----------------+| 0          | 0.894           || 1          | 0.995           || 2          | 1.456           |+------------+-----------------+è§£é‡Šï¼šä¸€å…±æœ‰3å°æœºå™¨,æ¯å°æœºå™¨è¿è¡Œç€ä¸¤ä¸ªè¿›ç¨‹.æœºå™¨ 0 çš„å¹³å‡è€—æ—¶: ((1.520 - 0.712) + (4.120 - 3.140)) / 2 = 0.894æœºå™¨ 1 çš„å¹³å‡è€—æ—¶: ((1.550 - 0.550) + (1.420 - 0.430)) / 2 = 0.995æœºå™¨ 2 çš„å¹³å‡è€—æ—¶: ((4.512 - 4.100) + (5.000 - 2.500)) / 2 = 1.456\nè§£æ\né¢˜ç›®å¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œéš¾ç‚¹åœ¨äºå¦‚ä½•æ‰¾åˆ°æ¯ä¸ªè¿›ç¨‹çš„è¿è¡Œæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æŸä¸ªmachine_idä¸‹çš„æŸä¸ªprocess_idçš„ç»“æŸæ—¶é—´æˆ³å‡å¼€å§‹æ—¶é—´æˆ³ã€‚åŸæ¥çš„è¡¨è¿™ä¸¤ä¸ªå€¼æ˜¯åœ¨åŒä¸€åˆ—ï¼Œæ— æ³•ç›´æ¥å‡ï¼Œéœ€è¦é€šè¿‡æ“ä½œå°†è¿™ä¸¤ä¸ªå€¼æ”¾åœ¨åŒä¸€è¡Œè¿›è¡Œæ“ä½œã€‚\nå¯ä»¥ä½¿ç”¨è‡ªè¿æ¥æ“ä½œï¼Œåœ¨è¿æ¥æ—¶å¯¹è¿æ¥æ¡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œæ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªè¡¨ç•™ä¸‹å¼€å§‹æ—¶é—´æˆ³ï¼Œå¦ä¸€ä¸ªè¡¨ç•™ä¸‹ç»“æŸæ—¶é—´æˆ³ï¼Œç„¶åæ ¹æ®machine_idåˆ†ç»„ï¼Œæœ€åè®¡ç®—å¹³å‡å€¼å³å¯ã€‚\nselect a1.machine_id, round(avg(a2.timestamp - a1.timestamp), 3) processing_timefrom Activity a1inner join Activity a2on a1.machine_id = a2.machine_idand a1.process_id = a2.process_idand a1.activity_type = 'start'and a2.activity_type = 'end'group by a1.machine_id;\nä½¿ç”¨avgå‡½æ•°å¯ä»¥ç›´æ¥è®¡ç®—å¹³å‡å€¼ã€‚ä»–ä¼šéå†ä¸€ä¸ªåˆ†ç»„çš„æ‰€æœ‰çš„è¡Œï¼Œæ¯è¡Œæ‰§è¡Œçš„æ“ä½œæ˜¯a2.timestamp - a1.timestampï¼Œæœ€åè®¡ç®—å¹³å‡å€¼ã€‚å¦‚æœ‰ä¸æ‡‚å¯ä»¥å†çœ‹ä¸€ä¸‹1179é¢˜ã€‚\n1789.å‘˜å·¥çš„ç›´å±éƒ¨é—¨\nè¡¨ï¼šEmployee\n+---------------+---------+| Column Name   |  Type   |+---------------+---------+| employee_id   | int     || department_id | int     || primary_flag  | varchar |+---------------+---------+è¿™å¼ è¡¨çš„ä¸»é”®ä¸º employee_id, department_id (å…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆ)employee_id æ˜¯å‘˜å·¥çš„IDdepartment_id æ˜¯éƒ¨é—¨çš„IDï¼Œè¡¨ç¤ºå‘˜å·¥ä¸è¯¥éƒ¨é—¨æœ‰å…³ç³»primary_flag æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå€¼åˆ†åˆ«ä¸º('Y', 'N'). å¦‚æœå€¼ä¸º'Y',è¡¨ç¤ºè¯¥éƒ¨é—¨æ˜¯å‘˜å·¥çš„ç›´å±éƒ¨é—¨ã€‚ å¦‚æœå€¼æ˜¯'N',åˆ™å¦\nä¸€ä¸ªå‘˜å·¥å¯ä»¥å±äºå¤šä¸ªéƒ¨é—¨ã€‚å½“ä¸€ä¸ªå‘˜å·¥åŠ å…¥è¶…è¿‡ä¸€ä¸ªéƒ¨é—¨çš„æ—¶å€™ï¼Œä»–éœ€è¦å†³å®šå“ªä¸ªéƒ¨é—¨æ˜¯ä»–çš„ç›´å±éƒ¨é—¨ã€‚è¯·æ³¨æ„ï¼Œå½“å‘˜å·¥åªåŠ å…¥ä¸€ä¸ªéƒ¨é—¨çš„æ—¶å€™ï¼Œé‚£è¿™ä¸ªéƒ¨é—¨å°†é»˜è®¤ä¸ºä»–çš„ç›´å±éƒ¨é—¨ï¼Œè™½ç„¶è¡¨è®°å½•çš„å€¼ä¸º'N'.\nè¯·ç¼–å†™è§£å†³æ–¹æ¡ˆï¼ŒæŸ¥å‡ºå‘˜å·¥æ‰€å±çš„ç›´å±éƒ¨é—¨ã€‚\nè¿”å›ç»“æœ æ²¡æœ‰é¡ºåºè¦æ±‚ ã€‚\nè¿”å›ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹å­æ‰€ç¤ºï¼š\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šEmployee table:+-------------+---------------+--------------+| employee_id | department_id | primary_flag |+-------------+---------------+--------------+| 1           | 1             | N            || 2           | 1             | Y            || 2           | 2             | N            || 3           | 3             | N            || 4           | 2             | N            || 4           | 3             | Y            || 4           | 4             | N            |+-------------+---------------+--------------+è¾“å‡ºï¼š+-------------+---------------+| employee_id | department_id |+-------------+---------------+| 1           | 1             || 2           | 1             || 3           | 3             || 4           | 3             |+-------------+---------------+è§£é‡Šï¼š- å‘˜å·¥ 1 çš„ç›´å±éƒ¨é—¨æ˜¯ 1- å‘˜å·¥ 2 çš„ç›´å±éƒ¨é—¨æ˜¯ 1- å‘˜å·¥ 3 çš„ç›´å±éƒ¨é—¨æ˜¯ 3- å‘˜å·¥ 4 çš„ç›´å±éƒ¨é—¨æ˜¯ 3\nè§£æ(union)\nè¿™é“é¢˜åˆ†æå¯ä»¥äº†è§£åˆ°ï¼Œä¸€ä¸ªå‘˜å·¥çš„ç›´å±éƒ¨é—¨åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\n\nåªæœ‰ä¸€ä¸ªéƒ¨é—¨çš„ï¼Œæ— è®ºprimary_flagæ˜¯Yè¿˜æ˜¯Nï¼Œç›´å±éƒ¨é—¨å°±æ˜¯department_idã€‚\næœ‰å¤šä¸ªéƒ¨é—¨çš„ï¼Œå½“primary_flagæ˜¯Yçš„ä¸ºç›´å±éƒ¨é—¨ã€‚\n\nå› æ­¤å¯ä»¥ä½¿ç”¨unionåˆå¹¶æŸ¥è¯¢ç»“æœï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢éƒ¨é—¨åªæœ‰ä¸€ä¸ªçš„å‘˜å·¥ï¼Œé‚£ä¹ˆä»–çš„ç›´å±éƒ¨é—¨æ˜¯ç¡®å®šçš„ï¼›ç¬¬äºŒæ¬¡æŸ¥è¯¢primary_keyæ˜¯Yçš„ï¼Œé‚£ä¹ˆä»–çš„ç›´å±éƒ¨é—¨ä¹Ÿæ˜¯ç¡®å®šçš„äº†ã€‚å¦‚æœéƒ¨é—¨åªæœ‰ä¸€ä¸ªçš„å‘˜å·¥ä¸­çš„primary_flagæ˜¯Yï¼Œé‚£ä¹ˆç¬¬äºŒæ¬¡æŸ¥è¯¢ä¹Ÿä¼šæŸ¥åˆ°è¿™ä¸ªæ•°æ®ï¼Œä½†æ˜¯é€šè¿‡unionæ“ä½œä¼šå»é™¤é‡å¤æ•°æ®ï¼Œå› æ­¤ä¸ä¼šå½±å“æœ€ç»ˆç»“æœã€‚\nselect employee_id, department_idfrom Employeegroup by employee_idhaving count(*) = 1unionselect employee_id, department_idfrom Employeewhere primary_flag = 'Y';\nçœ‹é¢˜è§£äº†è§£åˆ°ä¹Ÿå¯ä»¥ä½¿ç”¨çª—å£å‡½æ•°è§£ç­”ï¼Œä½†æ˜¯ç›®å‰æ²¡æœ‰å­¦è¿‡çª—å£å‡½æ•°ï¼Œå…ˆåŸ‹ä¸ªå‘ğŸ•³ã€‚\n180.è¿ç»­å‡ºç°çš„æ•°å­—\n\n\n\nè¡¨ï¼šLogs\n+-------------+---------+| Column Name | Type    |+-------------+---------+| id          | int     || num         | varchar |+-------------+---------+åœ¨ SQL ä¸­ï¼Œid æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚id æ˜¯ä¸€ä¸ªè‡ªå¢åˆ—ã€‚\næ‰¾å‡ºæ‰€æœ‰è‡³å°‘è¿ç»­å‡ºç°ä¸‰æ¬¡çš„æ•°å­—ã€‚\nè¿”å›çš„ç»“æœè¡¨ä¸­çš„æ•°æ®å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼š\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šLogs è¡¨ï¼š+----+-----+| id | num |+----+-----+| 1  | 1   || 2  | 1   || 3  | 1   || 4  | 2   || 5  | 1   || 6  | 2   || 7  | 2   |+----+-----+è¾“å‡ºï¼šResult è¡¨ï¼š+-----------------+| ConsecutiveNums |+-----------------+| 1               |+-----------------+è§£é‡Šï¼š1 æ˜¯å”¯ä¸€è¿ç»­å‡ºç°è‡³å°‘ä¸‰æ¬¡çš„æ•°å­—ã€‚\nè§£æ(è¿ç»­né—®é¢˜ï¼Œçª—å£å‡½æ•°)\nçª—å£å‡½æ•°çš„å†…å®¹å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ã€‚\nè¿ç»­né—®é¢˜è§£é¢˜æ€è·¯é¦–å…ˆæ˜¯åˆ©ç”¨çª—å£å‡½æ•°æ„é€ ä¸€ä¸ªæ–°çš„åˆ—ï¼Œç»™æ¯ä¸ªnumç¼–å·ã€‚\nselect \t*\t, row_number() over (partition by num order by id) id1from Logs\nä¸Šè¿°æŸ¥è¯¢ä¼šæ„å»ºä¸€ä¸ªæ–°çš„åˆ—ï¼ŒæŒ‰ç…§numåˆ†ç»„ï¼Œidå‡åºçš„é¡ºåºé‡æ–°ç¼–å·ã€‚\n| id | num | id1 || -- | --- | --- || 1  | 1   | 1   || 2  | 1   | 2   || 3  | 1   | 3   || 5  | 1   | 4   || 4  | 2   | 1   || 6  | 2   | 2   || 7  | 2   | 3   |\nè§‚å¯Ÿid - id1çš„å€¼ï¼Œå¯ä»¥å‘ç°ï¼Œè¿ç»­ç›¸åŒçš„æ•°çš„è¿™ä¸ªå·®å€¼æ˜¯ç›¸åŒçš„ã€‚ä½†æ˜¯ä»ç„¶ä¼šæœ‰é—®é¢˜ï¼Œé¢˜ç›®ä¸­idä¸ºè‡ªå¢ä¸»é”®ï¼Œè‡ªå¢ä¸»é”®ä¸ä¸€å®šå®Œå…¨è¿ç»­ï¼Œå¦‚æœä¸­é—´æ–­å¼€ï¼Œåˆ™ä¸Šè¿°è§„å¾‹å¯èƒ½ä¼šä¸æˆç«‹ã€‚å› æ­¤å¯ä»¥å†åˆ©ç”¨çª—å£å‡½æ•°row_number()æ„é€ ä¸€ä¸ªæ–°çš„åˆ—ï¼Œä½¿å…¶å®Œå…¨è¿ç»­ã€‚\nselect     *    , row_number() over (partition by num order by id) id1    , row_number() over (order by id) id2from Logs\nç¬¬äºŒæ¬¡çª—å£å‡½æ•°æ„å»ºçš„åˆ—æ²¡æœ‰è¿›è¡Œåˆ’åˆ†åˆ†ç»„ï¼Œç›´æ¥æŒ‰ç…§idå‡åºè¿›è¡Œç¼–å·ã€‚å³ä½¿idä»ä¸­é—´æŸä¸ªæ•°æ–­å¼€ï¼Œid2ä¹Ÿå¹¶ä¸ä¼šæ–­å¼€ã€‚å› æ­¤id2 - id1çš„å·®å€¼æ»¡è¶³ä»¥ä¸Šè§„å¾‹ã€‚\n| id | num | id1 | id2 || -- | --- | --- | --- || 1  | 1   | 1   | 1   || 2  | 1   | 2   | 2   || 3  | 1   | 3   | 3   || 4  | 2   | 1   | 4   || 5  | 1   | 4   | 5   || 6  | 2   | 2   | 6   || 7  | 2   | 3   | 7   |\nå®é™…æµ‹è¯•ä¸­ï¼Œå¦‚æœåªæŒ‰ç…§id2 - id1è¿›è¡Œåˆ†ç»„ï¼Œä»ç„¶ä¼šå‡ºé—®é¢˜ã€‚\nå¦‚ä»¥ä¸‹æ•°æ®ï¼š\n+----+-----+-----+-----+| id | num | id1 | id2 |+----+-----+-----+-----+| 1  | 1   | 1   | 1   || 2  | 2   | 1   | 2   || 3  | 1   | 2   | 3   || 4  | 1   | 3   | 4   |+----+-----+-----+-----+\nå› ä¸ºçª—å£å‡½æ•°æŒ‰ç…§numåˆ†ç»„åï¼Œå³ä½¿id = 1 3 4çš„æ•°æ®ä»ä¸­é—´æ–­å¼€ï¼Œä½†æ˜¯ç¼–å·å¹¶æ²¡æœ‰æ–­å¼€ï¼Œå¯¼è‡´id = 2 3 4çš„æ•°å¹¶ä¸ç›¸åŒè¿ç»­ï¼Œä½†æ˜¯id2 - id1å´æ˜¯ç›¸åŒçš„ã€‚å› æ­¤æœ€ç»ˆåˆ†ç»„æ—¶è¦æŒ‰ç…§id2 - id1å’Œnumåˆ†ç»„ï¼Œå³ä½¿å·®å€¼ç›¸åŒï¼Œä½†æ˜¯numä¸åŒï¼Œä»ç„¶å¯ä»¥åŒºåˆ†å‡ºæ¥ã€‚\næœ€ç»ˆçš„sqlä¸º\nselect distinct num ConsecutiveNumsfrom (    select     *    , row_number() over (partition by num order by id) id1    , row_number() over (order by id) id2    from Logs) tmp_logsgroup by id2 - id1, numhaving count(*) &gt;= 3;\næœ€åæŸ¥è¯¢ç»“æœéœ€è¦ä½¿ç”¨distinctå› ä¸ºåè¾¹çš„è¿ç»­çš„æ•°å­—ä¸­å¯èƒ½ä¼šæœ‰å’Œå‰è¾¹çš„ç›¸åŒçš„ï¼Œç»“æœåªè¦æœ‰ä¸€ä¸ªæ•°å­—å³å¯ï¼Œå› æ­¤éœ€è¦å»é‡ã€‚\n626.æ¢åº§ä½\nè¡¨: Seat\n+-------------+---------+| Column Name | Type    |+-------------+---------+| id          | int     || student     | varchar |+-------------+---------+id æ˜¯è¯¥è¡¨çš„ä¸»é”®ï¼ˆå”¯ä¸€å€¼ï¼‰åˆ—ã€‚è¯¥è¡¨çš„æ¯ä¸€è¡Œéƒ½è¡¨ç¤ºå­¦ç”Ÿçš„å§“åå’Œ IDã€‚id æ˜¯ä¸€ä¸ªè¿ç»­çš„å¢é‡ã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆæ¥äº¤æ¢æ¯ä¸¤ä¸ªè¿ç»­çš„å­¦ç”Ÿçš„åº§ä½å·ã€‚å¦‚æœå­¦ç”Ÿçš„æ•°é‡æ˜¯å¥‡æ•°ï¼Œåˆ™æœ€åä¸€ä¸ªå­¦ç”Ÿçš„idä¸äº¤æ¢ã€‚\næŒ‰ id å‡åº è¿”å›ç»“æœè¡¨ã€‚\næŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥: Seat è¡¨:+----+---------+| id | student |+----+---------+| 1  | Abbot   || 2  | Doris   || 3  | Emerson || 4  | Green   || 5  | Jeames  |+----+---------+è¾“å‡º: +----+---------+| id | student |+----+---------+| 1  | Doris   || 2  | Abbot   || 3  | Green   || 4  | Emerson || 5  | Jeames  |+----+---------+è§£é‡Š:è¯·æ³¨æ„ï¼Œå¦‚æœå­¦ç”Ÿäººæ•°ä¸ºå¥‡æ•°ï¼Œåˆ™ä¸éœ€è¦æ›´æ¢æœ€åä¸€åå­¦ç”Ÿçš„åº§ä½ã€‚\nè§£æ(ä½è¿ç®—æ±‚å¥‡å¶ç›¸é‚»)\né¢˜æ„å¾ˆç®€å•ï¼Œè€Œä¸”idä¸ºè¿ç»­ä¸Šå‡çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“æƒ³åˆ°å°†å¶æ•°çš„idå‡ä¸€ï¼Œå°†å¥‡æ•°çš„idåŠ ä¸€ï¼Œç„¶ååˆå¹¶ç»“æœã€‚ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´å¥‡æ•°äººæ•°æƒ…å†µä¸‹æœ€åä¸€ä¸ªå­¦ç”Ÿåº§ä½å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤æœ€åå¥—ä¸€å±‚çª—å£å‡½æ•°è¿›è¡Œä¸€æ¬¡æ’åå³å¯ã€‚\nselect    row_number() over (order by id) id    , studentfrom (    select        id + 1 id        , student    from Seat    where mod(id, 2) = 1    union    select        id - 1 id        , student    from Seat    where mod(id, 2) = 0) torder by id;\nåœ¨çœ‹äº†åˆ«äººæäº¤çš„ä»£ç åï¼Œå­¦ä¹ åˆ°äº†ä¸€ç§æ›´ä¸ºå·§å¦™çš„æ–¹æ³•ã€‚\nSELECT     RANK() OVER (ORDER BY (id - 1) ^ 1) AS id,    studentFROM seat\né¢˜ç›®ä¸­idè¿ç»­ï¼Œæ‰€ä»¥äº¤æ¢ä½ç½®å¯ä»¥çœ‹ä½œæ˜¯1å’Œ2\n3å’Œ4...äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯å°†ä¸¤ä¸ªçš„idäº’æ¢ã€‚è¿™é‡Œè¿ç”¨äº†ä½è¿ç®—ï¼Œå·§å¦™åœ°å®ç°äº†è¿™ä¸ªæ“ä½œã€‚\né¦–å…ˆè®©id - 1ï¼Œæ‰€ä»¥idæ˜¯ä»0, 1, 2å¼€å§‹ï¼Œç„¶åå’Œ1è¿›è¡Œå¼‚æˆ–æ“ä½œã€‚\n0 = 0b00000000 ^ 0b00000001 = 0b00000001 = 1\n1 = 0b00000001 ^ 0b00000001 = 0b00000000 = 0\n2 = 0b00000010 ^ 0b00000001 = 0b00000011 = 3\n3 = 0b00000011 ^ 0b00000001 = 0b00000010 = 2\nå·§å¦™åœ°å°†ä¸¤ä¸ªç›¸é‚»çš„æ•°å¯¹æ¢ï¼Œæœ€åå†ä½¿ç”¨çª—å£å‡½æ•°è¿›è¡Œä¸€æ¬¡æ’åå³å¯ã€‚\nä¸€ä¸ªå¥‡æ•°ä¸1åšå¼‚æˆ–åå¾—åˆ°çš„æ˜¯æ¯”å®ƒå°çš„ç›¸é‚»å¶æ•°ï¼Œä¸€ä¸ªå¶æ•°ä¸1åšå¼‚æˆ–åå¾—åˆ°çš„æ˜¯æ¯”å®ƒå¤§çš„ç›¸é‚»å¥‡æ•°ã€‚\n# Write your MySQL query statement belowSELECT s1.id, COALESCE(s2.student, s1.student) studentFROM Seat s1LEFT JOIN Seat s2ON s1.id - 1 = (s2.id - 1) ^ 1ORDER BY s1.id\nä½¿ç”¨ä¸Šè¿°è§„å¾‹åšè¿æ¥ï¼Œå°†æ¯ä¸ªåº§ä½çš„åŒ¹é…åˆ°äº¤æ¢åçš„ä½ç½®ï¼Œè¿™é‡Œè®©å­—æ®µå…ˆå‡1å†åšä½è¿ç®—ï¼Œå› ä¸ºä¸Šè¿°è§„å¾‹æ˜¯ä»0å¼€å§‹ç®—ï¼Œè¿™é‡Œæ˜¯ä»1å¼€å§‹ã€‚\n1070.äº§å“é”€å”®åˆ†æIII\né”€å”®è¡¨ Salesï¼š\n+-------------+-------+| Column Name | Type  |+-------------+-------+| sale_id     | int   || product_id  | int   || year        | int   || quantity    | int   || price       | int   |+-------------+-------+(sale_id, year) æ˜¯è¿™å¼ è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆï¼‰ã€‚product_id æ˜¯äº§å“è¡¨çš„å¤–é”®ï¼ˆreference åˆ—ï¼‰ã€‚è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œéƒ½è¡¨ç¤ºï¼šç¼–å· product_id çš„äº§å“åœ¨æŸä¸€å¹´çš„é”€å”®é¢ã€‚è¯·æ³¨æ„ï¼Œä»·æ ¼æ˜¯æŒ‰æ¯å•ä½è®¡çš„ã€‚\näº§å“è¡¨ Productï¼š\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| product_id   | int     || product_name | varchar |+--------------+---------+product_id æ˜¯è¿™å¼ è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—ï¼‰ã€‚è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œéƒ½æ ‡è¯†ï¼šæ¯ä¸ªäº§å“çš„ id å’Œ äº§å“åç§°ã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆï¼Œé€‰å‡ºæ¯ä¸ªå”®å‡ºè¿‡çš„äº§å“ ç¬¬ä¸€å¹´ é”€å”®çš„\näº§å“ idã€å¹´ä»½ã€æ•°é‡\nå’Œ ä»·æ ¼ã€‚\nç»“æœè¡¨ä¸­çš„æ¡ç›®å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šSales è¡¨ï¼š+---------+------------+------+----------+-------+| sale_id | product_id | year | quantity | price |+---------+------------+------+----------+-------+ | 1       | 100        | 2008 | 10       | 5000  || 2       | 100        | 2009 | 12       | 5000  || 7       | 200        | 2011 | 15       | 9000  |+---------+------------+------+----------+-------+Product è¡¨ï¼š+------------+--------------+| product_id | product_name |+------------+--------------+| 100        | Nokia        || 200        | Apple        || 300        | Samsung      |+------------+--------------+è¾“å‡ºï¼š+------------+------------+----------+-------+| product_id | first_year | quantity | price |+------------+------------+----------+-------+ | 100        | 2008       | 10       | 5000  || 200        | 2011       | 15       | 9000  |+------------+------------+----------+-------+\nè§£æ(row_number()å’Œrank()çš„å¼‚åŒ)\nè¿™é“é¢˜è¦æ‰¾äº§å“ç¬¬ä¸€å¹´çš„é”€å”®æƒ…å†µï¼Œå¯ä»¥åˆ©ç”¨çª—å£å‡½æ•°ï¼Œç»™æ¯ä¸ªäº§å“æŒ‰ç…§å¹´ä»½åˆ†ç»„ï¼Œç„¶åè¿›è¡Œæ’åºã€‚æ³¨æ„è¿™é‡Œè¦ä½¿ç”¨rank()è€Œä¸æ˜¯row_number()ã€‚\nrankå‡½æ•°è¿›è¡Œorder byæ’åºæ—¶ï¼Œé‡åˆ°ç›¸åŒå€¼æ’åä¸ä¼šå˜åŒ–ï¼Œç›´åˆ°é‡åˆ°ä¸åŒå€¼æ’åä¼šå˜åŒ–ï¼Œå¹¶ä¸”ä¼šæ¯”ä¸Šä¸€ä¸ªæ’åå¤šé‡å¤å€¼çš„é•¿åº¦ã€‚è€Œrow_numberä¼šä¸€ç›´é€’å¢ã€‚\nè¿™ä¸ªé¢˜è¦æŸ¥åˆ°çš„æ˜¯æ¯ç§ç¬¬ä¸€å¹´å–å‡ºçš„äº§å“çš„æƒ…å†µï¼Œå¯èƒ½ä¼šå­˜åœ¨æŸç§äº§å“ç¬¬ä¸€å¹´å–å‡ºå»å¤šæ¬¡ï¼Œè¿™ä¸ªä¹Ÿéœ€è¦æŸ¥å‡ºæ¥ã€‚å› æ­¤éœ€è¦ä½¿ç”¨rankã€‚\nselect product_id, year first_year, quantity, pricefrom (    select        *        , rank() over (partition by product_id order by year) rownum     from Sales) twhere rownum = 1;\n1321.é¤é¦†è¥ä¸šé¢å˜åŒ–å¢é•¿\nè¡¨: Customer\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| customer_id   | int     || name          | varchar || visited_on    | date    || amount        | int     |+---------------+---------+åœ¨ SQL ä¸­ï¼Œ(customer_id, visited_on) æ˜¯è¯¥è¡¨çš„ä¸»é”®ã€‚è¯¥è¡¨åŒ…å«ä¸€å®¶é¤é¦†çš„é¡¾å®¢äº¤æ˜“æ•°æ®ã€‚visited_on è¡¨ç¤º (customer_id) çš„é¡¾å®¢åœ¨ visited_on é‚£å¤©è®¿é—®äº†é¤é¦†ã€‚amount æ˜¯ä¸€ä¸ªé¡¾å®¢æŸä¸€å¤©çš„æ¶ˆè´¹æ€»é¢ã€‚\nä½ æ˜¯é¤é¦†çš„è€æ¿ï¼Œç°åœ¨ä½ æƒ³åˆ†æä¸€ä¸‹å¯èƒ½çš„è¥ä¸šé¢å˜åŒ–å¢é•¿ï¼ˆæ¯å¤©è‡³å°‘æœ‰ä¸€ä½é¡¾å®¢ï¼‰ã€‚\nè®¡ç®—ä»¥ 7 å¤©ï¼ˆæŸæ—¥æœŸ + è¯¥æ—¥æœŸå‰çš„ 6\nå¤©ï¼‰ä¸ºä¸€ä¸ªæ—¶é—´æ®µçš„é¡¾å®¢æ¶ˆè´¹å¹³å‡å€¼ã€‚average_amount è¦\nä¿ç•™ä¸¤ä½å°æ•°ã€‚\nç»“æœæŒ‰ visited_on å‡åºæ’åºã€‚\nè¿”å›ç»“æœæ ¼å¼çš„ä¾‹å­å¦‚ä¸‹ã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šCustomer è¡¨:+-------------+--------------+--------------+-------------+| customer_id | name         | visited_on   | amount      |+-------------+--------------+--------------+-------------+| 1           | Jhon         | 2019-01-01   | 100         || 2           | Daniel       | 2019-01-02   | 110         || 3           | Jade         | 2019-01-03   | 120         || 4           | Khaled       | 2019-01-04   | 130         || 5           | Winston      | 2019-01-05   | 110         | | 6           | Elvis        | 2019-01-06   | 140         | | 7           | Anna         | 2019-01-07   | 150         || 8           | Maria        | 2019-01-08   | 80          || 9           | Jaze         | 2019-01-09   | 110         | | 1           | Jhon         | 2019-01-10   | 130         | | 3           | Jade         | 2019-01-10   | 150         | +-------------+--------------+--------------+-------------+è¾“å‡ºï¼š+--------------+--------------+----------------+| visited_on   | amount       | average_amount |+--------------+--------------+----------------+| 2019-01-07   | 860          | 122.86         || 2019-01-08   | 840          | 120            || 2019-01-09   | 840          | 120            || 2019-01-10   | 1000         | 142.86         |+--------------+--------------+----------------+è§£é‡Šï¼šç¬¬ä¸€ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-01 åˆ° 2019-01-07 æ˜¯restaurant-growth/restaurant-growth/ (100 + 110 + 120 + 130 + 110 + 140 + 150)/7 = 122.86ç¬¬äºŒä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-02 åˆ° 2019-01-08 æ˜¯ (110 + 120 + 130 + 110 + 140 + 150 + 80)/7 = 120ç¬¬ä¸‰ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-03 åˆ° 2019-01-09 æ˜¯ (120 + 130 + 110 + 140 + 150 + 80 + 110)/7 = 120ç¬¬å››ä¸ªä¸ƒå¤©æ¶ˆè´¹å¹³å‡å€¼ä» 2019-01-04 åˆ° 2019-01-10 æ˜¯ (130 + 110 + 140 + 150 + 80 + 110 + 130 + 150)/7 = 142.86\nè§£æ(çª—å£å‡½æ•°èŒƒå›´)\né¢˜ç›®è¦æ±‚å½“å‰æ—¥æœŸåŠå‰7å¤©çš„è¥ä¸šé¢çš„å¹³å‡å€¼ã€‚å¾ˆå®¹æ˜“æƒ³åˆ°ä½¿ç”¨çª—å£å‡½æ•°ï¼ŒåŒæ—¶è¿™é“é¢˜ä¹Ÿä½œä¸º180é¢˜çš„è¡¥å……\n[æ“ä½œ] over (partition by &lt;åˆ—å&gt; order by &lt;åˆ—å&gt; rows &lt;çª—å£æ»‘åŠ¨çš„æ•°æ®èŒƒå›´&gt;)\nå…¶ä¸­æ»‘åŠ¨èŒƒå›´ç”¨æ¥é™å®šè¦æ“ä½œçš„æ•°æ®çš„èŒƒå›´ã€‚\nå½“å‰è¡Œ - current rowä¹‹å‰çš„è¡Œ - precedingä¹‹åçš„è¡Œ - followingæ— ç•Œé™ - unboundedè¡¨ç¤ºä»å‰é¢çš„èµ·ç‚¹ - unbounded precedingè¡¨ç¤ºåˆ°åé¢çš„ç»ˆç‚¹ - unbounded following\nä¾‹ï¼š\nå–å½“å‰è¡Œå’Œå‰äº”è¡Œï¼šROWS between 5 preceding and current row --å…±6è¡Œå–å½“å‰è¡Œå’Œåäº”è¡Œï¼šROWS between current row and 5 following --å…±6è¡Œå–å‰äº”è¡Œå’Œåäº”è¡Œï¼šROWS between 5 preceding and 5 folowing --å…±11è¡Œ\nå› æ­¤æœ€åæœ¬é¢˜æŸ¥è¯¢å¦‚ä¸‹ï¼š\nselect    visited_on    , sum_amount amount    , round(sum_amount / 7, 2) average_amountfrom (    select         visited_on        , sum(amount) over (order by visited_on rows 6 preceding) sum_amount    from (        select visited_on, sum(amount) amount        from Customer        group by visited_on    ) t) ttwhere datediff(visited_on, (select min(visited_on) from Customer)) &gt;= 6;\næœ€å†…å±‚æŸ¥è¯¢é¦–å…ˆæ ¹æ®æ—¥æœŸåˆ†ç»„ï¼Œè·å–æ¯å¤©çš„é”€å”®æ€»é¢ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨åŒä¸€å¤©æœ‰å¤šä¸ªå®¢æˆ·çš„æƒ…å†µã€‚\nç„¶åå¯¹å­æŸ¥è¯¢è¿›è¡Œçª—å£å‡½æ•°è®¡ç®—ã€‚è®¡ç®—ä»å½“å‰è¡Œå’Œå‰å…­è¡Œçš„å’Œï¼Œè™½ç„¶å‰6è¡Œå¾€å‰ä¸è¶³6è¡Œï¼Œä½†æ˜¯ä¾æ—§å¯ä»¥è®¡ç®—ï¼Œæœ‰å¤šå°‘è¡Œè®¡ç®—å¤šå°‘è¡Œã€‚ä»ç¬¬7è¡Œå¼€å§‹ï¼Œè®¡ç®—çš„å°±æ˜¯å®Œæ•´çš„7å¤©çš„è¥ä¸šé¢ã€‚æœ€åå–å‡ºæ»¡è¶³æ¡ä»¶çš„æ—¥æœŸå³å¯ã€‚\næœ¬é¢˜è¯´æ˜äº†æ¯å¤©éƒ½è‡³å°‘æœ‰ä¸€ä¸ªé¡¾å®¢çš„è®¢å•ï¼Œæ‰€ä»¥æ—¥æœŸè‚¯å®šæ˜¯è¿ç»­çš„ã€‚\nä¹Ÿå¯ä»¥ä¸é€‚ç”¨çª—å£å‡½æ•°ï¼Œé‡‡ç”¨è‡ªè¿æ¥æ–¹æ³•ï¼Œå‚è€ƒé¢˜è§£ã€‚\n1341.ç”µå½±è¯„åˆ†\nè¡¨ï¼šMovies\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| movie_id      | int     || title         | varchar |+---------------+---------+movie_id æ˜¯è¿™ä¸ªè¡¨çš„ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚title æ˜¯ç”µå½±çš„åå­—ã€‚\nè¡¨ï¼šUsers\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| user_id       | int     || name          | varchar |+---------------+---------+user_id æ˜¯è¡¨çš„ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚\nè¡¨ï¼šMovieRating\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| movie_id      | int     || user_id       | int     || rating        | int     || created_at    | date    |+---------------+---------+(movie_id, user_id) æ˜¯è¿™ä¸ªè¡¨çš„ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆ)ã€‚è¿™ä¸ªè¡¨åŒ…å«ç”¨æˆ·åœ¨å…¶è¯„è®ºä¸­å¯¹ç”µå½±çš„è¯„åˆ† rating ã€‚created_at æ˜¯ç”¨æˆ·çš„ç‚¹è¯„æ—¥æœŸã€‚ \nè¯·ä½ ç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š\n\næŸ¥æ‰¾è¯„è®ºç”µå½±æ•°é‡æœ€å¤šçš„ç”¨æˆ·åã€‚å¦‚æœå‡ºç°å¹³å±€ï¼Œè¿”å›å­—å…¸åºè¾ƒå°çš„ç”¨æˆ·åã€‚\næŸ¥æ‰¾åœ¨ February 2020 å¹³å‡è¯„åˆ†æœ€é«˜\nçš„ç”µå½±åç§°ã€‚å¦‚æœå‡ºç°å¹³å±€ï¼Œè¿”å›å­—å…¸åºè¾ƒå°çš„ç”µå½±åç§°ã€‚\n\nå­—å…¸åº\nï¼Œå³æŒ‰å­—æ¯åœ¨å­—å…¸ä¸­å‡ºç°é¡ºåºå¯¹å­—ç¬¦ä¸²æ’åºï¼Œå­—å…¸åºè¾ƒå°åˆ™æ„å‘³ç€æ’åºé å‰ã€‚\nè¿”å›ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šMovies è¡¨ï¼š+-------------+--------------+| movie_id    |  title       |+-------------+--------------+| 1           | Avengers     || 2           | Frozen 2     || 3           | Joker        |+-------------+--------------+Users è¡¨ï¼š+-------------+--------------+| user_id     |  name        |+-------------+--------------+| 1           | Daniel       || 2           | Monica       || 3           | Maria        || 4           | James        |+-------------+--------------+MovieRating è¡¨ï¼š+-------------+--------------+--------------+-------------+| movie_id    | user_id      | rating       | created_at  |+-------------+--------------+--------------+-------------+| 1           | 1            | 3            | 2020-01-12  || 1           | 2            | 4            | 2020-02-11  || 1           | 3            | 2            | 2020-02-12  || 1           | 4            | 1            | 2020-01-01  || 2           | 1            | 5            | 2020-02-17  | | 2           | 2            | 2            | 2020-02-01  | | 2           | 3            | 2            | 2020-03-01  || 3           | 1            | 3            | 2020-02-22  | | 3           | 2            | 4            | 2020-02-25  | +-------------+--------------+--------------+-------------+è¾“å‡ºï¼šResult è¡¨ï¼š+--------------+| results      |+--------------+| Daniel       || Frozen 2     |+--------------+è§£é‡Šï¼šDaniel å’Œ Monica éƒ½ç‚¹è¯„äº† 3 éƒ¨ç”µå½±ï¼ˆ\"Avengers\", \"Frozen 2\" å’Œ \"Joker\"ï¼‰ ä½†æ˜¯ Daniel å­—å…¸åºæ¯”è¾ƒå°ã€‚Frozen 2 å’Œ Joker åœ¨ 2 æœˆçš„è¯„åˆ†éƒ½æ˜¯ 3.5ï¼Œä½†æ˜¯ Frozen 2 çš„å­—å…¸åºæ¯”è¾ƒå°ã€‚\nè§£æ(unionå­å¥)\nè¿™é“é¢˜æ€è·¯å¾ˆç®€å•ï¼Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œåˆ†åˆ«æŸ¥å‡ºè¯„åˆ†æœ€å¤šçš„äººå’Œè¯„åˆ†æœ€é«˜çš„ç”µå½±ï¼Œæœ€åä½¿ç”¨unionåˆå¹¶ã€‚\nä½†æ˜¯å®é™…è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯å­å¥ä½¿ç”¨äº†order by\nlimitç­‰ï¼Œä½¿ç”¨è¿™äº›åä¸èƒ½ç›´æ¥å’Œunionæ“ä½œï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æ‹¬å·å°†ä¸¤ä¸ªå­å¥æ‹¬èµ·æ¥å†åˆå¹¶ã€‚\n(    select u.name results    from MovieRating mr    inner join Users u    on mr.user_id = u.user_id    group by mr.user_id    order by count(*) desc, u.name asc    limit 1)union all(    select m.title results    from MovieRating mr    inner join Movies m    on mr.movie_id = m.movie_id    where date_format(mr.created_at, '%Y-%m') = '2020-02'    group by mr.movie_id    order by avg(rating) desc, m.title asc    limit 1);\n550. æ¸¸æˆç©æ³•åˆ†æIV\nTable: Activity\n+--------------+---------+| Column Name  | Type    |+--------------+---------+| player_id    | int     || device_id    | int     || event_date   | date    || games_played | int     |+--------------+---------+ï¼ˆplayer_idï¼Œevent_dateï¼‰æ˜¯æ­¤è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—çš„ç»„åˆï¼‰ã€‚è¿™å¼ è¡¨æ˜¾ç¤ºäº†æŸäº›æ¸¸æˆçš„ç©å®¶çš„æ´»åŠ¨æƒ…å†µã€‚æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªç©å®¶çš„è®°å½•ï¼Œä»–åœ¨æŸä¸€å¤©ä½¿ç”¨æŸä¸ªè®¾å¤‡æ³¨é”€ä¹‹å‰ç™»å½•å¹¶ç©äº†å¾ˆå¤šæ¸¸æˆï¼ˆå¯èƒ½æ˜¯ 0ï¼‰ã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆï¼ŒæŠ¥å‘Šåœ¨é¦–æ¬¡ç™»å½•çš„ç¬¬äºŒå¤©å†æ¬¡ç™»å½•çš„ç©å®¶çš„\næ¯”ç‡ï¼Œå››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ã€‚æ¢å¥è¯è¯´ï¼Œä½ éœ€è¦è®¡ç®—ä»é¦–æ¬¡ç™»å½•æ—¥æœŸå¼€å§‹è‡³å°‘è¿ç»­ä¸¤å¤©ç™»å½•çš„ç©å®¶çš„æ•°é‡ï¼Œç„¶åé™¤ä»¥ç©å®¶æ€»æ•°ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šActivity table:+-----------+-----------+------------+--------------+| player_id | device_id | event_date | games_played |+-----------+-----------+------------+--------------+| 1         | 2         | 2016-03-01 | 5            || 1         | 2         | 2016-03-02 | 6            || 2         | 3         | 2017-06-25 | 1            || 3         | 1         | 2016-03-02 | 0            || 3         | 4         | 2018-07-03 | 5            |+-----------+-----------+------------+--------------+è¾“å‡ºï¼š+-----------+| fraction  |+-----------+| 0.33      |+-----------+è§£é‡Šï¼šåªæœ‰ ID ä¸º 1 çš„ç©å®¶åœ¨ç¬¬ä¸€å¤©ç™»å½•åæ‰é‡æ–°ç™»å½•ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 1/3 = 0.33\nè§£æ\nå…ˆæ±‚å‡ºæ¯ä¸ªç©å®¶é¦–æ¬¡ç™»å½•æ—¥æœŸï¼Œç„¶åè¿›è¡Œå·¦è¿æ¥ï¼Œåˆ¤æ–­æ¯ä¸ªç©å®¶æ˜¯å¦åœ¨ç¬¬äºŒå¤©ç™»å½•ï¼Œå¦‚æœæœªç™»å½•ï¼Œåˆ™ç¬¬äºŒä¸ªè¡¨çš„å­—æ®µä¼šä¸ºnullï¼Œä¾æ¬¡å¯ä»¥åˆ¤æ–­æœ€åçš„æ¯”ç‡ã€‚\n# Write your MySQL query statement belowSELECT ROUND(AVG(a.player_id IS NOT NULL), 2) fractionFROM (    SELECT player_id, MIN(event_date) event_date    FROM Activity    GROUP BY player_id) t_loginLEFT JOIN Activity aON DATEDIFF(a.event_date, t_login.event_date) = 1AND t_login.player_id = a.player_id;\n1164.æŒ‡å®šæ—¥æœŸçš„äº§å“ä»·æ ¼\näº§å“æ•°æ®è¡¨: Products\n+---------------+---------+| Column Name   | Type    |+---------------+---------+| product_id    | int     || new_price     | int     || change_date   | date    |+---------------+---------+(product_id, change_date) æ˜¯æ­¤è¡¨çš„ä¸»é”®ï¼ˆå…·æœ‰å”¯ä¸€å€¼çš„åˆ—ç»„åˆï¼‰ã€‚è¿™å¼ è¡¨çš„æ¯ä¸€è¡Œåˆ†åˆ«è®°å½•äº† æŸäº§å“ åœ¨æŸä¸ªæ—¥æœŸ æ›´æ”¹å çš„æ–°ä»·æ ¼ã€‚\nç¼–å†™ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæ‰¾å‡ºåœ¨ 2019-08-16\næ—¶å…¨éƒ¨äº§å“çš„ä»·æ ¼ï¼Œå‡è®¾æ‰€æœ‰äº§å“åœ¨ä¿®æ”¹å‰çš„ä»·æ ¼éƒ½æ˜¯ 10\nã€‚\nä»¥ ä»»æ„é¡ºåº è¿”å›ç»“æœè¡¨ã€‚\nç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1:\nè¾“å…¥ï¼šProducts è¡¨:+------------+-----------+-------------+| product_id | new_price | change_date |+------------+-----------+-------------+| 1          | 20        | 2019-08-14  || 2          | 50        | 2019-08-14  || 1          | 30        | 2019-08-15  || 1          | 35        | 2019-08-16  || 2          | 65        | 2019-08-17  || 3          | 20        | 2019-08-18  |+------------+-----------+-------------+è¾“å‡ºï¼š+------------+-------+| product_id | price |+------------+-------+| 2          | 50    || 1          | 35    || 3          | 10    |+------------+-------+\nè§£æ\n# Write your MySQL query statement belowSELECT product_id, IF(filter_date IS NULL, 10, new_price) priceFROM (    SELECT        *,        ROW_NUMBER() OVER (PARTITION BY product_id ORDER BY filter_date DESC) rn    FROM (        SELECT            *,            IF(DATEDIFF('2019-08-16', change_date) &gt;= 0, change_date, NULL) filter_date        FROM Products    ) T1) T2WHERE rn = 1;\né¦–å…ˆæ’é™¤ä¸ç¬¦åˆæ¡ä»¶çš„æ—¥æœŸï¼Œå°†å…¶è®¾ç½®ä¸ºNULLï¼Œç„¶åä½¿ç”¨çª—å£å‡½æ•°å¯¹å…¶è¿›è¡Œå€’åºæ’åºåŠ ç´¢å¼•ï¼Œè¿™æ ·å°±å¯ä»¥æ‰¾åˆ°åœ¨è§„å®šæ—¥æœŸä¹‹å‰çš„æœ€è¿‘çš„æ—¥æœŸï¼Œå¦‚æœæŸä¸ªå•†å“æ‰€æœ‰çš„æ—¥æœŸéƒ½åœ¨è§„å®šæ—¥æœŸä¹‹åï¼Œé‚£ä¹ˆå®ƒçš„filter_dateå§‹ç»ˆä¸ºNULLï¼Œè¿›è¡Œæ’ååï¼Œæ— è®ºå“ªä¸ªæ˜¯1ï¼Œéƒ½ä¸ä¼šå½±å“æœ€ç»ˆç»“æœã€‚\næ’åºæ—¶ï¼Œå…ˆæŒ‰ç…§ä¸æ˜¯NULLçš„å€¼è¿›è¡Œæ’åºï¼Œç„¶åå…¶ä½™ä¸ºNULLçš„ä¾æ¬¡æ’åˆ—ã€‚\n585. 2016å¹´çš„æŠ•èµ„\nInsurance è¡¨ï¼š\n+-------------+-------+| Column Name | Type  |+-------------+-------+| pid         | int   || tiv_2015    | float || tiv_2016    | float || lat         | float || lon         | float |+-------------+-------+pid æ˜¯è¿™å¼ è¡¨çš„ä¸»é”®(å…·æœ‰å”¯ä¸€å€¼çš„åˆ—)ã€‚è¡¨ä¸­çš„æ¯ä¸€è¡Œéƒ½åŒ…å«ä¸€æ¡ä¿é™©ä¿¡æ¯ï¼Œå…¶ä¸­ï¼špid æ˜¯æŠ•ä¿äººçš„æŠ•ä¿ç¼–å·ã€‚tiv_2015 æ˜¯è¯¥æŠ•ä¿äººåœ¨ 2015 å¹´çš„æ€»æŠ•ä¿é‡‘é¢ï¼Œtiv_2016 æ˜¯è¯¥æŠ•ä¿äººåœ¨ 2016 å¹´çš„æ€»æŠ•ä¿é‡‘é¢ã€‚lat æ˜¯æŠ•ä¿äººæ‰€åœ¨åŸå¸‚çš„çº¬åº¦ã€‚é¢˜ç›®æ•°æ®ç¡®ä¿ lat ä¸ä¸ºç©ºã€‚lon æ˜¯æŠ•ä¿äººæ‰€åœ¨åŸå¸‚çš„ç»åº¦ã€‚é¢˜ç›®æ•°æ®ç¡®ä¿ lon ä¸ä¸ºç©ºã€‚\nç¼–å†™è§£å†³æ–¹æ¡ˆæŠ¥å‘Š 2016 å¹´ (tiv_2016)\næ‰€æœ‰æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„æŠ•ä¿äººçš„æŠ•ä¿é‡‘é¢ä¹‹å’Œï¼š\n\nä»–åœ¨ 2015 å¹´çš„æŠ•ä¿é¢ (tiv_2015) è‡³å°‘è·Ÿä¸€ä¸ªå…¶ä»–æŠ•ä¿äººåœ¨\n2015 å¹´çš„æŠ•ä¿é¢ç›¸åŒã€‚\nä»–æ‰€åœ¨çš„åŸå¸‚å¿…é¡»ä¸å…¶ä»–æŠ•ä¿äººéƒ½ä¸åŒï¼ˆä¹Ÿå°±æ˜¯è¯´ (lat, lon)\nä¸èƒ½è·Ÿå…¶ä»–ä»»ä½•ä¸€ä¸ªæŠ•ä¿äººå®Œå…¨ç›¸åŒï¼‰ã€‚\n\ntiv_2016 å››èˆäº”å…¥çš„ ä¸¤ä½å°æ•° ã€‚\næŸ¥è¯¢ç»“æœæ ¼å¼å¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚\nç¤ºä¾‹ 1ï¼š\nè¾“å…¥ï¼šInsurance è¡¨ï¼š+-----+----------+----------+-----+-----+| pid | tiv_2015 | tiv_2016 | lat | lon |+-----+----------+----------+-----+-----+| 1   | 10       | 5        | 10  | 10  || 2   | 20       | 20       | 20  | 20  || 3   | 10       | 30       | 20  | 20  || 4   | 10       | 40       | 40  | 40  |+-----+----------+----------+-----+-----+è¾“å‡ºï¼š+----------+| tiv_2016 |+----------+| 45.00    |+----------+è§£é‡Šï¼šè¡¨ä¸­çš„ç¬¬ä¸€æ¡è®°å½•å’Œæœ€åä¸€æ¡è®°å½•éƒ½æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ã€‚tiv_2015 å€¼ä¸º 10 ä¸ç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡è®°å½•ç›¸åŒï¼Œä¸”å…¶ä½ç½®æ˜¯å”¯ä¸€çš„ã€‚ç¬¬äºŒæ¡è®°å½•ä¸ç¬¦åˆä»»ä½•ä¸€ä¸ªæ¡ä»¶ã€‚å…¶ tiv_2015 ä¸å…¶ä»–æŠ•ä¿äººä¸åŒï¼Œå¹¶ä¸”ä½ç½®ä¸ç¬¬ä¸‰æ¡è®°å½•ç›¸åŒï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ç¬¬ä¸‰æ¡è®°å½•ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚å› æ­¤ï¼Œç»“æœæ˜¯ç¬¬ä¸€æ¡è®°å½•å’Œæœ€åä¸€æ¡è®°å½•çš„ tiv_2016 ä¹‹å’Œï¼Œå³ 45 ã€‚\nè§£æ\néœ€è¦æ±‚çš„æ˜¯æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶çš„æŠ•ä¿äººçš„æŠ•ä¿é‡‘é¢æ€»å’Œã€‚\nä½¿ç”¨group by å’Œ countåˆ¤æ–­å”¯ä¸€å’Œä¸å”¯ä¸€è¿™ä¸¤ä¸ªæ¡ä»¶ã€‚åˆ†åˆ«æ±‚å‡ºæ»¡è¶³ä¸¤ä¸ªæ¡ä»¶çš„ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œè¿‡æ»¤ã€‚\n# Write your MySQL query statement belowSELECT ROUND(SUM(tiv_2016), 2) tiv_2016FROM InsuranceWHERE CONCAT(lat, lon) IN (    SELECT CONCAT(lat, lon)    FROM Insurance    GROUP BY lat, lon    HAVING COUNT(*) = 1)AND tiv_2015 IN (    SELECT tiv_2015    FROM Insurance    GROUP BY tiv_2015    HAVING COUNT(*) &gt; 1)\nâ—æ³¨æ„ï¼šä»¥ä¸‹å†™æ³•æ˜¯é”™è¯¯çš„\n# Write your MySQL query statement belowSELECT ROUND(SUM(tiv_2016), 2) tiv_2016FROM (    SELECT SUM(tiv_2016) tiv_2016    FROM (        SELECT *        FROM Insurance        GROUP BY lat, lon        HAVING COUNT(*) = 1    ) T1    GROUP BY tiv_2015    HAVING COUNT(*) &gt; 1) T2\nè¯¥å†™æ³•æ˜¯å…ˆæ±‚å‡ºåœ°ç†ä½ç½®å”¯ä¸€çš„æŠ•ä¿äººï¼Œç„¶ååœ¨åœ°ç†ä½ç½®å”¯ä¸€çš„äººé‡Œåˆ¤æ–­tiv_2015è¿™ä¸ªæ˜¯ä¸æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ˜¯é”™è¯¯çš„ã€‚\n\n\n\nid\ntiv_2015\nlat, lon\n\n\n\n\n1\n1\n1,2\n\n\n2\n1\n1,3\n\n\n3\n1\n1,3\n\n\n\nå¦‚è¯¥æ•°æ®ï¼Œå…¶ä¸­id=1æ˜¯æ»¡è¶³æ¡ä»¶çš„ã€‚ä½†æ˜¯å¦‚æœæŒ‰ç…§ä¸Šè¿°é”™è¯¯åšæ³•æ¥åšçš„è¯ï¼Œé¦–å…ˆæ’é™¤æ‰äº†id=2,3ï¼Œç„¶ååˆ¤æ–­tiv_2015ï¼Œä¼šå‘ç°æ’é™¤äº†id=2,3åæ²¡æœ‰é‡å¤ï¼Œä½†å®é™…ä¸Šæ˜¯æœ‰é‡å¤çš„ã€‚\nè¯¥é¢˜æœ¬è´¨ä¸Šä¸¤ä¸ªæ¡ä»¶çš„æ¯”å¯¹æ˜¯æ¯”å¯¹çš„åœ¨å…¨å±€æƒ…å†µä¸‹æ˜¯å¦å”¯ä¸€ã€‚è€Œä¸æ˜¯æ’é™¤æŸäº›åå‰©ä¸‹çš„æ•°æ®é‡Œ(ä¸)å”¯ä¸€ã€‚\n","categories":["LeetCode"],"tags":["LeetCode","sql"]},{"title":"è®¾è®¡æ¨¡å¼è¯¾ç¨‹","url":"/b05d2f415eb4/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E8%AF%BE%E7%A8%8B/","content":"\n1 ç­–ç•¥æ¨¡å¼\n1.1 å®šä¹‰\nç­–ç•¥æ¨¡å¼å®šä¹‰ï¼šå®ƒå®šä¹‰äº†ç®—æ³•å®¶æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©å®ƒä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚\n\n1.2 ç»“æ„å›¾\n\n1.3 ä»£ç \nabstract class Strategy {    public abstract void AlgorithmInterface();}\nclass ConcreteStrategyA extends Strategy {    @override    public void AlgorighmInterface() {        // ç®—æ³•Aå®ç°    }}class ConcreteStrategyB extends Strategy {    @override    public void AlgorighmInterface() {        // ç®—æ³•Bå®ç°    }}class ConcreteStrategyC extends Strategy {    @override    public void AlgorighmInterface() {        // ç®—æ³•Cå®ç°    }}\nclass Context {    private Strategy strategy;    public Context(Strategy strategy) {        this.strategy = strategy;    }    // æ ¹æ®ä¼ å…¥çš„å…·ä½“çš„ç­–ç•¥å¯¹è±¡è°ƒç”¨å…¶ç®—æ³•    public void ContextInterface() {        strategy.AlgorighmInterface();    }}\n1.4 æ€»ç»“\nç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•çš„æ–¹æ³•ï¼Œä»æ¦‚å¿µä¸Šæ¥çœ‹ï¼Œæ‰€æœ‰è¿™äº›ç®—æ³•å®Œæˆçš„éƒ½æ˜¯ç›¸åŒçš„å·¥ä½œï¼Œåªæ˜¯å®ç°ä¸åŒï¼Œå®ƒå¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è°ƒç”¨æ‰€æœ‰çš„ç®—æ³•ï¼Œå‡å°‘äº†å„ç§ç®—æ³•ç±»ä¸ä½¿ç”¨ç®—æ³•ç±»ä¹‹é—´çš„è€¦åˆã€‚\nç­–ç•¥æ¨¡å¼çš„Strategyç±»å±‚æ¬¡ä¸ºContextå®šä¹‰äº†ä¸€ç³»åˆ—çš„å¯ä¾›é‡ç”¨çš„ç®—æ³•æˆ–è¡Œä¸ºã€‚ç»§æ‰¿æœ‰åŠ©äºæå–å‡ºè¿™äº›ç®—æ³•ä¸­çš„å…¬å…±åŠŸèƒ½ã€‚\n2 è£…é¥°æ¨¡å¼\n2.1 å®šä¹‰\nè£…é¥°æ¨¡å¼å®šä¹‰ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´åŠ çµæ´»ã€‚\n2.2 ç»“æ„å›¾\n\n2.3 ä»£ç \ninterface Component {    void Operation();}\npublic class ConcreteComponent implements Component {    @override    void Operation() {        // å…·ä½“çš„æ“ä½œ    }}\npublic abstract class Decorator implements Component {    protected Component component;    public void setComponent(Component component) {        this.component = component;    }    @override    public void Operation() {        if (component != null) {            component.operation();        }    }}\nclass ConcreteDecoratorA extends Decorator {    private String addedState;    @override    public void Opertaion() {        super.opertion();        //å¯¹è±¡Açš„å…·ä½“æ“ä½œ        addedState = \"new state\";    }}class ConcreteDecoratorB extends Decorator {    @override    public void Operation() {        super.opertaion();        // å¯¹è±¡Bçš„å…·ä½“æ“ä½œ        AddedBehavior();    }    private void AddedBehavior() {    }}\npublic static void main() {    ConcreteDecoratorA d1 = new ConcreteDecoratorA();    ConcreteDecoratorB d2 = new ConcreteDecoratorB();    // ç”¨d2å¯¹è±¡æ¥åŒ…è£…d1    d2.setComponent(d1);    // è°ƒç”¨d2çš„å…·ä½“æ“ä½œï¼Œæœ€ç»ˆä¼šä¹Ÿä¼šæŠŠåŒ…è£…è¿‡çš„å¯¹è±¡çš„å…·ä½“æ“ä½œä¹Ÿæ‰§è¡Œ    d2.Operation();}\nå…·ä½“å®ç°ä¸­å¯èƒ½ä¼šä¸ç»“æ„å›¾æœ‰ä¸åŒï¼Œå¦‚ç›´æ¥è®©DecoratoræŠ½è±¡ç±»ç»§æ‰¿ConcreteComponentç±»ã€‚\n2.4 æ€»ç»“\nè£…é¥°æ¨¡å¼æ˜¯ä¸ºå·²æœ‰åŠŸèƒ½åŠ¨æ€åœ°æ·»åŠ æ›´å¤šåŠŸèƒ½çš„ä¸€ç§æ–¹å¼ã€‚\nè£…é¥°æ¨¡å¼æä¾›äº†ä¸€ä¸ªéå¸¸å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæŠŠæ¯ä¸ªè¦è£…é¥°çš„åŠŸèƒ½æ”¾åœ¨å•ç‹¬çš„ç±»ä¸­ï¼Œå¹¶è®©è¿™ä¸ªç±»åŒ…è£…å®ƒæ‰€è¦è£…é¥°çš„å¯¹è±¡ï¼Œå› æ­¤ï¼Œå½“éœ€è¦æ‰§è¡Œç‰¹æ®Šè¡Œä¸ºæ—¶ï¼Œå®¢æˆ·ä»£ç å°±å¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦æœ‰é€‰æ‹©åœ°ã€æŒ‰é¡ºåºåœ°ä½¿ç”¨è£…é¥°åŠŸèƒ½åŒ…è£…å¯¹è±¡äº†ã€‚\n3 ä»£ç†æ¨¡å¼\n3.1 å®šä¹‰\nä»£ç†æ¨¡å¼å®šä¹‰ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚\n3.2 ç»“æ„å›¾\n\n3.3 ä»£ç \npublic abstract class Subject {    public abstarct void Request();}\npublic class RealSubject extends Subject {    @override    public void Request() {        // çœŸå®çš„æ“ä½œè¯·æ±‚    }}\npublic class Proxy extends Subject {    RealSubject realSubject;    @override    public void Request() {        if (realSubject == null) {            realSubject = new RealSubject();        }        realSubject.Request();    }}\n3.4 æ€»ç»“\n\nä»£ç†æ¨¡å¼é€šå¸¸æœ‰å¦‚ä¸‹å‡ é’Ÿç”¨é€”ï¼š\n\n\nè¿œç¨‹ä»£ç†\nè™šæ‹Ÿä»£ç†\nä¿æŠ¤ä»£ç†\næ™ºèƒ½æŒ‡å¼•\n\n\nä»£ç†æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹ï¼š\n\n\nä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨å’Œä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨ï¼›\nä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼›\nä»£ç†æ¨¡å¼èƒ½å°†å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡åˆ†ç¦»ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œå¢åŠ äº†ç¨‹åºçš„å¯æ‰©å±•æ€§;\n\n4 å·¥å‚æ–¹æ³•æ¨¡å¼\n4.1 å®šä¹‰\nå·¥å‚æ–¹æ³•æ¨¡å¼å®šä¹‰ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚\n4.2 ç»“æ„å›¾\n\n4.3 ä»£ç \ninterface Product {}\nclass ConcreteProduct implements Product {}\ninterface Factory {    Product FactoryMethod();}\nclass ConcreteFactory implements Factory {    @override    public Product FactoryMethod() {        // ç”Ÿæˆå…·ä½“å¯¹è±¡çš„æ–¹æ³•        Product product = new ConcreteProduct();        return product;    }}\n4.4 æ€»ç»“\n\nä¼˜ç‚¹\n\n\nç¬¦åˆå¼€é—­åŸåˆ™\nç¬¦åˆå•ä¸€èŒè´£åŸåˆ™\nä¸ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•ï¼Œå¯ä»¥å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„\n\n5 åŸå‹æ¨¡å¼\n5.1 å®šä¹‰\nåŸå‹æ¨¡å¼å®šä¹‰ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚\n5.2 ç»“æ„å›¾\n\n5.3 ä»£ç \npublic abstract class Prototype {    private String id;    public abstract Prototype Clone();}\nclass ConcretePrototype extends Prototype {    @override    public Protytpe Clone() {        // å…‹éš†å½“å‰å¯¹è±¡        return newObject;    }}\n5.4 æ€»ç»“\nå…·ä½“å®ç°æ—¶æ— éœ€åˆ›å»ºPrototypeæ¥å£ï¼Œç›´æ¥å®ç°Javaä¸­çš„Cloneableæ¥å£å³å¯ã€‚åŒæ—¶å…‹éš†æ—¶æ³¨æ„æ·±æ‹·è´å’Œæµ…æ‹·è´çš„é—®é¢˜ã€‚\n6 æ¨¡æ¿æ–¹æ³•æ¨¡å¼\n6.1 å®šä¹‰\næ¨¡æ¿æ–¹æ³•æ¨¡å¼å®šä¹‰ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚\n6.2 ç»“æ„å›¾\n\n6.3 ä»£ç \nabstract class TemplateClass {    public abstract void PrimitiveOpeartion1();    public abstract void PrimitiveOpeartion2();\tpublic void TemplateMethod() {        PrimitiveOpeartion1();        PrimitiveOpeartion2();        // å…¶ä»–æ­¥éª¤    }}\npublic class ConcreteClass extends TemplateClass {    @override    public void PrimitiveOperation1() {        // æ–¹æ³•1    }    @override    public void PrimitiveOperation2() {        // æ–¹æ³•2    }}\nå®ç°ç±»å®ç°æŠ½è±¡æ¨¡æ¿ä¸­å®šä¹‰çš„æŠ½è±¡æ–¹æ³•ã€‚\n6.4 æ€»ç»“\næ¨¡æ¿æ–¹æ³•æ¨¡å¼æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ä»£ç å¤ç”¨å¹³å°\nã€‚å› ä¸ºæœ‰æ—¶å€™ï¼Œä¼šé‡åˆ°ç”±ä¸€ç³»åˆ—æ­¥éª¤æ„æˆçš„è¿‡ç¨‹éœ€è¦æ‰§è¡Œã€‚è¿™ä¸ªè¿‡ç¨‹ä»é«˜å±‚æ¬¡ä¸Šçœ‹æ˜¯ç›¸åŒçš„ï¼Œä½†æœ‰äº›æ­¥éª¤çš„å®ç°å¯èƒ½ä¸åŒã€‚è¿™æ—¶å€™ï¼Œé€šå¸¸å°±åº”è¯¥è¦è€ƒè™‘ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼äº†ã€‚å½“ä¸å˜çš„å’Œå¯å˜çš„è¡Œä¸ºåœ¨æ–¹æ³•çš„å­ç±»å®ç°ä¸­æ··åˆåœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œä¸å˜çš„è¡Œä¸ºå°±ä¼šåœ¨å­ç±»ä¸­é‡å¤å‡ºç°ã€‚æˆ‘ä»¬é€šè¿‡æ¨¡æ¿æ–¹æ³•æ¨¡å¼æŠŠè¿™äº›è¡Œä¸ºæ¬ç§»åˆ°å•ä¸€çš„åœ°æ–¹ï¼Œè¿™æ ·å°±å¸®åŠ©å­ç±»æ‘†è„±é‡å¤çš„ä¸å˜è¡Œä¸ºçš„çº ç¼ ã€‚\n7 å¤–è§‚æ¨¡å¼\n7.1 å®šä¹‰\nå¤–è§‚æ¨¡å¼å®šä¹‰ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚\n7.2 ç»“æ„å›¾\n\n7.3 ä»£ç \nclass SubSystemOne {    public void MethodOne() {        // æ–¹æ³•1    }}class SubSystemTwo {    public void MethodTwo() {        // æ–¹æ³•2    }}\nclass Facade {    private SubSystemOne subSystemOne;    private SubSystemTwo subSystemTwo;    public Facade() {        subSystemOne = new SubSystemOne();        subSystemTwo = new SubSystemTwo();    }    public void MethodA() {        subSystemOne.MethodOne();        subSystemTwo.MethodTwo();    }    public void MethodB() {        subSystemTwo.MethodTwo();    }}\n7.4 æ€»ç»“\né¦–å…ˆï¼Œåœ¨è®¾è®¡åˆæœŸé˜¶æ®µï¼Œåº”è¯¥è¦æœ‰æ„è¯†çš„å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œæ¯”å¦‚ç»å…¸çš„ä¸‰å±‚æ¶æ„ï¼Œå°±éœ€è¦è€ƒè™‘åœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚çš„å±‚ä¸å±‚ä¹‹é—´å»ºç«‹å¤–è§‚Facadeï¼Œè¿™æ ·å¯ä»¥ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿å¾—è€¦åˆå¤§å¤§é™ä½ã€‚å…¶æ¬¡ï¼Œåœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¤§å¤šæ•°çš„æ¨¡å¼ä½¿ç”¨æ—¶ä¹Ÿéƒ½ä¼šäº§ç”Ÿå¾ˆå¤šå¾ˆå°çš„ç±»ï¼Œè¿™æœ¬æ˜¯å¥½äº‹ï¼Œä½†ä¹Ÿç»™å¤–éƒ¨è°ƒç”¨å®ƒä»¬çš„ç”¨æˆ·ç¨‹åºå¸¦æ¥äº†ä½¿ç”¨ä¸Šçš„å›°éš¾ï¼Œå¢åŠ å¤–è§‚Facadeå¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘å®ƒä»¬ä¹‹é—´çš„ä¾èµ–ã€‚ç¬¬ä¸‰ï¼Œåœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»éå¸¸éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•äº†ï¼Œä½†å› ä¸ºå®ƒåŒ…å«éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæ–°çš„éœ€æ±‚å¼€å‘å¿…é¡»è¦ä¾èµ–äºå®ƒã€‚æ­¤æ—¶ç”¨å¤–è§‚æ¨¡å¼Facadeä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ã€‚ä½ å¯ä»¥ä¸ºæ–°ç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚Facadeç±»ï¼Œæ¥æä¾›è®¾è®¡ç²—ç³™æˆ–é«˜åº¦å¤æ‚çš„é—ç•™ä»£ç çš„æ¯”è¾ƒæ¸…æ™°ç®€å•çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿä¸Facadeå¯¹è±¡äº¤äº’ï¼ŒFacadeä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰å¤æ‚çš„å·¥ä½œã€‚\n8 å»ºé€ è€…æ¨¡å¼\n8.1 å®šä¹‰\nå»ºé€ è€…æ¨¡å¼å®šä¹‰ï¼šä¹Ÿå«ç”Ÿæˆå™¨æ¨¡å¼ï¼Œå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚\n8.2 ç»“æ„å›¾\n\n8.3 ä»£ç \nclass Product {    List&lt;String&gt; parts = new ArrayList&lt;&gt;();    // æ·»åŠ äº§å“éƒ¨ä»¶    public void Add(String part) {        parts.add(part);    }    public void Show() {        // å±•ç¤ºæ‰€æœ‰äº§å“éƒ¨ä»¶    }}\ninterface Builder {    void BuildPartA();    void BuildPartB();    Product GetResult();}\nclass ConcreteBuilder implements Builder {    private Product product = new Product();    @override    public void BuilderPartA() {        product.Add(\"éƒ¨ä»¶A\");    }    @override    public void BuilderPartB() {        product.Add(\"éƒ¨ä»¶B\");    }    @override    public Product GetResult() {        return product;    }}\nclass Director {    public void Construct(Builder builder) {        builder.BuildPartA();        builder.BuildPartB();    }}\n8.4 æ€»ç»“\nä¸»è¦æ˜¯ç”¨äºåˆ›å»ºä¸€äº›å¤æ‚çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å†…éƒ¨æ„å»ºé—´çš„å»ºé€ é¡ºåºé€šå¸¸æ˜¯ç¨³å®šçš„ï¼Œä½†å¯¹è±¡å†…éƒ¨çš„æ„å»ºé€šå¸¸é¢ä¸´ç€å¤æ‚çš„å˜åŒ–ã€‚\n9 è§‚å¯Ÿè€…æ¨¡å¼\n9.1 å®šä¹‰\nè§‚å¯Ÿè€…æ¨¡å¼ï¼šä¹Ÿå«åšå‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ï¼Œè¿™ä¸ªä¸»é¢˜å¯¹è±¡åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚\n9.2 ç»“æ„å›¾\n\n","tags":["è®¾è®¡æ¨¡å¼"]}]